<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>executor.master: RexxMemory.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!--
    Removed completely the TITLEAREA because I don't like the loss of space.
    I want the title in the condensed index (tabs) at top of each HTML page.
    The insertion of the title is managed by javascript code in the footer,
    because this code must be executed AFTER the creation of the condensed index.
    Must have this setting to display the condensed index:
    DISABLE_INDEX = NO
-->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_rexx_memory_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RexxMemory.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_rexx_memory_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* Copyright (c) 1995, 2004 IBM Corporation. All rights reserved.             */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/* Copyright (c) 2005-2009 Rexx Language Association. All rights reserved.    */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/* This program and the accompanying materials are made available under       */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/* the terms of the Common Public License v1.0 which accompanies this         */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/* distribution. A copy is also available at the following address:           */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/* http://www.oorexx.org/license.html                          */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/* Redistribution and use in source and binary forms, with or                 */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* without modification, are permitted provided that the following            */</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/* conditions are met:                                                        */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/* Redistributions of source code must retain the above copyright             */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer.              */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* Redistributions in binary form must reproduce the above copyright          */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer in            */</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/* the documentation and/or other materials provided with the distribution.   */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/* Neither the name of Rexx Language Association nor the names                */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* of its contributors may be used to endorse or promote products             */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/* derived from this software without specific prior written permission.      */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS        */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT          */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS          */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/* FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT   */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,      */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED   */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/* TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,        */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY     */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING    */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS         */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.               */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/* Kernel                                                     RexxMemory.cpp  */</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/* Memory Object                                                              */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_core_8h.html">RexxCore.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_memory_8hpp.html">RexxMemory.hpp</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_stack_class_8hpp.html">StackClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_string_class_8hpp.html">StringClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_mutable_buffer_class_8hpp.html">MutableBufferClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_directory_class_8hpp.html">DirectoryClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_activity_8hpp.html">RexxActivity.hpp</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_integer_class_8hpp.html">IntegerClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_array_class_8hpp.html">ArrayClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_table_class_8hpp.html">TableClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_activation_8hpp.html">RexxActivation.hpp</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_activity_manager_8hpp.html">ActivityManager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_message_class_8hpp.html">MessageClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_method_class_8hpp.html">MethodClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_relation_class_8hpp.html">RelationClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_supplier_class_8hpp.html">SupplierClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_pointer_class_8hpp.html">PointerClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_buffer_class_8hpp.html">BufferClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_package_class_8hpp.html">PackageClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_weak_reference_class_8hpp.html">WeakReferenceClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_stack_frame_class_8hpp.html">StackFrameClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_block_class_8hpp.html">BlockClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_interpreter_8hpp.html">Interpreter.hpp</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;SystemInterpreter.hpp&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_interpreter_8hpp.html">Interpreter.hpp</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_package_manager_8hpp.html">PackageManager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;SysFileSystem.hpp&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_uninit_dispatcher_8hpp.html">UninitDispatcher.hpp</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_global_protected_object_8hpp.html">GlobalProtectedObject.hpp</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">// restore a class from its</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">// associated primitive behaviour</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">// (already restored by memory_init)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">   79</a></span>&#160;<span class="preprocessor">#define RESTORE_CLASS(name, className) The##name##Class = (className *)RexxBehaviour::getPrimitiveBehaviour(T_##name)-&gt;restoreClass();</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="_rexx_memory_8cpp.html#a24076bfa8f0a90a7202538b1e05ae088">   82</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="_rexx_memory_8cpp.html#a24076bfa8f0a90a7202538b1e05ae088">SysAccessPool</a>(<a class="code" href="class_memory_segment_pool.html">MemorySegmentPool</a> **pool);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/* NOTE:  There is just a single memory object in global storage.  We&#39;ll define      */</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/* memobj to be the direct address of this memory object.                            */</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">   85</a></span>&#160;<a class="code" href="class_rexx_memory.html">RexxMemory</a> <a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="_rexx_memory_8cpp.html#ab1ab5cca44a1e8a598d8958d155586aa">   87</a></span>&#160;<span class="preprocessor">#define LiveStackSize  16370         </span><span class="comment">/* live stack size                   */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="_rexx_memory_8cpp.html#a0e8424ed703355ce1fec17288824fc24">   89</a></span>&#160;<span class="preprocessor">#define SaveStackSize 10             </span><span class="comment">/* newly created objects to save */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="_rexx_memory_8cpp.html#a74403b0d13c3e38b90012eee5f2b81c5">   90</a></span>&#160;<span class="preprocessor">#define SaveStackAllocSize 500       </span><span class="comment">/* pre-allocation for save stack  */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="_rexx_memory_8cpp.html#a4f34aa35780f5dbe9de37ca48aa83b07">   92</a></span>&#160;<span class="preprocessor">#define MaxImageSize 1800000         </span><span class="comment">/* maximum startup image size */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *<a class="code" href="class_rexx_memory.html#a344d05d1aa6e523b7294e5bcc85570b5">RexxMemory::globalStrings</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *<a class="code" href="class_rexx_memory.html#a0aec46d5bb55131444088b9841337c6d">RexxMemory::environment</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;       <span class="comment">// global environment</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *<a class="code" href="class_rexx_memory.html#a0008e02a719d42e6c313200e26061710">RexxMemory::functionsDir</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;      <span class="comment">// statically defined requires</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *<a class="code" href="class_rexx_memory.html#ab681e8d74755d3db22afea34929a3a3f">RexxMemory::commonRetrievers</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *<a class="code" href="class_rexx_memory.html#ace912660ede60ba765cc6648a225c97a">RexxMemory::kernel</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *<a class="code" href="class_rexx_memory.html#a75324c8465e6b3895047ec6857a34453">RexxMemory::system</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">// locks for the memory process access</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<a class="code" href="class_sys_mutex.html">SysMutex</a> <a class="code" href="class_rexx_memory.html#ad217209fb954ffaca59c42f4970a0131">RexxMemory::flattenMutex</a>(<span class="stringliteral">&quot;RexxMemory::flattenMutex&quot;</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<a class="code" href="class_sys_mutex.html">SysMutex</a> <a class="code" href="class_rexx_memory.html#a41cf314cf8314b5ad7cb0bdbdf85b156">RexxMemory::unflattenMutex</a>(<span class="stringliteral">&quot;RexxMemory::unflattenMutex&quot;</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<a class="code" href="class_sys_mutex.html">SysMutex</a> <a class="code" href="class_rexx_memory.html#a90fb5513ba3b8500b1cebac03f2a83f9">RexxMemory::envelopeMutex</a>(<span class="stringliteral">&quot;RexxMemory::envelopeMutex&quot;</span>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">  106</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(FILE *outfile, <span class="keyword">const</span> <span class="keywordtype">char</span> *message, ...)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    va_list args;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    va_start(args, message);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    vprintf(message, args);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">if</span> (outfile != NULL) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        vfprintf(outfile, message, args);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    va_end(args);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#aeb5622fe963bc6646c36aae7b0514e57">  118</a></span>&#160;<a class="code" href="class_rexx_memory.html#aeb5622fe963bc6646c36aae7b0514e57">RexxMemory::RexxMemory</a>()</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">/* Function: Main Constructor for Rexxmemory, called once during main         */</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/*  initialization.  Will create the initial memory Pool(s), etc.             */</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">/* we need to set a valid size for this object.  We round it up */</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">/* to the minimum allocation boundary, even though that might be */</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">/* a lie.  Since this never participates in a sweep operation, */</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">/* this works ok in the end. */</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    this-&gt;<a class="code" href="class_rexx_internal_object.html#a51e65b7026500d614d6829079208c62f">setObjectSize</a>(<a class="code" href="_rexx_memory_8hpp.html#a70e15a1fc8e9370b35576f15fe153a24">roundObjectBoundary</a>(<span class="keyword">sizeof</span>(<a class="code" href="class_rexx_memory.html">RexxMemory</a>)));</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// our first pool is the current one</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a> = <a class="code" href="class_rexx_memory.html#a1211e74cc6e4b9b7e332d1ac80319382">firstPool</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">/* make sure we hand craft memory&#39;s  */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">/*  header information.              */</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">/* See if we want this debug info    */</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">/*or not by default, its always      */</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">/*setable from OREXX code.           */</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor">#ifdef CHECKOREFS</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a492c698f2255e6180d1a807bddd95060">orphanCheck</a> = <span class="keyword">true</span>;            <span class="comment">/* default value for OREF checking   */</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a492c698f2255e6180d1a807bddd95060">orphanCheck</a> = <span class="keyword">false</span>;           <span class="comment">/* default value for OREF checking   */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">/* OR&#39;ed into object headers to      */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">/*mark                               */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a> = 1;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">/* objects as being alive in mark    */</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">/*phase                              */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">saveStack</a> = NULL;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#ab7381c381eeeb9909610ab59f4ac9527">saveTable</a> = NULL;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a796e180e28102056c4dabf48ded84db8">dumpEnable</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a9d8653be9f538214b25068b12a648bcb">objOffset</a> = 0;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#ab28b0f134bbf54d275020bf292e0f872">envelope</a> = NULL;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// we always start out with an empty list.  WeakReferences that are in the</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// saved image will (MUST) never be set to a new value, so it&#39;s not necessary</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// to hook those back up again.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="class_rexx_memory.html#a30f0a959142a6551a69f1bd3a2dfe44a">weakReferenceList</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"> * Initialize the memory object, including getting the</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"> * initial memory pool allocations.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"> * @param restoringImage</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> *               True if we are initializing during an image restore, false</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"> *               if we need to build the initial image environemnt (i.e., called</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"> *               via rexximage during a build).</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"> * @param imageTarget</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"> *               The location to store the image if this is a save operation.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a26ece86339bc7d674a7fd3adcb7ea76f">  172</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a26ece86339bc7d674a7fd3adcb7ea76f">RexxMemory::initialize</a>(<span class="keywordtype">bool</span> restoringImage, <span class="keyword">const</span> <span class="keywordtype">char</span> *imageTarget)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">/* Function:  Gain access to all Pools                                        */</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">/* access 1st pool directly. SysCall */</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">/* Did the pool exist?               */</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="class_rexx_memory.html#a1211e74cc6e4b9b7e332d1ac80319382">firstPool</a> = <a class="code" href="class_memory_segment_pool.html#ae3e43574f963a6fe934409f8eaf248d5">MemorySegmentPool::createPool</a>();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a> = <a class="code" href="class_rexx_memory.html#a1211e74cc6e4b9b7e332d1ac80319382">firstPool</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="class_rexx_memory.html#ac613b306e1989e04bdd7689146190841">disableOrefChecks</a>();                 <span class="comment">/* Make sure we don&#39;t try to validate*/</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                         <span class="comment">/*  OrefSets just yet.               */</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                         <span class="comment">/* Make sure memory is fully         */</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                                         <span class="comment">/*constructed, mainlyt a concern on  */</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                         <span class="comment">/*2nd entry and DLL not unloaded.    */</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keyword">new</span> (<span class="keyword">this</span>) <a class="code" href="class_rexx_memory.html">RexxMemory</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">new</span> (&amp;<a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>) <a class="code" href="class_normal_segment_set.html">NormalSegmentSet</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">new</span> (&amp;<a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>) <a class="code" href="class_large_segment_set.html">LargeSegmentSet</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">/* and the new/old Space segments    */</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">new</span> (&amp;<a class="code" href="class_rexx_memory.html#a7c461ee25a4be7a560599735331cc784">oldSpaceSegments</a>) <a class="code" href="class_old_space_segment_set.html">OldSpaceSegmentSet</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="class_rexx_memory.html#a8d15310b9b01749be05b104dda03fdcd">collections</a> = 0;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="class_rexx_memory.html#aaf0682e9d4c0fe503689fac1dd46c7be">allocations</a> = 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="class_rexx_memory.html#a67cc8cf866c187d710946db7deb6fda1">variableCache</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="class_rexx_memory.html#a344d05d1aa6e523b7294e5bcc85570b5">globalStrings</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// get our table of virtual functions setup first thing.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="class_rexx_memory.html#a92e359674d365404c25a3b996f139295">buildVirtualFunctionTable</a>();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">/* NOTE: we don&#39;t set livestack      */</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">/*via the  OrefSet macro, since we   */</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">/*are so early on in the system,     */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">/*that we can&#39;t use it right now,    */</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">/*we will fix this all               */</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a> = (<a class="code" href="class_rexx_stack.html">RexxStack</a> *)<a class="code" href="class_rexx_memory.html#a7c461ee25a4be7a560599735331cc784">oldSpaceSegments</a>.<a class="code" href="class_old_space_segment_set.html#a56a063e3219e4ae6a53f354adaeddcf0">allocateObject</a>(<a class="code" href="_memory_segment_8hpp.html#aec82a516be9adda0d1f0d9b05b480d49">SegmentDeadSpace</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">/* remember the original one         */</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="class_rexx_memory.html#ae24fd85a2949ae14ea06c029588f6aed">originalLiveStack</a> = <a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a49ffa85e5b28030fdd6e02f2a7603d84">restoringImage</a>)                 <span class="comment">/* restoring the image?              */</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="class_rexx_memory.html#a1fb3ae0c8234653036c46b21e3e6d8e5">restoreImage</a>();                  <span class="comment">/* do it now...                      */</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">/* set memories behaviour */</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>.<a class="code" href="class_rexx_internal_object.html#a154bb75847091becfebd0c3259a1a92c">setBehaviour</a>(<a class="code" href="_primitive_behaviour_names_8h.html#a514232038f6cb0e94fbd7f9a429b3dc0">TheMemoryBehaviour</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">/* initial marktable value is        */</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">/* TheKernel                         */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a1b7e2e74116ea0aca24ccf72b0ab2852">markTable</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;         <span class="comment">/* fix by CHM/Rick: set initial table*/</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                                         <span class="comment">/* to NULL since TheKernel could     */</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                         <span class="comment">/* point to an invalid memory address*/</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                         <span class="comment">/* if one OREXX session is started   */</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                         <span class="comment">/* while another one is closed       */</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">/* make sure we have an inital segment set to allocate from. */</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_normal_segment_set.html#a6a863dffe8483a6d557016748c9cc117">getInitialSet</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">// get the initial uninit table</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a> = <a class="code" href="_identity_table_class_8hpp.html#a5fdeaa4bdd19056b2d8704d0a60165ab">new_identity_table</a>();</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// is this image creation?  This will build and save the image, then</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// terminate</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (!restoringImage)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="class_rexx_memory.html#a3796e23515a5c43e8b50c4af94e8abb0">createImage</a>(imageTarget);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="class_rexx_memory.html#ac5b54e9e6c509999412f41775b4e1ef0">restore</a>();                           <span class="comment">// go restore the state of the memory object</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#afb90b21d50cdf18ce3e1cfd4bd3dfb31">  243</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#afb90b21d50cdf18ce3e1cfd4bd3dfb31">RexxMemory::logVerboseOutput</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *message, <span class="keywordtype">void</span> *sub1, <span class="keywordtype">void</span> *sub2)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">/* Function:  Log verbose output events                                       */</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(NULL, message, sub1, sub2);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a67165dc2a85345d56abd099da7342238">  251</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a67165dc2a85345d56abd099da7342238">RexxMemory::dumpMemoryProfile</a>()</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    FILE *outFile;                       <span class="comment">/* memory stat output file           */</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    outFile = fopen(<span class="stringliteral">&quot;memory.prf&quot;</span>,<span class="stringliteral">&quot;wb&quot;</span>);  <span class="comment">/* open the file                     */</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">/* have each of the memory segments dump their own profile information */</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_normal_segment_set.html#a55a5c1a67d650232679a397e0f7caec4">dumpMemoryProfile</a>(outFile);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>.<a class="code" href="class_large_segment_set.html#a4005ec9219573b25a608488f5a066654">dumpMemoryProfile</a>(outFile);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    fclose(outFile);                     <span class="comment">/* close the file                    */</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#acd7bb15742db44f1a4ac392310063529">  263</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#acd7bb15742db44f1a4ac392310063529">RexxMemory::dumpObject</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *objectRef, FILE *outfile)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">/* Arguments:  none,                                                          */</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">/*  Function: Dump out the contents of an object, to screen and optionally    */</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">/*       a file.                                                              */</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordtype">void</span>    **dmpPtr;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordtype">void</span>    **ObjEnd;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    ObjEnd = (<span class="keywordtype">void</span>    **)((<span class="keywordtype">char</span> *)objectRef + objectRef-&gt;<a class="code" href="class_rexx_internal_object.html#a035eb8bf67ca1b43d4238e806a0db0a0">getObjectSize</a>());</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">for</span> (dmpPtr = (<span class="keywordtype">void</span> **)objectRef; dmpPtr &lt;= ObjEnd ; dmpPtr++)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot;  &gt;Parent Dump --&gt;%p   %p   %p   %p \n&quot;</span>, *dmpPtr, *(dmpPtr+1), *(dmpPtr+2), *(dmpPtr+3));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a50b408dd86d2400b1c0ecbe5dfbe5391">  281</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_rexx_memory.html#a50b408dd86d2400b1c0ecbe5dfbe5391">RexxMemory::inSharedObjectStorage</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *<span class="keywordtype">object</span>)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">/* Arguments:  Any OREF                                                       */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">/*  Returned:  true if object is in object storage, else false                */</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">/* 1st Check Old Space. */</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a7c461ee25a4be7a560599735331cc784">oldSpaceSegments</a>.<a class="code" href="class_memory_segment_set.html#a0e6afa99cf3a295f845aeb5312c9e133">isInSegmentSet</a>(<span class="keywordtype">object</span>))</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">/* Now Check New Space.              */</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_memory_segment_set.html#a0e6afa99cf3a295f845aeb5312c9e133">isInSegmentSet</a>(<span class="keywordtype">object</span>))</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">/* Now Check New Space large segments*/</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>.<a class="code" href="class_memory_segment_set.html#a0e6afa99cf3a295f845aeb5312c9e133">isInSegmentSet</a>(<span class="keywordtype">object</span>))</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">/* this is bad, definitely very bad... */</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a9971e9afc60b79a1c6afc65cc0a62645">  311</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_rexx_memory.html#a9971e9afc60b79a1c6afc65cc0a62645">RexxMemory::inObjectStorage</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *<span class="keywordtype">object</span>)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">/* Arguments:  Any OREF                                                       */</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">/*  Returned:  true if object is in object storage, else false                */</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;{</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">/* check for a few valid locations in &#39;C&#39; storage                     */</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">object</span> &gt;= (<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="class_rexx_behaviour.html#a998cf81fb71d4018421c23428694144b">RexxBehaviour::getPrimitiveBehaviour</a>(0) &amp;&amp; <span class="keywordtype">object</span> &lt;= (<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="class_rexx_behaviour.html#a998cf81fb71d4018421c23428694144b">RexxBehaviour::getPrimitiveBehaviour</a>(<a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a38458980166ed9f75ce161e1a24110b9">T_Last_Class_Type</a>)) ||</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        (<span class="keywordtype">object</span> == (<a class="code" href="class_rexx_object.html">RexxObject</a> *)<span class="keyword">this</span>))</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_rexx_memory.html#a50b408dd86d2400b1c0ecbe5dfbe5391">inSharedObjectStorage</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">/* object validation method --used to find and diagnose broken object references       */</span></div>
<div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a2000daee5aacc43dc6504ad25ca84c2c">  330</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_rexx_memory.html#a2000daee5aacc43dc6504ad25ca84c2c">RexxMemory::objectReferenceOK</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *o)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">/* Function:  Object validation...used to find and diagnose broken object     */</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">/* references.                                                                */</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_rexx_memory.html#a9971e9afc60b79a1c6afc65cc0a62645">inObjectStorage</a>(o))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="class_rexx_behaviour.html">RexxBehaviour</a> *<a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a> = o-&gt;<a class="code" href="class_rexx_internal_object.html#afeb574e7fe835f29d6e527e804f57bb5">getObjectType</a>();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a9971e9afc60b79a1c6afc65cc0a62645">inObjectStorage</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>) &amp;&amp; <a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>-&gt;getObjectType() == <a class="code" href="_primitive_behaviour_names_8h.html#a53c81562afc336703f0492689d6cf6cd">TheBehaviourBehaviour</a>)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">/* these last two checks are for very early checking...we can */</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">/* possibly be testing this before TheBehaviourBehaviour is */</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">/* set up, so we have two additional means of verifying the */</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">/* behaviour object. */</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>-&gt;isObjectType(<a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a6a6067d86a56599f85e4f399479609e5">T_Behaviour</a>) || <a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a> == <a class="code" href="class_rexx_behaviour.html#a998cf81fb71d4018421c23428694144b">RexxBehaviour::getPrimitiveBehaviour</a>(<a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a6a6067d86a56599f85e4f399479609e5">T_Behaviour</a>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a07f5f768d71efb21f9be9cdd71213def">  353</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a07f5f768d71efb21f9be9cdd71213def">RexxMemory::markObjectsMain</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *rootObject)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">/* Function:  Main memory_mark driving loop                                   */</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// for some of the root objects, we get called to mark them before they get allocated.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// make sure we don&#39;t process any null references.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span> (rootObject == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *markObject;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// set up the live marking word passed to the live() routines</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">size_t</span> liveMark = <a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a> | <a class="code" href="_object_class_8hpp.html#adc29c2ff13d900c2f185ee95427fb06ca36b9c3da457fb9e7513f08a7d14b1180">OldSpaceBit</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="class_rexx_memory.html#aaf0682e9d4c0fe503689fac1dd46c7be">allocations</a> = 0;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(<a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>);            <span class="comment">/* push a unique terminator          */</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="class_rexx_memory.html#a06ed16bd87bcd45b8ddff52105b9dfee">mark</a>(rootObject);                    <span class="comment">/* OREF_ENV or old2new               */</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">for</span> (markObject = <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        markObject != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;        <span class="comment">/* test for unique terminator        */</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        markObject = <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>())</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="comment">/* mark behaviour live               */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)markObject-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="comment">/* Mark other referenced obj.  We can do this without checking */</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="comment">/* the references flag because we only push the object on to */</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="comment">/* the stack if it has references. */</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="class_rexx_memory.html#aaf0682e9d4c0fe503689fac1dd46c7be">allocations</a>++;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        markObject-&gt;<a class="code" href="class_rexx_object.html#a345bce4aed59a1207228d6d3fef20220">live</a>(liveMark);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a4f91da9a636e73130f1a0247a82fc9f2">  388</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="class_rexx_memory.html#a4f91da9a636e73130f1a0247a82fc9f2">RexxMemory::killOrphans</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *rootObject)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">/* Function:  Garbage collection validity check routine                       */</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;{</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// for some of the root objects, we get called to mark them before they get allocated.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// make sure we don&#39;t process any null references.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (rootObject == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *mref;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="class_rexx_memory.html#af4aadcad43e9f834b801c52347d4e108">markReason</a> = <a class="code" href="_rexx_memory_8hpp.html#adf764cbdea00d65edcd07bb9953ad2b7aa5b87350e0d3adfd388e8fb69d1c8177">LIVEMARK</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">/* This is the debugging mark code that traverses the object tree from          */</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">/* OREF_ENV, verifying that the objects and their OREFs look OK, specifically   */</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">/* that each one is in object storage, and has a behaviour whose behaviour      */</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="comment">/* is OREF_BEHAV_B, behaviour&#39;s behaviour.                                      */</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">/* push a unique terminator          */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(<a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="comment">/*Push an extra marktable            */</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(rootObject);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(rootObject);     <span class="comment">/* start from the very tip-top       */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>);   <span class="comment">/* use .nil to mark the stack        */</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                         <span class="comment">/* mark .nil behaviour live          */</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>-&gt;behaviour);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">/* mark .nil ovds      live          */</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>-&gt;objectVariables);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">for</span> (mref = <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        mref != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;              <span class="comment">/* test for unique terminator        */</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="comment">/* get the next marked item          */</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        mref = <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>())</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="comment">/* OREF_NIL is used as a marker on the stack.  These markers will be used to  */</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="comment">/* recreate the ancestry of any broken object found.  At this point though,   */</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="comment">/* finding one indicates that we&#39;ve already marked all of the descendants of  */</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="comment">/* the object just below the OREF_NIL, so we&#39;ll leave the OREF_NIL popped,    */</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="comment">/* and pop off the parent object which is no longer of any interest.          */</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">if</span> (mref == <a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        {        <span class="comment">/* found a marker                    */</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                 <span class="comment">/* pop off the completed parent      */</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">continue</span>;                       <span class="comment">/* and back to top of loop           */</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="comment">/* mark behaviour live               */</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(mref-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="comment">/* object have any references?       */</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">if</span> (mref-&gt;<a class="code" href="class_rexx_internal_object.html#a66dac26647d4686e06dd66f083493a6c">hasReferences</a>())</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="comment">/* Though this guy is already marked, and as far as gc, we&#39;re done with him,    */</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="comment">/* we&#39;ll now push him back onto the livestack followed by an OREF_NIL marker.   */</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="comment">/* If we find an invalid object later, we&#39;ll be able to find all the ancestors  */</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="comment">/* by looking for the OREF_NIL objects on the livestack.                        */</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="comment">/* push the ancestor object          */</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(mref);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="comment">/* push an ancestor marker           */</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(<a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            mref-&gt;<a class="code" href="class_rexx_object.html#a97fdc2b0890a1d28107324c816c0a8aa">liveGeneral</a>(<a class="code" href="_rexx_memory_8hpp.html#adf764cbdea00d65edcd07bb9953ad2b7aa5b87350e0d3adfd388e8fb69d1c8177">LIVEMARK</a>);    <span class="comment">/* tell the ancestor to mark his kids*/</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }                                  <span class="comment">/* object have any references?      */</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#af1582f11405e8942314c1fcdba4a055d">  453</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#af1582f11405e8942314c1fcdba4a055d">RexxMemory::checkUninit</a>()</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">/* we might not actually have a table yet, so make sure we check */</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">/* before using it. */</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a> == NULL)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *uninitObject;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">/* table and any object is isn&#39;t   */</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">/* alive, we indicate it should be */</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">/* sent unInit.  We indiacte this  */</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">/* by setting the value to 1,      */</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">/* instead of NIL (the default)    */</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="_rexx_hash_table_8hpp.html#a5a35ccbe82381c822b658d60fdaaa980">HashLink</a> i = <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#af0e5b6bbd85fc0930840c4c5f29e334a">first</a>(); (uninitObject = <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a82457e66cf92a22b2fb331c83dd03a93">index</a>(i)) != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>; i = <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a08f9fb724d737a2e6767b8af11bdc285">next</a>(i))</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="comment">/* is this object now dead?        */</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">if</span> (uninitObject-&gt;<a class="code" href="class_rexx_internal_object.html#ac2985a59a55bb9b00f6f94613138b514">isObjectDead</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>))</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="comment">/* yes, indicate object is to be   */</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="comment">/*  sent uninit.                   */</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_table.html#ab01119338965fb6ba726b3074a531046">replace</a>(<a class="code" href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a>, i);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <a class="code" href="class_rexx_memory.html#a1d2b8b494fa17baef5effb393d1d6117">pendingUninits</a>++;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> * Force a last-gasp garbage collection and running of the</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> * uninits during interpreter instance shutdown.  This is an</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> * attempt to ensure that all objects with uninit methods get</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> * a chance to clean up prior to termination.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a80ff470f36e40f195f8e1291fed899a9">  491</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a80ff470f36e40f195f8e1291fed899a9">RexxMemory::collectAndUninit</a>(<span class="keywordtype">bool</span> clearStack)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;{</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// clear the save stack if we&#39;re working with a single instance</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (clearStack)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="class_rexx_memory.html#abb9990d4649009806054093012062d8b">clearSaveStack</a>();</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="class_rexx_memory.html#a086abfcb645a1aa742913e359b070282">collect</a>();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;Calling runUninits from RexxMemory::collectAndUninit\n&quot;</span>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="class_rexx_memory.html#a9ec212b182cebb2f6c0631dbdaada625">runUninits</a>();</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"> * Force a last-gasp garbage collection and running of the</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"> * uninits during interpreter instance shutdown.  This is an</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"> * attempt to ensure that all objects with uninit methods get</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"> * a chance to clean up prior to termination.</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ada93d88f89ad181ce508779c2a586b79">  510</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#ada93d88f89ad181ce508779c2a586b79">RexxMemory::lastChanceUninit</a>()</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;{</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">// collect and run any uninits still pending</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="class_rexx_memory.html#a80ff470f36e40f195f8e1291fed899a9">collectAndUninit</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// we&#39;re about to start releasing libraries, so it is critical</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// we don&#39;t run any more uninits after this</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a453cdd340a3d716c1dd068aae149af76">empty</a>();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a9ec212b182cebb2f6c0631dbdaada625">  520</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="class_rexx_memory.html#a9ec212b182cebb2f6c0631dbdaada625">RexxMemory::runUninits</a>()</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">/* Function:  Run any UNINIT methods for this activity                        */</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">/* NOTE: The routine to iterate across uninit Table isn&#39;t quite right, since  */</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">/*  the removal of zombieObj may move another zombieObj and then doing        */</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">/*  the next will skip this zombie, we should however catch it next time      */</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">/*  through.                                                                  */</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> * zombieObj;              <span class="comment">/* obj that needs uninit run.        */</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="_rexx_hash_table_8hpp.html#a5a35ccbe82381c822b658d60fdaaa980">HashLink</a> iterTable;                  <span class="comment">/* iterator for table.               */</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;Entering runUninits\n&quot;</span>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">/* if we&#39;re already processing this, don&#39;t try to do this */</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">/* recursively. */</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a4782fd8d0d21f0b41a21be0ff6c71c42">processingUninits</a>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;Leaving runUninits immediatly because recursive call\n&quot;</span>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">/* turn on the recursion flag, and also zero out the count of */</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="comment">/* pending uninits to run */</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="class_rexx_memory.html#a4782fd8d0d21f0b41a21be0ff6c71c42">processingUninits</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordtype">size_t</span> pendingUninits_onEntry = <a class="code" href="class_rexx_memory.html#a1d2b8b494fa17baef5effb393d1d6117">pendingUninits</a>; <span class="comment">// for verbose message when leaving</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="class_rexx_memory.html#a1d2b8b494fa17baef5effb393d1d6117">pendingUninits</a> = 0;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="comment">// get the current activity for running the uninits</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="class_rexx_activity.html">RexxActivity</a> *activity = <a class="code" href="class_activity_manager.html#ac83df72deadb70e0627ba98a79ac51df">ActivityManager::currentActivity</a>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">/* uninitTabe exists, run UNINIT     */</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">for</span> (iterTable = <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#af0e5b6bbd85fc0930840c4c5f29e334a">first</a>();</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        (zombieObj = <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a82457e66cf92a22b2fb331c83dd03a93">index</a>(iterTable)) != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="comment">// TODO:  Ther&#39;s a bug here.  Removing the object can cause the</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="comment">// iterator to skip over an entry....something should be done to</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">// prevent this.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="comment">/* is this object readyfor UNINIT?   */</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a039816d886e8f7d1b1899341bbdc2e0a">value</a>(iterTable) == <a class="code" href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a>)</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="comment">/* make sure we don&#39;t recurse        */</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_identity_table.html#a36a69159244f9d641e67b42dfe99896d">put</a>(<a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a>, zombieObj);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <span class="comment">// run this method with appropriate error trapping</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;Calling uninit for object %s:%u\n&quot;</span>,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                               zombieObj-&gt;<a class="code" href="class_rexx_object.html#ae1a080cc874c430c1353801fbcacc00f">classObject</a>()-&gt;<a class="code" href="class_rexx_class.html#adf68a3cc9a9953bbbe1fd9f8bd1ae408">getId</a>()-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>(),</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                               zombieObj-&gt;<a class="code" href="class_rexx_internal_object.html#af14e510069c3a6ce2612bf396c953b47">identityHash</a>());</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                <a class="code" href="class_uninit_dispatcher.html">UninitDispatcher</a> dispatcher(zombieObj);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                activity-&gt;<a class="code" href="class_rexx_activity.html#ab34da681c5e89622446b0f868e49fa10">run</a>(dispatcher);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                                           <span class="comment">/* remove zombie from uninit table   */</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_identity_table.html#aa71298bce9f640e947d3cc48f6eb33d7">remove</a>(zombieObj);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="comment">// because we just did a remove operation, this will effect the iteration</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="comment">// process. There are two possibilities here.  Either A) we were at the end of the</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="comment">// chain and this is now an empty slot or B) the removal process moved an new item</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            <span class="comment">// into this slot.  If it is case A), then we need to search for the next item.  If</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="comment">// it is case B) we&#39;ll just leave the index alone and process this position again.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a82457e66cf92a22b2fb331c83dd03a93">index</a>(iterTable) == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                iterTable = <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a08f9fb724d737a2e6767b8af11bdc285">next</a>(iterTable);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            iterTable = <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a08f9fb724d737a2e6767b8af11bdc285">next</a>(iterTable);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }                                  <span class="comment">/* now go check next object in table */</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">/* make sure we remove the recursion protection */</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="class_rexx_memory.html#a4782fd8d0d21f0b41a21be0ff6c71c42">processingUninits</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;Leaving runUninits (was called when pendingUninits=%d)\n&quot;</span>, pendingUninits_onEntry);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a1a060cf9028039e1c082cbbb57edf353">  598</a></span>&#160;<span class="keywordtype">void</span>  <a class="code" href="class_rexx_memory.html#a1a060cf9028039e1c082cbbb57edf353">RexxMemory::removeUninitObject</a>(</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *obj)                   <span class="comment">/* object to remove                  */</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">/* Function:  Remove an object from the uninit tables                         */</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;{</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// just remove this object from the table</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_identity_table.html#aa71298bce9f640e947d3cc48f6eb33d7">remove</a>(obj);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a72a8a2326834ef6cbdf4976ad035c467">  609</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a72a8a2326834ef6cbdf4976ad035c467">RexxMemory::addUninitObject</a>(</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *obj)                   <span class="comment">/* object to add                     */</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">/* Function:  Add an object with an uninit method to the uninit table for     */</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">/*            a process                                                       */</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;{</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                                       <span class="comment">/* is object already in table?       */</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_identity_table.html#a69b70c0bc0e6bef5f5b37869793d4fb4">get</a>(obj) == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                                       <span class="comment">/* nope, add obj to uninitTable,     */</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                                       <span class="comment">/*  initial value is NIL             */</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;       <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_identity_table.html#a36a69159244f9d641e67b42dfe99896d">put</a>(<a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>, obj);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a5e52d011d852a1dde674254fe4637f4e">  626</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_rexx_memory.html#a5e52d011d852a1dde674254fe4637f4e">RexxMemory::isPendingUninit</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *obj)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">/* Function:  Test if an object is going to require its uninit method run.    */</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>-&gt;<a class="code" href="class_rexx_identity_table.html#a69b70c0bc0e6bef5f5b37869793d4fb4">get</a>(obj) != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a72f4c33e2f56fb96a1b186226ea0fd33">  635</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a72f4c33e2f56fb96a1b186226ea0fd33">RexxMemory::markObjects</a>()</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">/* Function:   Main mark routine for garbage collection.  This reoutine       */</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">/*  Determines which mark routine to call and does all additional processing  */</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;Beginning mark operation\n&quot;</span>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_memory.html#a492c698f2255e6180d1a807bddd95060">orphanCheck</a>)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    {             <span class="comment">/* debugging bad OREF&#39;s?             */</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                  <span class="comment">/* yup, call debugging mark          */</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        this-&gt;<a class="code" href="class_rexx_memory.html#a4f91da9a636e73130f1a0247a82fc9f2">killOrphans</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<span class="keyword">this</span>);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="comment">// now process the weak reference queue...We check this before the</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">// uninit list is processed so that the uninit list doesn&#39;t mark any of the</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="comment">// weakly referenced items.  We don&#39;t want an object placed on the uninit queue</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="comment">// to end up strongly referenced later.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <a class="code" href="class_rexx_memory.html#ace18b038b9c84e1bf61b435ea41b0396">checkWeakReferences</a>();</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        this-&gt;<a class="code" href="class_rexx_memory.html#af1582f11405e8942314c1fcdba4a055d">checkUninit</a>();               <span class="comment">/* flag all objects about to be dead */</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        this-&gt;<a class="code" href="class_rexx_memory.html#a4f91da9a636e73130f1a0247a82fc9f2">killOrphans</a>(<a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>);    <span class="comment">/* the uninit table                  */</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="comment">/* call normal,speedy,efficient mark */</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        this-&gt;<a class="code" href="class_rexx_memory.html#a07f5f768d71efb21f9be9cdd71213def">markObjectsMain</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<span class="keyword">this</span>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="comment">// now process the weak reference queue...We check this before the</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="comment">// uninit list is processed so that the uninit list doesn&#39;t mark any of the</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="comment">// weakly referenced items.  We don&#39;t want an object placed on the uninit queue</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="comment">// to end up strongly referenced later.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="class_rexx_memory.html#ace18b038b9c84e1bf61b435ea41b0396">checkWeakReferences</a>();</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        this-&gt;<a class="code" href="class_rexx_memory.html#af1582f11405e8942314c1fcdba4a055d">checkUninit</a>();               <span class="comment">/* flag all objects about to be dead */</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                                           <span class="comment">/* now mark the unInit table and the */</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        this-&gt;<a class="code" href="class_rexx_memory.html#a07f5f768d71efb21f9be9cdd71213def">markObjectsMain</a>(<a class="code" href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">uninitTable</a>);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">/* have to expand the live stack?    */</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a> != this-&gt;<a class="code" href="class_rexx_memory.html#ae24fd85a2949ae14ea06c029588f6aed">originalLiveStack</a>)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        free((<span class="keywordtype">void</span> *)this-&gt;<a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a>);     <span class="comment">/* release the old one               */</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                           <span class="comment">/* and set back to the original      */</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        this-&gt;liveStack = this-&gt;<a class="code" href="class_rexx_memory.html#ae24fd85a2949ae14ea06c029588f6aed">originalLiveStack</a>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;Mark operation completed\n&quot;</span>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">/* Function:  Scan the weak reference queue looking for either dead weak      */</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">/* objects or weak references that refer to objects that have gone out of     */</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">/* scope.  Objects with registered notification objects (that are still in    */</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">/* scope) will be moved to a notification queue, which is processed after     */</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">/* everything is scanned.                                                     */</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ace18b038b9c84e1bf61b435ea41b0396">  686</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#ace18b038b9c84e1bf61b435ea41b0396">RexxMemory::checkWeakReferences</a>()</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;{</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="class_weak_reference.html">WeakReference</a> *current = <a class="code" href="class_rexx_memory.html#a30f0a959142a6551a69f1bd3a2dfe44a">weakReferenceList</a>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">// list of &quot;live&quot; weak references...built while scanning</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <a class="code" href="class_weak_reference.html">WeakReference</a> *newList = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">// loop through the list</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">while</span> (current != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="comment">// we have to save the next one in the list</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="class_weak_reference.html">WeakReference</a> *next = current-&gt;<a class="code" href="class_weak_reference.html#ad060a698fef3109a072b89108d905798">nextReferenceList</a>;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="comment">// this reference still in scope?</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">if</span> (current-&gt;<a class="code" href="class_rexx_internal_object.html#a5c0ce096e06a4ed2bdf3173b38b80e08">isObjectLive</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>))</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <span class="comment">// keep this one in the list</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            current-&gt;<a class="code" href="class_weak_reference.html#ad060a698fef3109a072b89108d905798">nextReferenceList</a> = newList;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            newList = current;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="comment">// have a reference?</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            <span class="keywordflow">if</span> (current-&gt;<a class="code" href="class_weak_reference.html#a21dee94f9deb3bb61764e83b659b1e4a">referentObject</a> != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                <span class="comment">// if the object is not alive, null out the reference</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                <span class="keywordflow">if</span> (!current-&gt;<a class="code" href="class_weak_reference.html#a21dee94f9deb3bb61764e83b659b1e4a">referentObject</a>-&gt;<a class="code" href="class_rexx_internal_object.html#a5c0ce096e06a4ed2bdf3173b38b80e08">isObjectLive</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>))</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                    current-&gt;<a class="code" href="class_weak_reference.html#a21dee94f9deb3bb61764e83b659b1e4a">referentObject</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="comment">// step to the new nest item</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        current = next;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// update the list</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="class_rexx_memory.html#a30f0a959142a6551a69f1bd3a2dfe44a">weakReferenceList</a> = newList;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a08fe393988acf45fac70841c6724270e">  722</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a08fe393988acf45fac70841c6724270e">RexxMemory::addWeakReference</a>(<a class="code" href="class_weak_reference.html">WeakReference</a> *ref)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">/* Function:  Add a new weak reference to the tracking table                  */</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;{</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="comment">// just add this to the front of the list</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    ref-&gt;<a class="code" href="class_weak_reference.html#ad060a698fef3109a072b89108d905798">nextReferenceList</a> = <a class="code" href="class_rexx_memory.html#a30f0a959142a6551a69f1bd3a2dfe44a">weakReferenceList</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="class_rexx_memory.html#a30f0a959142a6551a69f1bd3a2dfe44a">weakReferenceList</a> = ref;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
<div class="line"><a name="l00733"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a49f20428166eb0eb71cf5c64ade44658">  733</a></span>&#160;<a class="code" href="class_memory_segment.html">MemorySegment</a> *<a class="code" href="class_rexx_memory.html#a49f20428166eb0eb71cf5c64ade44658">RexxMemory::newSegment</a>(<span class="keywordtype">size_t</span> requestedBytes, <span class="keywordtype">size_t</span> minBytes)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">/* Function:  Allocate a segment of the requested size.  The requested size   */</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">/* is the desired size, while the minimum is the absolute minimum we can      */</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">/* handle.  This takes care of the overhead accounting and additional         */</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">/* rounding.  The requested size is assumed to have been rounded up to the    */</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">/* next &quot;appropriate&quot; boundary already, and the segment overhead will be      */</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">/* allocated from that part, if possible.  Otherwise, and additional page is  */</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">/* added.                                                                     */</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;{</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="class_memory_segment.html">MemorySegment</a> *segment;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="preprocessor">#ifdef MEMPROFILE</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    printf(<span class="stringliteral">&quot;Allocating a new segment of %d bytes\n&quot;</span>, requestedBytes);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">/* first make sure we&#39;ve got enough space for the control */</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">/* information, and round this to a proper boundary */</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    requestedBytes = <a class="code" href="_memory_segment_8hpp.html#a8f62aa3cd5c5a0ae1eff3951ea1fd671">roundSegmentBoundary</a>(requestedBytes + <a class="code" href="_memory_segment_8hpp.html#a827d5656c218e9227654dd2c42e5fc12">MemorySegmentOverhead</a>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="preprocessor">#ifdef MEMPROFILE</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    printf(<span class="stringliteral">&quot;Allocating boundary a new segment of %d bytes\n&quot;</span>, requestedBytes);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">/*Get a new segment                  */</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    segment = <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a>-&gt;<a class="code" href="class_memory_segment_pool.html#aa84f0a84b484ddce6edb92b9cafabc9c">newSegment</a>(requestedBytes);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">/* Did we get a segment              */</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (segment == NULL)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="comment">/* Segmentsize is the minimum size request we handle.  If */</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="comment">/* minbytes is small, then we&#39;re just adding a segment to the */</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="comment">/* small pool.  Reduce the request to SegmentSize and try again. */</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="comment">/* For all other requests, try once more with the minimum. */</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        minBytes = <a class="code" href="_memory_segment_8hpp.html#a8f62aa3cd5c5a0ae1eff3951ea1fd671">roundSegmentBoundary</a>(minBytes + <a class="code" href="_memory_segment_8hpp.html#a827d5656c218e9227654dd2c42e5fc12">MemorySegmentOverhead</a>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="comment">/* try to allocate once more...if this fails, the caller will */</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="comment">/* have to handle it. */</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        segment = <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a>-&gt;<a class="code" href="class_memory_segment_pool.html#aa84f0a84b484ddce6edb92b9cafabc9c">newSegment</a>(minBytes);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">return</span> segment;                      <span class="comment">/* return the allocated segment      */</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a5dac31a980220f421b126995f78e26d6">  773</a></span>&#160;<a class="code" href="class_memory_segment.html">MemorySegment</a> *<a class="code" href="class_rexx_memory.html#a5dac31a980220f421b126995f78e26d6">RexxMemory::newLargeSegment</a>(<span class="keywordtype">size_t</span> requestedBytes, <span class="keywordtype">size_t</span> minBytes)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">/* Function:  Allocate a segment of the requested size.  The requested size   */</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">/* is the desired size, while the minimum is the absolute minimum we can      */</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">/* handle.  This takes care of the overhead accounting and additional         */</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">/* rounding.  The requested size is assumed to have been rounded up to the    */</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">/* next &quot;appropriate&quot; boundary already, and the segment overhead will be      */</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">/* allocated from that part, if possible.  Otherwise, and additional page is  */</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">/* added.                                                                     */</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;{</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="class_memory_segment.html">MemorySegment</a> *segment;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="comment">/* first make sure we&#39;ve got enough space for the control */</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="comment">/* information, and round this to a proper boundary */</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordtype">size_t</span> allocationBytes = <a class="code" href="_memory_segment_8hpp.html#a8f62aa3cd5c5a0ae1eff3951ea1fd671">roundSegmentBoundary</a>(requestedBytes + <a class="code" href="_memory_segment_8hpp.html#a827d5656c218e9227654dd2c42e5fc12">MemorySegmentOverhead</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">#ifdef MEMPROFILE</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    printf(<span class="stringliteral">&quot;Allocating large boundary new segment of %d bytes for request of %d\n&quot;</span>, allocationBytes, requestedBytes);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">/*Get a new segment                  */</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    segment = <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a>-&gt;<a class="code" href="class_memory_segment_pool.html#a2a0de1f9a2e15f1a8d8c0a07e48f9a9a">newLargeSegment</a>(allocationBytes);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">/* Did we get a segment              */</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordflow">if</span> (segment == NULL)</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="comment">/* Segmentsize is the minimum size request we handle.  If */</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="comment">/* minbytes is small, then we&#39;re just adding a segment to the */</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="comment">/* small pool.  Reduce the request to SegmentSize and try again. */</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="comment">/* For all other requests, try once more with the minimum. */</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        minBytes = <a class="code" href="_memory_segment_8hpp.html#a8f62aa3cd5c5a0ae1eff3951ea1fd671">roundSegmentBoundary</a>(minBytes + <a class="code" href="_memory_segment_8hpp.html#a827d5656c218e9227654dd2c42e5fc12">MemorySegmentOverhead</a>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="comment">/* try to allocate once more...if this fails, the caller will */</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="comment">/* have to handle it. */</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        segment = <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a>-&gt;<a class="code" href="class_memory_segment_pool.html#a2a0de1f9a2e15f1a8d8c0a07e48f9a9a">newLargeSegment</a>(minBytes);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="keywordflow">return</span> segment;                      <span class="comment">/* return the allocated segment      */</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;}</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a1fb3ae0c8234653036c46b21e3e6d8e5">  810</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a1fb3ae0c8234653036c46b21e3e6d8e5">RexxMemory::restoreImage</a>()</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">/* Function:  Restore a saved image to usefulness.                            */</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;{</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="comment">// Nothing to restore if we have a buffer already</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a> != NULL)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <a class="code" href="class_rexx_memory.html#af4aadcad43e9f834b801c52347d4e108">markReason</a> = <a class="code" href="_rexx_memory_8hpp.html#adf764cbdea00d65edcd07bb9953ad2b7a616602f628d1c90b4ef49d34ea01b820">RESTORINGIMAGE</a>;         <span class="comment">// we&#39;re doing an image restore</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="keywordtype">size_t</span> imagesize;                    <span class="comment">/* size of the image                 */</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordtype">char</span> *objectPointer, *endPointer;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="class_rexx_behaviour.html">RexxBehaviour</a> *imageBehav;           <span class="comment">/*behaviour of OP object in image    */</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <a class="code" href="class_rexx_array.html">RexxArray</a>  *primitiveBehaviours;     <span class="comment">/* saved array of behaviours         */</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordtype">size_t</span> primitiveTypeNum;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="comment">/* go load the image */</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <a class="code" href="class_system_interpreter.html#aad28955161a05fba1ea88a848b9d1aaa">SystemInterpreter::loadImage</a>(&amp;<a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a>, &amp;imagesize);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">/* get the relocation factor         */</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <a class="code" href="class_rexx_memory.html#aed597116ce13717985ee84edac84e07f">relocation</a> = (size_t)<a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a> - <span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    objectPointer = <a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a>;      <span class="comment">/* address the start of the image    */</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                                       <span class="comment">/* and the ending location           */</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    endPointer = <a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a> + imagesize;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="comment">/* the save Array is the 1st object  */</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <a class="code" href="class_rexx_array.html">RexxArray</a> *saveArray = (<a class="code" href="class_rexx_array.html">RexxArray</a> *)<a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="class_rexx_memory.html#af35247d4e3ff4fadcef9284c837b6115">restoreimage</a> = <span class="keyword">true</span>;               <span class="comment">/* we are now restoring              */</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                                       <span class="comment">/* loop through the image buffer     */</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">while</span> (objectPointer &lt; endPointer)</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160; </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="comment">/*Fixup Behaviour pointer for obj.   */</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="comment">/* We don&#39;t do an OrefSet here, since*/</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="comment">/* too early, and we don&#39;t need to be*/</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="comment">/* concerned about object in pbehav  */</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="comment">/* Retrieve the behaviour obj        */</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="comment">/* or a copy?                        */</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="keywordflow">if</span> (((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;<a class="code" href="class_rexx_internal_object.html#abd700c43a15c98749f72e68fd3099f81">isNonPrimitive</a>())</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <span class="comment">/* Working with a copy, don&#39;t use    */</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="comment">/* PBEHAV version.                   */</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            <span class="comment">/* Make sure static behaviour inf    */</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            <span class="comment">/* is resolved before using the      */</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="comment">/* Behaviour.                        */</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            imageBehav = (<a class="code" href="class_rexx_behaviour.html">RexxBehaviour</a> *)(<a class="code" href="class_rexx_memory.html#aed597116ce13717985ee84edac84e07f">relocation</a> + (<a class="code" href="windows_2rexxapitypes_8h.html#a2f338919cf0aa5c3d87df8096b8fa972">uintptr_t</a>)((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;behaviour);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="comment">/* give this object it behaviour.    */</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            ((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a> = (<a class="code" href="class_rexx_behaviour.html">RexxBehaviour</a> *)imageBehav;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;            primitiveTypeNum = imageBehav-&gt;<a class="code" href="class_rexx_behaviour.html#af217f748df975dbc4e3b220b6a12efff">getClassType</a>();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <span class="comment">// the original behaviour pointer has been encoded as a type number and class</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="comment">// category to allow us to convert back to the appropriate type.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            ((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;behaviour = <a class="code" href="class_rexx_behaviour.html#a08371f18f68f33860518c972d58f5253">RexxBehaviour::restoreSavedPrimitiveBehaviour</a>(((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            primitiveTypeNum = ((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;behaviour-&gt;getClassType();</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="comment">/* This will be an OldSpace object.  We delay setting this */</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="comment">/* until now, because the oldspace bit is overloaded with the */</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <span class="comment">/* NonPrimitive bit.  Since the we are done with the */</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="comment">/* non-primitive bit now, we can use this for the oldspace */</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="comment">/* flag too. */</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        ((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;setOldSpace();</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="comment">/* Force fix-up of                   */</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="comment">/*VirtualFunctionTable,              */</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        ((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;setVirtualFunctions(<a class="code" href="class_rexx_memory.html#a4e11c24c5bab1614b3ab98b30d87db63">virtualFunctionTable</a>[primitiveTypeNum]);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="comment">/* Do this object have any           */</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="comment">/*references?                        */</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="keywordflow">if</span> (((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;<a class="code" href="class_rexx_internal_object.html#a66dac26647d4686e06dd66f083493a6c">hasReferences</a>())</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            <span class="comment">/*  Yes, mark other referenced objs  */</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            ((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;<a class="code" href="class_rexx_memory.html#a993ae1de052193dc370e1118a43ff7a3">liveGeneral</a>(<a class="code" href="_rexx_memory_8hpp.html#adf764cbdea00d65edcd07bb9953ad2b7a616602f628d1c90b4ef49d34ea01b820">RESTORINGIMAGE</a>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="comment">/* Point to next object in image..   */</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        objectPointer += ((<a class="code" href="class_rexx_object.html">RexxObject</a> *)objectPointer)-&gt;getObjectSize();</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="class_rexx_memory.html#af35247d4e3ff4fadcef9284c837b6115">restoreimage</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">/* OREF_ENV is the first element of  */</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="comment">/*array                              */</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="_rexx_core_8h.html#a5cca156bba2a1784fd5dee960ab2fb37">TheEnvironment</a> = (<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a255c6fc16b7df68e134d926d9050dbd2">saveArray_ENV</a>);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="comment">/* get the primitive behaviours      */</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    primitiveBehaviours = (<a class="code" href="class_rexx_array.html">RexxArray</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a719692e80fe684799f7a1c9584f221fd">saveArray_PBEHAV</a>);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">/* restore all of the saved primitive*/</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt;= <a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a5df2c9bc873422800495681c3f8c2b4a">T_Last_Exported_Class</a>; i++)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="comment">/* behaviours into this array        */</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="class_rexx_behaviour.html#abb7f03ac9405f0cb4ebf1beafd870aa5">RexxBehaviour::primitiveBehaviours</a>[i].<a class="code" href="class_rexx_behaviour.html#a2f0c92709340b2dd3806ce62d9416bf0">restore</a>((<a class="code" href="class_rexx_behaviour.html">RexxBehaviour</a> *)primitiveBehaviours-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(i + 1));</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <a class="code" href="_rexx_core_8h.html#a34894b9f28a960dff3ca1e7a570e9613">TheKernel</a>      = (<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a589f5443b59f3734008bdbb8784e180c">saveArray_KERNEL</a>);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="_rexx_core_8h.html#a326fcbdbacb21da93606a038bb77d46f">TheSystem</a>      = (<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734ab86972d12b1cc6c920aee84db76cbf94">saveArray_SYSTEM</a>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="_rexx_core_8h.html#a7d3c7e40d27e72855773ed37c616e780">TheFunctionsDirectory</a> = (<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a0cd09147658629cba88bda59583ae763">saveArray_FUNCTIONS</a>);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a>  = (<a class="code" href="class_rexx_integer.html">RexxInteger</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a9be2a94ee71464ea1059f9e3caea41fc">saveArray_TRUE</a>);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a> = (<a class="code" href="class_rexx_integer.html">RexxInteger</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734aa3f4ca7475c8fd8b3d9ddd26b4715e61">saveArray_FALSE</a>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>   = saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a8505dbae682e8ceb41efed5dc155fe00">saveArray_NIL</a>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <a class="code" href="_rexx_core_8h.html#a52a39bdc8a0d77c92cdc653628dae18d">TheNullArray</a>   = (<a class="code" href="class_rexx_array.html">RexxArray</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a8d0468e9ee701ddc0a1806622a7cbf7a">saveArray_NULLA</a>);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <a class="code" href="_rexx_core_8h.html#a7c85c60c44e955cadccd3417e09791cb">TheNullPointer</a>   = (<a class="code" href="class_rexx_pointer.html">RexxPointer</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a763e69d3d5957d2b351d3b2b3da3c3b4">saveArray_NULLPOINTER</a>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <a class="code" href="_rexx_core_8h.html#a5d9c84ece83193ae68ec1799d5785086">TheClassClass</a>  = (<a class="code" href="class_rexx_class.html">RexxClass</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a7e8883b12dca63c4fd33a0cebd6a3628">saveArray_CLASS</a>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <a class="code" href="_rexx_core_8h.html#a6e1e3e68b398bc452359632237fee529">TheCommonRetrievers</a> = (<a class="code" href="class_rexx_directory.html">RexxDirectory</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734ae17626da4bd234a9e0498738a2536c43">saveArray_COMMON_RETRIEVERS</a>);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="comment">/* restore the global strings        */</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>.<a class="code" href="class_rexx_memory.html#a7e47a6507f97216218026d7148f6f87b">restoreStrings</a>((<a class="code" href="class_rexx_array.html">RexxArray</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a1777c6679a921b2a72db47d9d8f21113">saveArray_NAME_STRINGS</a>));</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">// make sure we have a working thread context</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="class_rexx_activity.html#a14ca778dbfe74753d877f051302f3ba0">RexxActivity::initializeThreadContext</a>();</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <a class="code" href="class_package_manager.html#aa645c856de83f81800b151638806509b">PackageManager::restore</a>((<a class="code" href="class_rexx_array.html">RexxArray</a> *)saveArray-&gt;<a class="code" href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">get</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734ada83169757ef36f5cfaf3aa842cb5c91">saveArray_PACKAGES</a>));</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;}</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a61ab520a1bad91c66c8ab4fe6e2157ac">  922</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a61ab520a1bad91c66c8ab4fe6e2157ac">RexxMemory::live</a>(<span class="keywordtype">size_t</span> liveMark)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">/* Arguments:  None                                                           */</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">/*  Returned:  Nothing                                                        */</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;{</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">/* Mark the save stack first, since it will be pulled off of */</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">/* the stack after everything else.  This will give other */</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="comment">/* objects a chance to be marked before we remove them from */</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="comment">/* the savestack. */</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(this-&gt;<a class="code" href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">saveStack</a>);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(this-&gt;<a class="code" href="class_rexx_memory.html#ab7381c381eeeb9909610ab59f4ac9527">saveTable</a>);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(this-&gt;<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(this-&gt;<a class="code" href="class_rexx_memory.html#ab28b0f134bbf54d275020bf292e0f872">envelope</a>);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(this-&gt;<a class="code" href="class_rexx_memory.html#a67cc8cf866c187d710946db7deb6fda1">variableCache</a>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(this-&gt;<a class="code" href="class_rexx_memory.html#a1b7e2e74116ea0aca24ccf72b0ab2852">markTable</a>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_rexx_memory.html#a344d05d1aa6e523b7294e5bcc85570b5">globalStrings</a>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="comment">// now call the various subsystem managers to mark their references</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <a class="code" href="class_interpreter.html#a210abecb037deb0bad35801f340f1a25">Interpreter::live</a>(liveMark);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <a class="code" href="class_system_interpreter.html#af3bc44d9c58087b958391adeb80bd466">SystemInterpreter::live</a>(liveMark);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <a class="code" href="class_activity_manager.html#aa11d586f0ebd7e07264a00003cc42ed7">ActivityManager::live</a>(liveMark);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <a class="code" href="class_package_manager.html#a55c7e781fc85f5cb845b903236d2f895">PackageManager::live</a>(liveMark);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// mark any protected objects we&#39;ve been watching over</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <a class="code" href="class_global_protected_object.html">GlobalProtectedObject</a> *p = <a class="code" href="class_rexx_memory.html#a8e83ca03247b97db0a09edd1b4478cb8">protectedObjects</a>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">while</span> (p != NULL)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  {</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(p-&gt;<a class="code" href="class_global_protected_object.html#a8dbddf475f511e6dc5adc1c4600dc6a3">protectedObject</a>);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      p = p-&gt;<a class="code" href="class_global_protected_object.html#a21a6f3e4dbb5acfbad6adca8b200922e">next</a>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a993ae1de052193dc370e1118a43ff7a3">  956</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a993ae1de052193dc370e1118a43ff7a3">RexxMemory::liveGeneral</a>(<span class="keywordtype">int</span> reason)</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">/* Arguments:  None                                                           */</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">/*  Returned:  Nothing                                                        */</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;{</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(this-&gt;<a class="code" href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">saveStack</a>);<span class="comment">/* Mark the save stack last, to give it a chance to clear out entries */</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(this-&gt;<a class="code" href="class_rexx_memory.html#ab7381c381eeeb9909610ab59f4ac9527">saveTable</a>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(this-&gt;<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(this-&gt;<a class="code" href="class_rexx_memory.html#ab28b0f134bbf54d275020bf292e0f872">envelope</a>);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(this-&gt;<a class="code" href="class_rexx_memory.html#a67cc8cf866c187d710946db7deb6fda1">variableCache</a>);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(this-&gt;<a class="code" href="class_rexx_memory.html#a1b7e2e74116ea0aca24ccf72b0ab2852">markTable</a>);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_rexx_memory.html#a344d05d1aa6e523b7294e5bcc85570b5">globalStrings</a>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="comment">// now call the various subsystem managers to mark their references</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <a class="code" href="class_interpreter.html#ab69ab60da7a0385d0e252aafbde5b770">Interpreter::liveGeneral</a>(reason);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <a class="code" href="class_system_interpreter.html#a600b7fa9223eeb7809c64c8ab3e26153">SystemInterpreter::liveGeneral</a>(reason);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <a class="code" href="class_activity_manager.html#abf2bb27f803ec833b0dff31c9b57049d">ActivityManager::liveGeneral</a>(reason);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="class_package_manager.html#a2e5b6a0496f810104cebbe2e1c1e9ae0">PackageManager::liveGeneral</a>(reason);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;}</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#af3d3613e807189dfc8c698d5feb8b81c">  978</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#af3d3613e807189dfc8c698d5feb8b81c">RexxMemory::flatten</a>(<a class="code" href="class_rexx_envelope.html">RexxEnvelope</a> *env)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">/* Arguments:  None                                                           */</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">/*  Returned:  OREF NULL,                                                     */</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;{</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;}</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a5882589f80eff2a5f6760b169ba02ba4">  988</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a>  *<a class="code" href="class_rexx_memory.html#a5882589f80eff2a5f6760b169ba02ba4">RexxMemory::makeProxy</a>(<a class="code" href="class_rexx_envelope.html">RexxEnvelope</a> *env)</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">/* Arguments:  None                                                           */</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment">/*  Returned:  OREF NULL,                                                     */</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;{</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                       <span class="comment">/* Memory Obj doesn&#39;t get moved,     */</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                                       <span class="comment">/*create a proxy object to           */</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                                       <span class="comment">/*re-establish on other system.      */</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160; </div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160; </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                                       <span class="comment">/* Generate a new proxy object to    */</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                                       <span class="comment">/*represent this object, and then    */</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                                       <span class="comment">/*send flatten to this proxy.  We    */</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                                       <span class="comment">/*then return the result from the    */</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                                       <span class="comment">/*proxt flatten method.              */</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_string_class_8hpp.html#a8a4e642ec3f45ca8904d1a5ec3be930c">new_proxy</a>(<span class="stringliteral">&quot;MEMORY&quot;</span>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ae7d7f2951706c0bcb1ba2cec8c5d1d1d"> 1009</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a>* <a class="code" href="class_rexx_memory.html#ae7d7f2951706c0bcb1ba2cec8c5d1d1d">RexxMemory::reclaim</a>()</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">/* Function:  Interface method for external control of garbage collection.    */</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">/* This forces a GC cycle.                                                    */</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;{</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="comment">/* just drive the GC operation */</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="class_rexx_memory.html#a086abfcb645a1aa742913e359b070282">collect</a>();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;}</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160; </div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a086abfcb645a1aa742913e359b070282"> 1021</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a086abfcb645a1aa742913e359b070282">RexxMemory::collect</a>()</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">/* Function:  Collect all dead memory in the Rexx object space.  The          */</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">/* collection process performs a mark operation to mark all of the live       */</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment">/* objects, followed by sweep of each of the segment sets.                    */</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;{</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="class_rexx_memory.html#a8d15310b9b01749be05b104dda03fdcd">collections</a>++;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;Begin collecting memory, cycle #%d after %d allocations.\n&quot;</span>, <a class="code" href="class_rexx_memory.html#a8d15310b9b01749be05b104dda03fdcd">collections</a>, <a class="code" href="class_rexx_memory.html#aaf0682e9d4c0fe503689fac1dd46c7be">allocations</a>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <a class="code" href="class_rexx_memory.html#aaf0682e9d4c0fe503689fac1dd46c7be">allocations</a> = 0;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">/* change our marker to the next value so we can distinguish */</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="comment">/* between objects marked on this cycle from the objects marked */</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">/* in the pervious cycles. */</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="class_rexx_memory.html#af1abe7c97842f40693848401d7d9428d">bumpMarkWord</a>();</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">/* do the object marking now...followed by a sweep of all of the */</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">/* segments. */</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <a class="code" href="class_rexx_memory.html#a72f4c33e2f56fb96a1b186226ea0fd33">markObjects</a>();</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_memory_segment_set.html#a4e6465f0009cd59107df1bee01627c4b">sweep</a>();</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>.<a class="code" href="class_memory_segment_set.html#a4e6465f0009cd59107df1bee01627c4b">sweep</a>();</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160; </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">/* The space segments are now in a known, completely clean state. */</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="comment">/* Now based on the context that caused garbage collection to be */</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="comment">/* initiated, the segment sets may be expanded to add additional */</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">/* free memory.  The decision to expand the object space requires */</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">/* the usage statistics collected by the mark-and-sweep */</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="comment">/* operation. */</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;End collecting memory\n&quot;</span>);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <a class="code" href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">verboseMessage</a>(<span class="stringliteral">&quot;Object save table contains %d objects\n&quot;</span>, this-&gt;<a class="code" href="class_rexx_memory.html#ab7381c381eeeb9909610ab59f4ac9527">saveTable</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a9cf346c9f85be61772c507561037e3bf">items</a>());</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;}</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ac6e97be697b317fe3a03adc26410810d"> 1054</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#ac6e97be697b317fe3a03adc26410810d">RexxMemory::oldObject</a>(<span class="keywordtype">size_t</span> requestLength)</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">/* Arguments:  Requested length                                               */</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment">/*  Returned:  New object, or OREF_NULL if requested length was too large     */</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;{</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="comment">/* Compute size of new object and determine where we should */</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">/* allocate from */</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    requestLength = <a class="code" href="_rexx_memory_8hpp.html#a70e15a1fc8e9370b35576f15fe153a24">roundObjectBoundary</a>(requestLength);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *newObj = <a class="code" href="class_rexx_memory.html#a7c461ee25a4be7a560599735331cc784">oldSpaceSegments</a>.<a class="code" href="class_old_space_segment_set.html#a56a063e3219e4ae6a53f354adaeddcf0">allocateObject</a>(requestLength);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="comment">/* if we got a new object, then perform the final setup steps. */</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="comment">/* Since the oldspace objects are special, we don&#39;t push them on */</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="comment">/* to the save stack.  Also, we don&#39;t set the oldspace flag, as */</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="comment">/* those are a separate category of object. */</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span> (newObj != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="comment">// initialize the hash table object</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        newObj-&gt;<a class="code" href="class_rexx_object.html#a26cfee95d421382e190bacbf4b903171">initializeNewObject</a>(requestLength, <a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>, <a class="code" href="class_rexx_memory.html#a4e11c24c5bab1614b3ab98b30d87db63">virtualFunctionTable</a>[<a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02afc04d042e0ceef841574efc7bcfd895c">T_Object</a>], <a class="code" href="_primitive_behaviour_names_8h.html#add1cb20079ac12038c9de86774f98d60">TheObjectBehaviour</a>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    }</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; </div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <span class="comment">/* return the newly allocated object to our caller */</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">return</span> newObj;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#aad1c8697e1de5edfb8b328449b57cb47"> 1080</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="class_rexx_memory.html#aad1c8697e1de5edfb8b328449b57cb47">RexxMemory::allocateImageBuffer</a>(<span class="keywordtype">size_t</span> imageSize)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">/* Function:  Allocate an image buffer for the system code.  The image buffer */</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">/* is allocated in the oldspace segment set.  We create an object from that   */</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">/* space, then return this object as a character pointer.  We eventually will */</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment">/* get that pointer passed back to us as the image address.                   */</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;{</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">char</span> *)<a class="code" href="class_rexx_memory.html#ac6e97be697b317fe3a03adc26410810d">oldObject</a>(imageSize);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;}</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a782943a4233a3b2f21452d232404b51b"> 1092</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#a3f50111bd51f0759b92188b7c9fdc4de">RexxMemory::newObject</a>(<span class="keywordtype">size_t</span> requestLength, <span class="keywordtype">size_t</span> <a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>)</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">/* Arguments:  Requested length                                               */</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment">/*  Returned:  New object, or OREF_NULL if requested length was too large     */</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;{</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *newObj;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <a class="code" href="class_rexx_memory.html#aaf0682e9d4c0fe503689fac1dd46c7be">allocations</a>++;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">/* Compute size of new object and determine where we should */</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="comment">/* allocate from */</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    requestLength = <a class="code" href="_rexx_memory_8hpp.html#a70e15a1fc8e9370b35576f15fe153a24">roundObjectBoundary</a>(requestLength);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">/* is this a typical small object? */</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">if</span> (requestLength &lt;= <a class="code" href="_memory_segment_8hpp.html#a96bab57ed340bbd2b13b79da6a59c1a9">LargeBlockThreshold</a>)</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="comment">/* make sure we don&#39;t go below our minimum size. */</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        <span class="keywordflow">if</span> (requestLength &lt; <a class="code" href="_rexx_memory_8hpp.html#aaa88a73c097a27a32d272bbe9ed169ad">MinimumObjectSize</a>)</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            requestLength = <a class="code" href="_rexx_memory_8hpp.html#aaa88a73c097a27a32d272bbe9ed169ad">MinimumObjectSize</a>;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        newObj = <a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_normal_segment_set.html#af8ed711532e1ee74d72128ef69532b83">allocateObject</a>(requestLength);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="comment">/* feat. 1061 moves the handleAllocationFailure code into the initial */</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="comment">/* allocation parts; this way an &quot;if&quot; instruction can be saved.       */</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">if</span> (newObj == NULL)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            newObj = <a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_normal_segment_set.html#a77df9525fcdbdfb8d9295d53b008afa6">handleAllocationFailure</a>(requestLength);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="comment">/* we keep the big objects in a separate cage */</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="comment">/* round this allocation up to the appropriate large boundary */</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        requestLength = <a class="code" href="_rexx_memory_8hpp.html#a8fce8e74e9631f3ff5cc41af4fbde4ff">roundLargeObjectAllocation</a>(requestLength);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        newObj = <a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>.<a class="code" href="class_large_segment_set.html#a3e3f8c730ca5b018b0c92ba6f9c7db8a">allocateObject</a>(requestLength);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <span class="keywordflow">if</span> (newObj == NULL)</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            newObj = <a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>.<a class="code" href="class_large_segment_set.html#a8f4aa2625c44f9ee2da78303cdc31e8c">handleAllocationFailure</a>(requestLength);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    }</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    newObj-&gt;<a class="code" href="class_rexx_object.html#a26cfee95d421382e190bacbf4b903171">initializeNewObject</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>, <a class="code" href="class_rexx_memory.html#a4e11c24c5bab1614b3ab98b30d87db63">virtualFunctionTable</a>[<a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>], <a class="code" href="class_rexx_behaviour.html#a998cf81fb71d4018421c23428694144b">RexxBehaviour::getPrimitiveBehaviour</a>(<a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>));</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">saveStack</a> != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="comment">/* saveobj doesn&#39;t get turned on     */</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="comment">/*until the system is initialized    */</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="comment">/*far enough but once its on, push   */</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="comment">/*this new obj on the save stack to  */</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="comment">/*keep him from being garbage        */</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="comment">/*collected, before it can be used   */</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="comment">/*and safely anchored by caller.     */</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <a class="code" href="class_rexx_memory.html#aec8cc6fbc8592b4f2aeedce4c03ee300">pushSaveStack</a>(newObj);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="comment">/* return the newly allocated object to our caller */</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">return</span> newObj;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;}</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a63a88bc63f82f47182d7b398c8bf2b99"> 1153</a></span>&#160;<a class="code" href="class_rexx_array.html">RexxArray</a>  *<a class="code" href="class_rexx_memory.html#a63a88bc63f82f47182d7b398c8bf2b99">RexxMemory::newObjects</a>(</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                <span class="keywordtype">size_t</span>         size,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                <span class="keywordtype">size_t</span>         count,</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                <span class="keywordtype">size_t</span>         objectType)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="comment">/* Arguments:  size of individual objects,                                    */</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment">/*             number of objects to get                                       */</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment">/*             behaviour of the new objects.                                  */</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="comment">/* Function : Return an  Array of count objects of size size, with the given  */</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="comment">/*             behaviour.  Each objects will be cleared                       */</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment">/*  Returned: Array object                                                    */</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;{</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordtype">size_t</span> objSize = <a class="code" href="_rexx_memory_8hpp.html#a70e15a1fc8e9370b35576f15fe153a24">roundObjectBoundary</a>(size);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="keywordtype">size_t</span> totalSize;                      <span class="comment">/* total size allocated              */</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *prototype;                 <span class="comment">/* our first prototype object        */</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="class_rexx_array.html">RexxArray</a>  *arrayOfObjects;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *largeObject;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160; </div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="comment">/* Get array object to contain all the objects.. */</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    arrayOfObjects = (<a class="code" href="class_rexx_array.html">RexxArray</a> *)<a class="code" href="_array_class_8hpp.html#ab7c1014bab3c11a879f5620e77392b68">new_array</a>(count);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="comment">/* Get one LARGE object, that we will parcel up into the smaller */</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">/* objects over allocate by the size of one minimum object so we */</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="comment">/* can handle any potential overallocations */</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    totalSize = objSize * count;         <span class="comment">/* first get the total object size   */</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="comment">/* We make the decision on which heap this should be allocated */</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="comment">/* from based on the size of the object request rather than the */</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="comment">/* total size of the aggregate object.  Since our normal usage of */</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="comment">/* this is for allocating large collections of small objects, we */</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="comment">/* don&#39;t want those objects coming from the large block heap, */</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="comment">/* even if the aggregate size would suggest this should happen. */</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">if</span> (objSize &lt;= <a class="code" href="_memory_segment_8hpp.html#a96bab57ed340bbd2b13b79da6a59c1a9">LargeBlockThreshold</a>)</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        largeObject = <a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_normal_segment_set.html#af8ed711532e1ee74d72128ef69532b83">allocateObject</a>(totalSize);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordflow">if</span> (largeObject == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            largeObject = <a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_normal_segment_set.html#a77df9525fcdbdfb8d9295d53b008afa6">handleAllocationFailure</a>(totalSize);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="comment">/* we keep the big objects in a separate cage */</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        largeObject = <a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>.<a class="code" href="class_large_segment_set.html#a3e3f8c730ca5b018b0c92ba6f9c7db8a">allocateObject</a>(totalSize);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordflow">if</span> (largeObject == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            largeObject = <a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>.<a class="code" href="class_large_segment_set.html#a8f4aa2625c44f9ee2da78303cdc31e8c">handleAllocationFailure</a>(totalSize);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    }</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    largeObject-&gt;<a class="code" href="class_rexx_object.html#a26cfee95d421382e190bacbf4b903171">initializeNewObject</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>, <a class="code" href="class_rexx_memory.html#a4e11c24c5bab1614b3ab98b30d87db63">virtualFunctionTable</a>[<a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02afc04d042e0ceef841574efc7bcfd895c">T_Object</a>], <a class="code" href="_primitive_behaviour_names_8h.html#add1cb20079ac12038c9de86774f98d60">TheObjectBehaviour</a>);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">saveStack</a> != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="comment">/* saveobj doesn&#39;t get turned on     */</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="comment">/*until the system is initialized    */</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="comment">/*far enough but once its on, push   */</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="comment">/*this new obj on the save stack to  */</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="comment">/*keep him from being garbage        */</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="comment">/*collected, before it can be used   */</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="comment">/*and safely anchored by caller.     */</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <a class="code" href="class_rexx_memory.html#aec8cc6fbc8592b4f2aeedce4c03ee300">pushSaveStack</a>(largeObject);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="comment">/* Description of defect 318:  IH:</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">    The problem is caused by the constructor of RexxClause which is calling newObjects.</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">    NewObjects allocates one large Object. Immediately after this large Object is allocated,</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment">    an array is allocated as well. It then can happen that while allocating the array</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment">    the largeObject shall be marked. This causes a trap when objectVariables is != NULL.</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment">    Solution: Set objectVariables to NULL before allocating the array. In order to make</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">    OrefOK (called if CHECKOREF is defined) work properly, the largeObject has to be</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="comment">    set to a valid object state before calling new_array. Therefore the behaviour assignement</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment">    and the virtual functions assignement has to be done in advance. */</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="comment">/* get the remainder object size...this is used to manage the */</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="comment">/* dangling piece on the end of the allocation. */</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    totalSize = largeObject-&gt;<a class="code" href="class_rexx_internal_object.html#a035eb8bf67ca1b43d4238e806a0db0a0">getObjectSize</a>() - totalSize;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="comment">/* Clear out the entire object... */</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    largeObject-&gt;<a class="code" href="class_rexx_internal_object.html#a0bc70c47930b9cc7ba854b6804112dae">clearObject</a>();</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    prototype = largeObject;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="comment">/* IH: Object gets a valid state for the mark and sweep process. */</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="comment">/* Otherwise OrefOK (CHECKOREFS) will fail */</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="comment">// initialize the hash table object</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    largeObject-&gt;<a class="code" href="class_rexx_object.html#a26cfee95d421382e190bacbf4b903171">initializeNewObject</a>(objSize, <a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>, <a class="code" href="class_rexx_memory.html#a4e11c24c5bab1614b3ab98b30d87db63">virtualFunctionTable</a>[objectType], <a class="code" href="class_rexx_behaviour.html#a998cf81fb71d4018421c23428694144b">RexxBehaviour::getPrimitiveBehaviour</a>(objectType));</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">for</span> (i=1 ;i &lt; count ; i++ )</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="comment">/* IH: Loop one time less than before because first object is initialized</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment">           outside of the loop. I had to move the following 2 statements</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="comment">           in front of the object initialization */</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="comment">/* add this object to the array of objs */</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        arrayOfObjects-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>(largeObject, i);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="comment">/* point to the next object space. */</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        largeObject = (<a class="code" href="class_rexx_object.html">RexxObject</a> *)((<span class="keywordtype">char</span> *)largeObject + objSize);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <span class="comment">/* copy the information from the prototype */</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        memcpy((<span class="keywordtype">void</span> *)largeObject, (<span class="keywordtype">void</span> *)prototype, <span class="keyword">sizeof</span>(<a class="code" href="class_rexx_internal_object.html">RexxInternalObject</a>));</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    }</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    arrayOfObjects-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>(largeObject, i);  <span class="comment">/* put the last Object */</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="comment">/* adjust the size of the last one to account for any remainder */</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    largeObject-&gt;<a class="code" href="class_rexx_internal_object.html#a51e65b7026500d614d6829079208c62f">setObjectSize</a>(totalSize + objSize);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">return</span> arrayOfObjects;               <span class="comment">/* Return our array of objects.      */</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;}</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160; </div>
<div class="line"><a name="l01269"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ae420542972ad1003ed51d2531993955f"> 1269</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#ae420542972ad1003ed51d2531993955f">RexxMemory::reSize</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *shrinkObj, <span class="keywordtype">size_t</span> requestSize)</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="comment">/* Function:  The object shrinkObj only needs to be the size of newSize       */</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="comment">/*             If the left over space is big enough to become a dead object   */</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment">/*             we will shrink the object to the specified size.               */</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment">/*            NOTE: Since memory knows nothing about any objects that are     */</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="comment">/*             in the extra space, it cannot do anything about them if this   */</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">/*             is an OldSpace objetc, therefore the caller must have already  */</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">/*             take care of this.                                             */</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;{</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <a class="code" href="class_dead_object.html">DeadObject</a> *newDeadObj;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordtype">size_t</span> newSize = <a class="code" href="_rexx_memory_8hpp.html#af83de01a07dd88a043c3bfbae3a2bda5">roundObjectResize</a>(requestSize);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="comment">/* is the rounded size smaller and is remainder at least the size */</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="comment">/* of the smallest OBJ MINOBJSIZE */</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">if</span> (newSize &lt; requestSize &amp;&amp; (shrinkObj-&gt;<a class="code" href="class_rexx_internal_object.html#a035eb8bf67ca1b43d4238e806a0db0a0">getObjectSize</a>() - newSize) &gt;= <a class="code" href="_rexx_memory_8hpp.html#aaa88a73c097a27a32d272bbe9ed169ad">MinimumObjectSize</a>)</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <span class="keywordtype">size_t</span> deadObjectSize = shrinkObj-&gt;<a class="code" href="class_rexx_internal_object.html#a035eb8bf67ca1b43d4238e806a0db0a0">getObjectSize</a>() - newSize;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <span class="comment">/* Yes, then we can shrink the object.  Get starting point of */</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <span class="comment">/* the extra, this will be the new Dead obj */</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        newDeadObj = <span class="keyword">new</span> ((<span class="keywordtype">void</span> *)((<span class="keywordtype">char</span> *)shrinkObj + newSize)) <a class="code" href="class_dead_object.html">DeadObject</a> (deadObjectSize);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <span class="comment">/* if an object is larger than 16 MB, the last 8 bits (256) are */</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="comment">/* truncated and therefore the object must have a size */</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <span class="comment">/* dividable by 256 and the rest must be put to the dead chain. */</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        <span class="comment">/* If the resulting dead object is smaller than the size we */</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <span class="comment">/* gave, then we&#39;ve got a truncated remainder we need to turn */</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;        <span class="comment">/* into a dead object. */</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        deadObjectSize -= newDeadObj-&gt;<a class="code" href="class_dead_object.html#ae9b73f921df89439f3f56b3dacd1d2dd">getObjectSize</a>();</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keywordflow">if</span> (deadObjectSize != 0)</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;            <span class="comment">/* create difference object.  Note:  We don&#39;t bother */</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;            <span class="comment">/* putting this back on the dead chain.  It will be */</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            <span class="comment">/* picked up during the next GC cycle. */</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;            <span class="keyword">new</span> ((<span class="keywordtype">char</span> *)newDeadObj + newDeadObj-&gt;<a class="code" href="class_dead_object.html#ae9b73f921df89439f3f56b3dacd1d2dd">getObjectSize</a>()) <a class="code" href="class_dead_object.html">DeadObject</a> (deadObjectSize);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        }</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        <span class="comment">/* Adjust size of original object */</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        shrinkObj-&gt;<a class="code" href="class_rexx_internal_object.html#a51e65b7026500d614d6829079208c62f">setObjectSize</a>(newSize);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    }</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;}</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#af8422ebe37c1a4a26348623b28c3fcc8"> 1313</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#af8422ebe37c1a4a26348623b28c3fcc8">RexxMemory::scavengeSegmentSets</a>(</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <a class="code" href="class_memory_segment_set.html">MemorySegmentSet</a> *requestor,           <span class="comment">/* the requesting segment set */</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordtype">size_t</span> allocationLength)               <span class="comment">/* the size required          */</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment">/* Function:  Orchestrate sharing of sharing of storage between the segment   */</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment">/* sets in low storage conditions.  We do this only as a last ditch, as we&#39;ll */</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="comment">/* end up fragmenting the large heap with small blocks, messing up the        */</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="comment">/* benefits of keeping the heaps separate.  We first look a set to donate a   */</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="comment">/* segment to the requesting set.  If that doesn&#39;t work, we&#39;ll borrow a block */</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment">/* of storage from the other set so that we can satisfy this request.         */</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;{</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="class_memory_segment_set.html">MemorySegmentSet</a> *donor;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="comment">/* first determine the donor/requester relationships. */</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">if</span> (requestor-&gt;<a class="code" href="class_memory_segment_set.html#aba1bf702bafdf996cb19ffc1fb241aa0">is</a>(<a class="code" href="class_memory_segment_set.html#a19a2a1336ae17c36af6b9f81986f922fad68076fcf765805548c5fcde14e446d1">MemorySegmentSet::SET_NORMAL</a>))</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        donor = &amp;<a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        donor = &amp;<a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="comment">/* first look for an unused segment.  We might be able to steal */</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="comment">/* one and just move it over. */</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="class_memory_segment.html">MemorySegment</a> *newSeg = donor-&gt;<a class="code" href="class_memory_segment_set.html#afba8acc0061aeb8f2b976bcc5a0d2bc8">donateSegment</a>(allocationLength);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">if</span> (newSeg != NULL)</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        requestor-&gt;<a class="code" href="class_memory_segment_set.html#a26619224a68f7887ffa925793d3e093b">addSegment</a>(newSeg);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="comment">/* we can&#39;t just move a segment over.  Find the smallest block */</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="comment">/* we can find that will satisfy this allocation.  If found, we */</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="comment">/* can insert it into the normal deadchains. */</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="class_dead_object.html">DeadObject</a> *largeObject = donor-&gt;<a class="code" href="class_memory_segment_set.html#acdc687287a5eb7de71eb924daba194d5">donateObject</a>(allocationLength);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keywordflow">if</span> (largeObject != NULL)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        <span class="comment">/* we need to insert this into the normal dead chain */</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <span class="comment">/* locations. */</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        requestor-&gt;<a class="code" href="class_memory_segment_set.html#afcf45cd1bb986f7c3541fc577a69def3">addDeadObject</a>(largeObject);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;}</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a20306285b055e3830a2395ee9f4dc6cc"> 1359</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a20306285b055e3830a2395ee9f4dc6cc">RexxMemory::liveStackFull</a>()</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">/* Function:  Process a live-stack overflow situation                         */</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;{</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                                         <span class="comment">/* create a temporary stack          */</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <a class="code" href="class_rexx_stack.html">RexxStack</a> *newLiveStack = <span class="keyword">new</span> (this-&gt;<a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a>-&gt;<a class="code" href="class_rexx_stack.html#a8da3541a95f2e1ad833dd842e9fe82ed">size</a> * 2, <span class="keyword">true</span>) <a class="code" href="class_rexx_stack.html">RexxStack</a> (this-&gt;<a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a>-&gt;<a class="code" href="class_rexx_stack.html#a8da3541a95f2e1ad833dd842e9fe82ed">size</a> * 2);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="comment">/* copy the live stack entries       */</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    newLiveStack-&gt;<a class="code" href="class_rexx_stack.html#a296d478f2f17531bd94d5891b2d1afe8">copyEntries</a>(this-&gt;<a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="comment">/* has this already been expanded?   */</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a> != this-&gt;<a class="code" href="class_rexx_memory.html#ae24fd85a2949ae14ea06c029588f6aed">originalLiveStack</a>)</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        free((<span class="keywordtype">void</span> *)this-&gt;<a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a>);     <span class="comment">/* release the old one               */</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a> = newLiveStack;      <span class="comment">/* and set the new stack             */</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;}</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a06ed16bd87bcd45b8ddff52105b9dfee"> 1376</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a06ed16bd87bcd45b8ddff52105b9dfee">RexxMemory::mark</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *markObject)</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">/* Function:  Perform a memory management mark operation                      */</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;{</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordtype">size_t</span> liveMark = <a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a> | <a class="code" href="_object_class_8hpp.html#adc29c2ff13d900c2f185ee95427fb06ca36b9c3da457fb9e7513f08a7d14b1180">OldSpaceBit</a>;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    markObject-&gt;<a class="code" href="class_rexx_internal_object.html#a5b0fcc1a9c01b3f910c5b3346b2bc47b">setObjectLive</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>); <span class="comment">/* Then Mark this object as live.    */</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                                         <span class="comment">/* object have any references?       */</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                                         <span class="comment">/* if there are no references, we don&#39;t */</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                                         <span class="comment">/* need to push this on the stack, but */</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                         <span class="comment">/* we might need to push the behavior */</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                                         <span class="comment">/* on the stack.  Since behaviors are */</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                                         <span class="comment">/* we can frequently skip that step as well */</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">if</span> (markObject-&gt;<a class="code" href="class_rexx_internal_object.html#a0486e173ddb8c3771b267eb7eee84d60">hasNoReferences</a>())</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="_rexx_memory_8hpp.html#a8b9eec9886a6b4a35875a885d836c328">ObjectNeedsMarking</a>(markObject-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>))</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            <span class="comment">/* mark the behaviour now to keep us from processing this */</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            <span class="comment">/* more than once. */</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;            markObject-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>-&gt;<a class="code" href="class_rexx_internal_object.html#a5b0fcc1a9c01b3f910c5b3346b2bc47b">setObjectLive</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            <span class="comment">/* push him to livestack, to mark    */</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <span class="comment">/* later.                            */</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)markObject-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <span class="comment">/* push him to livestack, to mark    */</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="comment">/* later.                            */</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(markObject);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ade7c4ecf65e326eb68a0851fd04972e8"> 1410</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#ade7c4ecf65e326eb68a0851fd04972e8">RexxMemory::temporaryObject</a>(<span class="keywordtype">size_t</span> requestLength)</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">/* Function:  Allocate and setup a temporary object obtained via malloc       */</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment">/*            storage.  This is used currently only by the mark routine to    */</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment">/*            expand the size of the live stack during a garbage collection.  */</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;{</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">/* get the rounded size of the object*/</span></div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <span class="keywordtype">size_t</span> allocationLength = <a class="code" href="_rexx_memory_8hpp.html#a70e15a1fc8e9370b35576f15fe153a24">roundObjectBoundary</a>(requestLength);</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="comment">/* allocate a new object             */</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *newObj = (<a class="code" href="class_rexx_object.html">RexxObject</a> *)malloc(allocationLength);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="keywordflow">if</span> (newObj == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)             <span class="comment">/* unable to allocate a new one?     */</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <span class="comment">/* can&#39;t allocate, report resource   */</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <span class="comment">/* error.                            */</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#a05e10e5ca821e6c0ee43f61a1007b468">Error_System_resources</a>);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    }</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;    <span class="comment">/* setup the new object header for   */</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="comment">/*use                                */</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="comment">// initialize the hash table object</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    newObj-&gt;<a class="code" href="class_rexx_object.html#a26cfee95d421382e190bacbf4b903171">initializeNewObject</a>(allocationLength, <a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>, <a class="code" href="class_rexx_memory.html#a4e11c24c5bab1614b3ab98b30d87db63">virtualFunctionTable</a>[<a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02afc04d042e0ceef841574efc7bcfd895c">T_Object</a>], <a class="code" href="_primitive_behaviour_names_8h.html#add1cb20079ac12038c9de86774f98d60">TheObjectBehaviour</a>);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">return</span> newObj;                       <span class="comment">/* and return it                     */</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;}</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a643e3da4e0f9cadde138163ac83ac4fa"> 1434</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a643e3da4e0f9cadde138163ac83ac4fa">RexxMemory::markGeneral</a>(<span class="keywordtype">void</span> *obj)</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment">/* Function:  Perform various general marking functions such as image save,   */</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="comment">/*            image restore, object unflatten, and debug garbage collection   */</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;{</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> **pMarkObject = (<a class="code" href="class_rexx_object.html">RexxObject</a> **)obj;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *markObject = *pMarkObject;</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160; </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">if</span> (markObject == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)         <span class="comment">/* is this a null reference?         */</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    {</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="keywordflow">return</span>;                            <span class="comment">/* always return immediately         */</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="comment">/* If its a restore image mark       */</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#af35247d4e3ff4fadcef9284c837b6115">restoreimage</a>)</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <span class="comment">/* we update the object&#39;s location   */</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <a class="code" href="class_rexx_memory.html#a78c6df71e0f43c8c20254ee6c4dc6459">restoreMark</a>(markObject, pMarkObject);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <span class="keywordflow">return</span>;                            <span class="comment">/* finished                          */</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a9d8653be9f538214b25068b12a648bcb">objOffset</a> != 0)</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    {                <span class="comment">/* restoring an object?              */</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <span class="comment">/* we update the object&#39;s location   */</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        <a class="code" href="class_rexx_memory.html#a3014b26cf000d0083eda2214f36f2e82">restoreObjectMark</a>(markObject, pMarkObject);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">return</span>;                            <span class="comment">/* finished                          */</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_memory.html#ab28b0f134bbf54d275020bf292e0f872">envelope</a>)</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    {                <span class="comment">/* processing an envelope?           */</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <span class="comment">/* do the unflatten */</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        <a class="code" href="class_rexx_memory.html#ab46d7896d9a622501d1be8170eef1613">unflattenMark</a>(markObject, pMarkObject);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        <span class="keywordflow">return</span>;                          <span class="comment">/* and out                           */</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    }</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160; </div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="comment">/* The OrphanCheck code is complete mark from OREF_ENV, which checks the           */</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="comment">/* validity of each object in the entire object tree.  Any invalid objects will be */</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="comment">/* cause the mark to terminate and output information about the invalid object and */</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="comment">/* its ancestry.                                                                   */</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">if</span> ((this-&gt;<a class="code" href="class_rexx_memory.html#a492c698f2255e6180d1a807bddd95060">orphanCheck</a>) &amp;&amp; !<a class="code" href="class_rexx_memory.html#a872de860b5e6e61ba20dab3da5aac7d0">saveimage</a>)</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <span class="comment">/* do the special validity check mark. */</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <a class="code" href="class_rexx_memory.html#a1c192523b5b45eb5491581d842b7838f">orphanCheckMark</a>(markObject, pMarkObject);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <span class="comment">/*  all done here, so return         */</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    }</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_rexx_memory.html#a872de860b5e6e61ba20dab3da5aac7d0">saveimage</a>)</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <a class="code" href="class_interpreter.html#a35ac2ba024b6581b6542ab04e2f2e1a3">Interpreter::logicError</a>(<span class="stringliteral">&quot;Wrong mark routine called&quot;</span>);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    }</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="comment">/* we&#39;re doing the image construction work */</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <a class="code" href="class_rexx_memory.html#a0f61c79b79267f1918f03faa80392d09">saveImageMark</a>(markObject, pMarkObject);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;}</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a0f61c79b79267f1918f03faa80392d09"> 1495</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a0f61c79b79267f1918f03faa80392d09">RexxMemory::saveImageMark</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *markObject, <a class="code" href="class_rexx_object.html">RexxObject</a> **pMarkObject)</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<span class="comment">/* Function:  Perform marking during a save image operation                   */</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;{</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *bufferReference;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordtype">size_t</span> size;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="comment">/* Regular GC or Saveimage processing. if a REAL object and not */</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="comment">/* already marked and not in Old Space. */</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keywordflow">if</span> (markObject != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a> &amp;&amp; !markObject-&gt;<a class="code" href="class_rexx_internal_object.html#a5c0ce096e06a4ed2bdf3173b38b80e08">isObjectLive</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>) &amp;&amp; markObject-&gt;<a class="code" href="class_rexx_internal_object.html#a32fcf21006cceefbd20f06ac21238d2f">isNewSpace</a>())</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="comment">/* Then Mark this object as live.    */</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        markObject-&gt;<a class="code" href="class_rexx_internal_object.html#a5b0fcc1a9c01b3f910c5b3346b2bc47b">setObjectLive</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="comment">/* push him to livestack, so we can mark (at a later time) his */</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <span class="comment">/* references. */</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(markObject);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="comment">/* Get size of this object.          */</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        size = markObject-&gt;<a class="code" href="class_rexx_internal_object.html#a035eb8bf67ca1b43d4238e806a0db0a0">getObjectSize</a>();</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        <span class="comment">/* add this to our image statistics  */</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <a class="code" href="class_rexx_memory.html#aa08ab4ae1d1b05637327ee4891070310">logObjectStats</a>(markObject);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <span class="comment">/* address the copy in the image */</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;        bufferReference = (<a class="code" href="class_rexx_object.html">RexxObject</a> *)(<a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a> + <a class="code" href="class_rexx_memory.html#a47fa36e6c59dc0aad379a08107fc775c">image_offset</a>);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <span class="comment">// we allocated a hard coded buffer, so we need to make sure we don&#39;t blow</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;        <span class="comment">// the buffer size.</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a47fa36e6c59dc0aad379a08107fc775c">image_offset</a> + size&gt; <a class="code" href="_rexx_memory_8cpp.html#a4f34aa35780f5dbe9de37ca48aa83b07">MaxImageSize</a>)</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            <a class="code" href="class_interpreter.html#a35ac2ba024b6581b6542ab04e2f2e1a3">Interpreter::logicError</a>(<span class="stringliteral">&quot;Rexx saved image exceeds expected maximum&quot;</span>);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;        }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="comment">/* Copy object to image buffer. */</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        memcpy((<span class="keywordtype">void</span> *)bufferReference, (<span class="keywordtype">void</span> *)markObject, size);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="comment">/* clear the mark in the copy        */</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        bufferReference-&gt;clearObjectMark();</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="comment">/* Retrieve the behaviour obj */</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        <a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a> = bufferReference-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <span class="comment">/* Working with a primitive behaviour or a copy? */</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>-&gt;<a class="code" href="class_rexx_behaviour.html#ad0f95c269126c2b020b8061083790529">isNonPrimitive</a>())</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;            <span class="comment">/* tag this as a non-primitive behav */</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            bufferReference-&gt;<a class="code" href="class_rexx_behaviour.html#a304663e5e387407c3c5d98b48c32afd8">setNonPrimitive</a>();</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        }</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>-&gt;<a class="code" href="class_rexx_behaviour.html#ab88fd89f9630c89c5125c36688cb36d7">isTransientClass</a>())</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                <a class="code" href="class_interpreter.html#a35ac2ba024b6581b6542ab04e2f2e1a3">Interpreter::logicError</a>(<span class="stringliteral">&quot;Transient class included in image buffer&quot;</span>);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            <span class="comment">/* clear this out, as this is overloaded with the oldspace */</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            <span class="comment">/* flag. */</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            bufferReference-&gt;setPrimitive();</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;            <span class="comment">// replace behaviour with normalized type number</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            bufferReference-&gt;behaviour = <a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>-&gt;<a class="code" href="class_rexx_behaviour.html#a863c12759fdc16e097945a2fff0018e0">getSavedPrimitiveBehaviour</a>();</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        <span class="comment">/* we are saving image at this point, no need to keep track of */</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <span class="comment">/* Remembered set so don&#39;t use OrefSet here. */</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        markObject-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a> = (<a class="code" href="class_rexx_behaviour.html">RexxBehaviour</a> *)<a class="code" href="class_rexx_memory.html#a47fa36e6c59dc0aad379a08107fc775c">image_offset</a>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <span class="comment">/* update image_offset to point to where next object is to be */</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="comment">/* placed in image */</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <a class="code" href="class_rexx_memory.html#a47fa36e6c59dc0aad379a08107fc775c">image_offset</a> += size;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160; </div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="comment">/* If its a saveimage, modify object referencing this &quot;moved&quot; obj */</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="comment">/* with it location within the image Buffer */</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    *pMarkObject = (<a class="code" href="class_rexx_object.html">RexxObject</a> *)markObject-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;}</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160; </div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a1c192523b5b45eb5491581d842b7838f"> 1563</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a1c192523b5b45eb5491581d842b7838f">RexxMemory::orphanCheckMark</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *markObject, <a class="code" href="class_rexx_object.html">RexxObject</a> **pMarkObject)</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">/* Function:  Perform orphan check marking on an object                       */</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;{</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *outFileName;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    FILE *outfile;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordtype">bool</span> firstnode;</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <a class="code" href="class_rexx_string.html">RexxString</a> *className;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *objectClassName;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="comment">/* check for invalid objects         */</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_rexx_memory.html#a2000daee5aacc43dc6504ad25ca84c2c">objectReferenceOK</a>(markObject))</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="comment">/* Get a temporary file name for out */</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        outFileName = <a class="code" href="class_sys_file_system.html#a62b965c0f5bac93b712ce2a91fe1ca6a">SysFileSystem::getTempFileName</a>();</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <span class="comment">/* Open the temp file for the dump. */</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        outfile = fopen(outFileName,<span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot;Found non Object at %p, being marked from %p\n&quot;</span>,markObject, pMarkObject);</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="comment">/* Let the traversal know we want    */</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <span class="comment">/*  more info about first guy...     */</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        firstnode = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <span class="comment">/* If the object is in object storage*/</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a9971e9afc60b79a1c6afc65cc0a62645">inObjectStorage</a>(markObject))</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            <span class="comment">/* DIsplay a few words of the object&#39;s storage. */</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot; non-Object dump --&gt;%8.8X   %8.8X   %8.8X   %8.8X \n&quot;</span>, *(<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject,      *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+1) , *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+2) , *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+3));</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot; non-Object dump --&gt;%8.8X   %8.8X   %8.8X   %8.8X \n&quot;</span>, *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+4) , *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+5) , *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+6) , *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+7));</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot; non-Object dump --&gt;%8.8X   %8.8X   %8.8X   %8.8X \n&quot;</span>, *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+8) , *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+9) , *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+10), *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+11));</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot; non-Object dump --&gt;%8.8X   %8.8X   %8.8X   %8.8X \n&quot;</span>, *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+12), *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+13), *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+14), *((<a class="code" href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> *)markObject+15));</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        }</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="comment">/* Time to traverse the livestack and get this guy&#39;s ancestry--very useful    */</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        <span class="comment">/* information for debugging this type of problem.                            */</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <span class="keywordflow">for</span> (markObject = <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>();</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            markObject != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;     <span class="comment">/* test for unique terminator        */</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;            markObject = <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>())</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160; </div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            <span class="comment">/* OREF_NIL marks an ancestor        */</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            <span class="keywordflow">if</span> (markObject == <a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>)</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                <span class="comment">/* pop the ancestor                  */</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                markObject  = <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>();</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                className = markObject-&gt;<a class="code" href="class_rexx_object.html#ae01511afe6cf9c2a8ccd843411ae560d">id</a>();</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                <span class="keywordflow">if</span> (className == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                    objectClassName = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                    objectClassName = className-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>();</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                <span class="keywordflow">if</span> (firstnode)</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                {             <span class="comment">/* is this the first node??          */</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                    printf(<span class="stringliteral">&quot;--&gt;Parent node was marking offset &#39;%ld&#39;x \n&quot;</span>, (<span class="keywordtype">char</span> *)pMarkObject - (<span class="keywordtype">char</span> *)markObject);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                    <a class="code" href="class_rexx_memory.html#acd7bb15742db44f1a4ac392310063529">dumpObject</a>(markObject, outfile);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                    firstnode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                    <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot;Parent node is at %p, of type %s(%d) \n&quot;</span>,</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                                   markObject, objectClassName, markObject-&gt;behaviour-&gt;getClassType());</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                    <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot;Next node is at %p, of type %s(%d) \n&quot;</span>,</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                                   markObject, objectClassName, markObject-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>-&gt;<a class="code" href="class_rexx_behaviour.html#af217f748df975dbc4e3b220b6a12efff">getClassType</a>());</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        }</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="comment">/* reached the OREF_NULL sentinel    */</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot;Finished popping stack !!\n&quot;</span>);</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        printf(<span class="stringliteral">&quot;All data has been captured in file %s \n&quot;</span>, outFileName);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        fclose(outfile);                <span class="comment">/* Close the file, all with it.      */</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                                        <span class="comment">/* Make sure we exit the GC critical */</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;                                        <span class="comment">/*  otherwise the cleanup from logic */</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                                        <span class="comment">/*  error will hang !!!              */</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        <span class="comment">/* we would have crashed soon anyway!*/</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <a class="code" href="class_interpreter.html#a35ac2ba024b6581b6542ab04e2f2e1a3">Interpreter::logicError</a>(<span class="stringliteral">&quot;Bad Object found during GC !\n&quot;</span>);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    }</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160; </div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">if</span> (!markObject-&gt;<a class="code" href="class_rexx_internal_object.html#a5c0ce096e06a4ed2bdf3173b38b80e08">isObjectLive</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>) &amp;&amp; markObject-&gt;<a class="code" href="class_rexx_internal_object.html#a32fcf21006cceefbd20f06ac21238d2f">isNewSpace</a>())</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    {</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        markObject-&gt;<a class="code" href="class_rexx_internal_object.html#a5b0fcc1a9c01b3f910c5b3346b2bc47b">setObjectLive</a>(<a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>); <span class="comment">/* Mark this object as live          */</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <span class="comment">/* push him to livestack, so we can  */</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        <span class="comment">/*mark (at a later time) his         */</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <span class="comment">/*references.                        */</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(markObject);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    }</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;}</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a0f6f303ce77211176ad2423baaad0cda"> 1649</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a0f6f303ce77211176ad2423baaad0cda">RexxMemory::discardHoldObject</a>(<a class="code" href="class_rexx_internal_object.html">RexxInternalObject</a> *obj)</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;{</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;   <span class="comment">/* Remove object form savetable */</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;   <a class="code" href="class_rexx_memory.html#ab7381c381eeeb9909610ab59f4ac9527">saveTable</a>-&gt;<a class="code" href="class_rexx_identity_table.html#aa71298bce9f640e947d3cc48f6eb33d7">remove</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)obj);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <span class="comment">/* no memory section needed */</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;   <a class="code" href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">saveStack</a>-&gt;<a class="code" href="class_rexx_stack.html#a9c843a1cdb81ee0e15697ed52dfa8f96">push</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)obj);</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;}</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a8604ae06ebf45530c006e036170001b4"> 1658</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#a8604ae06ebf45530c006e036170001b4">RexxMemory::holdObject</a>(<a class="code" href="class_rexx_internal_object.html">RexxInternalObject</a> *obj)</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment">/* Function:  Place an object on the hold stack                               */</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;{</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   <span class="comment">/* Push object onto saveStack */</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   <a class="code" href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">saveStack</a>-&gt;<a class="code" href="class_rexx_stack.html#a9c843a1cdb81ee0e15697ed52dfa8f96">push</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)obj);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;   <span class="comment">/* return held  object               */</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;   <span class="keywordflow">return</span> (<a class="code" href="class_rexx_object.html">RexxObject</a> *)obj;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;}</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160; </div>
<div class="line"><a name="l01669"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a2c16f965b1f1f9996a1694708a7199fb"> 1669</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#a2c16f965b1f1f9996a1694708a7199fb">RexxMemory::setParms</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *deadSegs, <a class="code" href="class_rexx_object.html">RexxObject</a> *notUsed)</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="comment">/* Arguments:  Maximum and minimum allocations between reclamations           */</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;{</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;}</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment"> * Save the memory image as part of the interpreter</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment"> * build.</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a2d60188812041e15870a49908652b0e4"> 1681</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a2d60188812041e15870a49908652b0e4">RexxMemory::saveImage</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *imageTarget)</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<span class="comment">/* Function:  Save the memory image as part of interpreter build              */</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;{</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    FILE *image;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *markObject;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <a class="code" href="class_memory_stats.html">MemoryStats</a> _imageStats;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="comment">/* array of objects needed at front  */</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="comment">/*of image for faster restore.       */</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keywordtype">int</span>   i;                             <span class="comment">/* loop counter                      */</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <a class="code" href="class_rexx_array.html">RexxArray</a> *primitive_behaviours;     <span class="comment">/* saved array of behaviours         */</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <a class="code" href="class_rexx_array.html">RexxArray</a> *saveArray;                <span class="comment">/* array of objects needed at front  */</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#ae5d9918e80f4016a06d315f424d6cf42">imageStats</a> = &amp;_imageStats;     <span class="comment">/* set the pointer to the current collector */</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                                         <span class="comment">/* of image for faster restore.      */</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    _imageStats.<a class="code" href="class_memory_stats.html#a9e2c9c3d4931464a1a8bb974d1f90d1c">clear</a>();                 <span class="comment">/* clear out image counters          */</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <a class="code" href="class_rexx_memory.html#af4aadcad43e9f834b801c52347d4e108">markReason</a> = <a class="code" href="_rexx_memory_8hpp.html#adf764cbdea00d65edcd07bb9953ad2b7a3fc1a0e7009347055cf152f1c3cc72b9">SAVINGIMAGE</a>;            <span class="comment">// this is an image save</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <a class="code" href="class_rexx_memory.html#a344d05d1aa6e523b7294e5bcc85570b5">globalStrings</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="comment">/* memory Object not saved           */</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <a class="code" href="_rexx_core_8h.html#a34894b9f28a960dff3ca1e7a570e9613">TheKernel</a>-&gt;remove(<a class="code" href="class_rexx_memory.html#aa59ef31d638f28054fea07fce83e2c35">getGlobalName</a>(CHAR_MEMORY));</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    <span class="comment">// this has been protecting every thing critical</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="comment">// from GC events thus far, but now we remove it because</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <span class="comment">// it contains things we don&#39;t want to save in the image.</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="_rexx_core_8h.html#a5cca156bba2a1784fd5dee960ab2fb37">TheEnvironment</a>-&gt;remove(<a class="code" href="class_rexx_memory.html#aa59ef31d638f28054fea07fce83e2c35">getGlobalName</a>(CHAR_KERNEL));</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160; </div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="comment">/* remove any programs left over in  */</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="comment">/* Get an array to hold all special  */</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="comment">/*objs                               */</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    saveArray = <a class="code" href="_array_class_8hpp.html#ab7c1014bab3c11a879f5620e77392b68">new_array</a>(<a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a6d5161d396060a67780a2e07e29699ae">saveArray_highest</a>);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="comment">// Note:  A this point, we don&#39;t have an activity we can use ProtectedObject to save</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="comment">// this with, so we need to use saveObject();</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <a class="code" href="class_rexx_memory.html#a37275cf48e5511c5e21e7f0a934aabeb">saveObject</a>(saveArray);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="comment">/* Add all elements needed in        */</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <span class="comment">/*saveArray                          */</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#a5cca156bba2a1784fd5dee960ab2fb37">TheEnvironment</a>,   <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a255c6fc16b7df68e134d926d9050dbd2">saveArray_ENV</a>);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#a34894b9f28a960dff3ca1e7a570e9613">TheKernel</a>,        <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a589f5443b59f3734008bdbb8784e180c">saveArray_KERNEL</a>);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a>,    <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a9be2a94ee71464ea1059f9e3caea41fc">saveArray_TRUE</a>);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a>,   <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734aa3f4ca7475c8fd8b3d9ddd26b4715e61">saveArray_FALSE</a>);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>,     <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a8505dbae682e8ceb41efed5dc155fe00">saveArray_NIL</a>);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#a52a39bdc8a0d77c92cdc653628dae18d">TheNullArray</a>,     <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a8d0468e9ee701ddc0a1806622a7cbf7a">saveArray_NULLA</a>);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#a7c85c60c44e955cadccd3417e09791cb">TheNullPointer</a>,   <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a763e69d3d5957d2b351d3b2b3da3c3b4">saveArray_NULLPOINTER</a>);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#a5d9c84ece83193ae68ec1799d5785086">TheClassClass</a>,    <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a7e8883b12dca63c4fd33a0cebd6a3628">saveArray_CLASS</a>);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="class_package_manager.html#a5efe27997761916cadfaa85b40248a78">PackageManager::getImageData</a>(), <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734ada83169757ef36f5cfaf3aa842cb5c91">saveArray_PACKAGES</a>);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#a326fcbdbacb21da93606a038bb77d46f">TheSystem</a>,       <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734ab86972d12b1cc6c920aee84db76cbf94">saveArray_SYSTEM</a>);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#a7d3c7e40d27e72855773ed37c616e780">TheFunctionsDirectory</a>,  <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a0cd09147658629cba88bda59583ae763">saveArray_FUNCTIONS</a>);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="_rexx_core_8h.html#a6e1e3e68b398bc452359632237fee529">TheCommonRetrievers</a>,    <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734ae17626da4bd234a9e0498738a2536c43">saveArray_COMMON_RETRIEVERS</a>);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="class_rexx_memory.html#a5a75d64e7d1bce760e4302aedf533126">saveStrings</a>(), <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a1777c6679a921b2a72db47d9d8f21113">saveArray_NAME_STRINGS</a>);</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="comment">/* create the behaviour array        */</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    primitive_behaviours= (<a class="code" href="class_rexx_array.html">RexxArray</a> *)<a class="code" href="_array_class_8hpp.html#ab7c1014bab3c11a879f5620e77392b68">new_array</a>(<a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a5df2c9bc873422800495681c3f8c2b4a">T_Last_Exported_Class</a> + 1);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="comment">/* copy all of the primitive         */</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt;= <a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a5df2c9bc873422800495681c3f8c2b4a">T_Last_Exported_Class</a>; i++)</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="comment">/* behaviours into this array        */</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        primitive_behaviours-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="class_rexx_behaviour.html#a998cf81fb71d4018421c23428694144b">RexxBehaviour::getPrimitiveBehaviour</a>(i), i + 1);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    }</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="comment">/* add to the save array             */</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    saveArray-&gt;<a class="code" href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">put</a>(primitive_behaviours, <a class="code" href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a719692e80fe684799f7a1c9584f221fd">saveArray_PBEHAV</a>);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; </div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a> = (<span class="keywordtype">char</span> *)malloc(<a class="code" href="_rexx_memory_8cpp.html#a4f34aa35780f5dbe9de37ca48aa83b07">MaxImageSize</a>);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="class_rexx_memory.html#a47fa36e6c59dc0aad379a08107fc775c">image_offset</a> = <span class="keyword">sizeof</span>(size_t);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <a class="code" href="class_rexx_memory.html#a872de860b5e6e61ba20dab3da5aac7d0">saveimage</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;    <a class="code" href="class_rexx_memory.html#ac613b306e1989e04bdd7689146190841">disableOrefChecks</a>();                 <span class="comment">/* Don&#39;t try to check OrefSets now.  */</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <a class="code" href="class_rexx_memory.html#af1abe7c97842f40693848401d7d9428d">bumpMarkWord</a>();</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="comment">/* push a unique terminator          */</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(<a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>);</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="comment">/* don&#39;t want to save                */</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="comment">/*savestack/savetabl                 */</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <a class="code" href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">saveStack</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="comment">/* or any of there references in the */</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="class_rexx_memory.html#ab7381c381eeeb9909610ab59f4ac9527">saveTable</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="comment">/* image, which will become OldSpace */</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <a class="code" href="_rexx_core_8h.html#a6891a93610348b439dd2f121a8b6b02d">OrefSet</a>(&amp;<a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>, <a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>, <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160; </div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">pushLiveStack</a>(<a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>);            <span class="comment">/* push a unique terminator          */</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(saveArray);      <span class="comment">/* push live root                    */</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160; </div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">for</span> (markObject = <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>();</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        markObject != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;        <span class="comment">/*   test for unique terminator      */</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        markObject = <a class="code" href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">popLiveStack</a>())</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <span class="comment">/* The mark of this object moved it  */</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="comment">/*to the image, its behaviour now    */</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <span class="comment">/*contains its offset in the image   */</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        <span class="comment">/* so point to the object in the     */</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="comment">/*image.                             */</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="comment">/* the buffer copy                   */</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <a class="code" href="class_rexx_object.html">RexxObject</a> *copyObject = (<a class="code" href="class_rexx_object.html">RexxObject</a> *)(<a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a>+(<a class="code" href="windows_2rexxapitypes_8h.html#a2f338919cf0aa5c3d87df8096b8fa972">uintptr_t</a>)markObject-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        copyObject-&gt;<a class="code" href="class_rexx_object.html#a97fdc2b0890a1d28107324c816c0a8aa">liveGeneral</a>(<a class="code" href="_rexx_memory_8hpp.html#adf764cbdea00d65edcd07bb9953ad2b7a3fc1a0e7009347055cf152f1c3cc72b9">SAVINGIMAGE</a>); <span class="comment">/* mark other referenced objs        */</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <span class="comment">/* non-primitive behaviour?          */</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <span class="keywordflow">if</span> (copyObject-&gt;<a class="code" href="class_rexx_internal_object.html#abd700c43a15c98749f72e68fd3099f81">isNonPrimitive</a>())</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            <span class="comment">/* mark/move behaviour live      */</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(copyObject-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    }</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    image = fopen(imageTarget == NULL ? <a class="code" href="unix_2_platform_definitions_8h.html#a57a6e9b5d94779fa257a279c949ae6cc">BASEIMAGE</a> : imageTarget,<span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="comment">//  image.open(imageTarget == NULL ? BASEIMAGE : imageTarget, RX_O_CREAT | RX_O_TRUNC | RX_O_WRONLY, RX_S_IREAD | RX_S_IWRITE, RX_SH_DENYRW);</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="comment">/* PLace actual size at beginning of buffer*/</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    memcpy(<a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a>, &amp;<a class="code" href="class_rexx_memory.html#a47fa36e6c59dc0aad379a08107fc775c">image_offset</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>));</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="comment">/* Write out buffer (image)      */</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    fwrite(<a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a>, 1, <a class="code" href="class_rexx_memory.html#a47fa36e6c59dc0aad379a08107fc775c">image_offset</a>, image);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    fclose(image);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    free(<a class="code" href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">image_buffer</a>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    printf(<span class="stringliteral">&quot;Object stats for this image save are \n&quot;</span>);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    _imageStats.<a class="code" href="class_memory_stats.html#aa222c9614e021d7c3baaa1a6c3a84068">printSavedImageStats</a>();</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    printf(<span class="stringliteral">&quot;\n\n Total bytes for this image %lu bytes \n&quot;</span>, <a class="code" href="class_rexx_memory.html#a47fa36e6c59dc0aad379a08107fc775c">image_offset</a>);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;}</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a20ba11df75738c79fcd9219bb01fe885"> 1796</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#a20ba11df75738c79fcd9219bb01fe885">RexxMemory::dump</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="comment">/* Function:  Dump the memory tables                                          */</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;{</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    FILE *dumpfile;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    FILE *keyfile;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <a class="code" href="class_memory_segment_pool.html">MemorySegmentPool</a> *<a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a> = this-&gt;<a class="code" href="class_rexx_memory.html#a1211e74cc6e4b9b7e332d1ac80319382">firstPool</a>;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="keywordtype">int</span>   i;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a796e180e28102056c4dabf48ded84db8">dumpEnable</a>)</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    {</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        <span class="comment">/* don&#39;t allow another dump unless   */</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <span class="comment">/*reset by user                      */</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        <a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>.<a class="code" href="class_rexx_memory.html#a796e180e28102056c4dabf48ded84db8">dumpEnable</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        <span class="comment">/* first generate the dump by writing*/</span></div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="comment">/*  each segment to the dumpfile     */</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        printf(<span class="stringliteral">&quot;Dumping object memory to orexdump.dmp\n&quot;</span>);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <span class="comment">/* open for binary write             */</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        dumpfile = fopen(<span class="stringliteral">&quot;orexdump.dmp&quot;</span>,<span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        <span class="comment">/* now generate the key file which   */</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="comment">/*is a series of REXX statements     */</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        printf(<span class="stringliteral">&quot;Creating dump key file in orexdump.key\n&quot;</span>);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <span class="comment">/* open for text write               */</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        keyfile = fopen(<span class="stringliteral">&quot;orexdump.key&quot;</span>,<span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        fprintf(keyfile, <span class="stringliteral">&quot;/* Object REXX dump key file */\n&quot;</span>);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        fprintf(keyfile, <span class="stringliteral">&quot;memoryaddr = %p\n&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        fprintf(keyfile, <span class="stringliteral">&quot;marker = %d\n&quot;</span>, <a class="code" href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">markWord</a>);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="comment">/* dump the oldspace segments */</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <a class="code" href="class_rexx_memory.html#a7c461ee25a4be7a560599735331cc784">oldSpaceSegments</a>.<a class="code" href="class_memory_segment_set.html#a03636135836a91d328829444fd3a453b">dumpSegments</a>(keyfile, dumpfile);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <span class="comment">/* followed by the newer allocations */</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;        <a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_memory_segment_set.html#a03636135836a91d328829444fd3a453b">dumpSegments</a>(keyfile, dumpfile);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        <a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>.<a class="code" href="class_memory_segment_set.html#a03636135836a91d328829444fd3a453b">dumpSegments</a>(keyfile, dumpfile);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        i = 0;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a>)</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        {</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            i++;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            fprintf(keyfile, <span class="stringliteral">&quot;Pool addr.%d = %p\n&quot;</span>, i, <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a>);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            fprintf(keyfile, <span class="stringliteral">&quot;Pool size.%d = %d\n&quot;</span>, i, <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a>-&gt;<a class="code" href="class_memory_segment_pool_header.html#a8a9643a0b6840e74ea52165fbf42d0db">reserved</a>);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;            <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a> = <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a>-&gt;<a class="code" href="class_memory_segment_pool.html#ae9fa676ca72c5e4dab94188f8c1e7ef4">nextPool</a>();</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        }</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160; </div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt;= <a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a5df2c9bc873422800495681c3f8c2b4a">T_Last_Exported_Class</a>; i++)</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        {</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            fprintf(keyfile, <span class="stringliteral">&quot;Behaviour type %d = %p\n&quot;</span>, i, <a class="code" href="class_rexx_behaviour.html#a998cf81fb71d4018421c23428694144b">RexxBehaviour::getPrimitiveBehaviour</a>(i));</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160; </div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <span class="comment">/* now close actual dump and key file*/</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        fclose(dumpfile);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        fclose(keyfile);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;}</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160; </div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a51bc42e5fd456d3cb6097e5a78e7328a"> 1854</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#a51bc42e5fd456d3cb6097e5a78e7328a">RexxMemory::setDump</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *selection)</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;<span class="comment">/* Arguments:  selection, 0 for no, anything else for yes                     */</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<span class="comment">/*  Returned:  Nothing                                                        */</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;{</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordflow">if</span> (selection != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    {</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        <a class="code" href="class_rexx_memory.html#a796e180e28102056c4dabf48ded84db8">dumpEnable</a> = selection-&gt;<a class="code" href="class_rexx_object.html#ad53cd228b19e7ab23d63d92142994b18">truthValue</a>(<a class="code" href="_rexx_error_codes_8h.html#a02d4ce841ccb5459e53d43272aa66c99">Error_Logical_value_method</a>);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    }</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keywordflow">return</span> selection;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;}</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ac43a0d3046bc97b4f56435785c146188"> 1868</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#ac43a0d3046bc97b4f56435785c146188">RexxMemory::gutCheck</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment">/* Arguments:  None                                                           */</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;<span class="comment">/*  Returned:  Nothing                                                        */</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;{</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <a class="code" href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a>  count, testcount;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <a class="code" href="_rexx_hash_table_8hpp.html#a5a35ccbe82381c822b658d60fdaaa980">HashLink</a> j;</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordtype">bool</span> restoreimagesave;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <a class="code" href="class_rexx_integer.html">RexxInteger</a> *value;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <a class="code" href="class_rexx_integer.html">RexxInteger</a> *testValue;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *index;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="comment">/* temp OREF used to hold original   */</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="comment">/*and test versions                  */</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <a class="code" href="class_rexx_identity_table.html">RexxIdentityTable</a> *tempold2new;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160; </div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    printf(<span class="stringliteral">&quot;Comparing old2new with the current system.\n&quot;</span>);</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160; </div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="comment">/* build a test remembered set       */</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    tempold2new = <a class="code" href="_identity_table_class_8hpp.html#a5fdeaa4bdd19056b2d8704d0a60165ab">new_identity_table</a>();</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    restoreimagesave = <a class="code" href="class_rexx_memory.html#af35247d4e3ff4fadcef9284c837b6115">restoreimage</a>;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <a class="code" href="class_rexx_memory.html#af35247d4e3ff4fadcef9284c837b6115">restoreimage</a> = <span class="keyword">true</span>;                 <span class="comment">/* setting both of these to true will*/</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                                         <span class="comment">/* traverse System OldSpace and live */</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                                         <span class="comment">/*mark all objects                   */</span></div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <a class="code" href="class_rexx_memory.html#a7c461ee25a4be7a560599735331cc784">oldSpaceSegments</a>.<a class="code" href="class_old_space_segment_set.html#afe2cb98ec19c68fd39a9914c7547ab57">markOldSpaceObjects</a>();</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160; </div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <a class="code" href="class_rexx_memory.html#af35247d4e3ff4fadcef9284c837b6115">restoreimage</a> = restoreimagesave;     <span class="comment">/* all done building remembered set  */</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                                         <span class="comment">/* For all object in old2new table   */</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">for</span> (j = <a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#af0e5b6bbd85fc0930840c4c5f29e334a">first</a>();</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        (index = (<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a82457e66cf92a22b2fb331c83dd03a93">index</a>(j)) != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        j = <a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a08f9fb724d737a2e6767b8af11bdc285">next</a>(j))</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    {</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="comment">/* Get refCount for this obj old2new */</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        value = (<a class="code" href="class_rexx_integer.html">RexxInteger</a> *)this-&gt;<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>-&gt;<a class="code" href="class_rexx_identity_table.html#a69b70c0bc0e6bef5f5b37869793d4fb4">get</a>(index);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <span class="comment">/* new refcount for obj in newly     */</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        <span class="comment">/*build old2new table                */</span></div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        testValue = (<a class="code" href="class_rexx_integer.html">RexxInteger</a> *)tempold2new-&gt;<a class="code" href="class_rexx_identity_table.html#a69b70c0bc0e6bef5f5b37869793d4fb4">get</a>(index);</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        <span class="comment">/* Was object found in new table?    */</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        <span class="keywordflow">if</span> (testValue == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;            <span class="comment">/* nope, extra stuff in orig.        */</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            printf(<span class="stringliteral">&quot;object:  %p,  type:  %lu, is extra in old2new.\n\n&quot;</span>,</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                   index, index-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>-&gt;<a class="code" href="class_rexx_behaviour.html#af217f748df975dbc4e3b220b6a12efff">getClassType</a>());</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            <span class="comment">/* now make sure both refCounts are  */</span></div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            <span class="comment">/* the same.                         */</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            count = value-&gt;<a class="code" href="class_rexx_integer.html#a907118c4dfac424d950bd60b1a7557e1">getValue</a>();</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;            testcount = testValue-&gt;<a class="code" href="class_rexx_integer.html#a907118c4dfac424d950bd60b1a7557e1">getValue</a>();</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            <span class="keywordflow">if</span> (count != testcount)</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;            {</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                printf(<span class="stringliteral">&quot;object:  %p,  type:  %lu, has an incorrect refcount.\n&quot;</span>,</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;                       index, index-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>-&gt;<a class="code" href="class_rexx_behaviour.html#af217f748df975dbc4e3b220b6a12efff">getClassType</a>());</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                printf(<span class="stringliteral">&quot;Refcount for object is %ld, should be %ld.\n\n&quot;</span>, count, testcount);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;            }</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;            <span class="comment">/* now remove object from new table  */</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;            tempold2new-&gt;<a class="code" href="class_rexx_identity_table.html#aa71298bce9f640e947d3cc48f6eb33d7">remove</a>(index);</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        }</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    }</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="comment">/* Anything left in new table was    */</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="comment">/* missing from original old2new     */</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="comment">/* so iterate through it and report  */</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="comment">/* the missing objects               */</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="keywordflow">for</span> (j = tempold2new-&gt;<a class="code" href="class_rexx_hash_table_collection.html#af0e5b6bbd85fc0930840c4c5f29e334a">first</a>();</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        (index = (<a class="code" href="class_rexx_object.html">RexxObject</a> *)tempold2new-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a82457e66cf92a22b2fb331c83dd03a93">index</a>(j)) != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        j = tempold2new-&gt;<a class="code" href="class_rexx_hash_table_collection.html#a08f9fb724d737a2e6767b8af11bdc285">next</a>(j))</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    {</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;        printf(<span class="stringliteral">&quot;object:  %p,  type:  %lu, is missing from old2new.\n\n&quot;</span>,</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;               index,index-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>-&gt;<a class="code" href="class_rexx_behaviour.html#af217f748df975dbc4e3b220b6a12efff">getClassType</a>());</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    }</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160; </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;    <span class="comment">/* now take a dump so that we can    */</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="comment">/*  diagnose any problems we just    */</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="comment">/*uncovered                          */</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    printf(<span class="stringliteral">&quot;Dumping object memory.\n&quot;</span>);  <span class="comment">/* tell the user what&#39;s happening    */</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a796e180e28102056c4dabf48ded84db8">dumpEnable</a> = <span class="keyword">true</span>;             <span class="comment">/* turn dumps on                     */</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a20ba11df75738c79fcd9219bb01fe885">dump</a>();                        <span class="comment">/* take the dump                     */</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160; </div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;}</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160; </div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160; </div>
<div class="line"><a name="l01952"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#abeff7090c3ad31cc7857a9fbfe15bdbb"> 1952</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#abeff7090c3ad31cc7857a9fbfe15bdbb">RexxMemory::setObjectOffset</a>(<span class="keywordtype">size_t</span> offset)</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="comment">/* Arguments:  offset, the length to add to references within arriving objects*/</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;<span class="comment">/*     since only one unflattem can happen at a time, we need to ensure       */</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="comment">/*     serialization, so if already have an objOffset, wait unto done.        */</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="comment">/*  Returned:  Nothing                                                        */</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;{</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="comment">/* Starting or ending? */</span></div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordflow">if</span> (offset != 0)</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        <span class="comment">/* have a value, starting unflatten.  See if we can get MUTEX */</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        <span class="comment">/* immed */</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="class_rexx_memory.html#a41cf314cf8314b5ad7cb0bdbdf85b156">unflattenMutex</a>.<a class="code" href="class_sys_mutex.html#a941d03cafcbd85d7e7309ff59915a7be">requestImmediate</a>(<span class="stringliteral">&quot;RexxMemory::setObjectOffset&quot;</span>, 0))</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        {</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            {</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;                <a class="code" href="class_unsafe_block.html">UnsafeBlock</a> releaser;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                <span class="comment">/* wait for current unflatten to end */</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                <a class="code" href="class_rexx_memory.html#a41cf314cf8314b5ad7cb0bdbdf85b156">unflattenMutex</a>.<a class="code" href="class_sys_mutex.html#ad782f6720e30491d1b461700f1a1905e">request</a>(<span class="stringliteral">&quot;RexxMemory::setObjectOffset&quot;</span>, 0);</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            }</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        }</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    }</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        <span class="comment">/* no value, ending an unflatten */</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        <span class="comment">/* Release the MUTEX.                */</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <a class="code" href="class_rexx_memory.html#a41cf314cf8314b5ad7cb0bdbdf85b156">unflattenMutex</a>.<a class="code" href="class_sys_mutex.html#a2d6d4c39a1f808d97f1cacffa59af6ff">release</a>(<span class="stringliteral">&quot;RexxMemory::setObjectOffset&quot;</span>, 0);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    }</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160; </div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="comment">/* setup offSet value.               */</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#a9d8653be9f538214b25068b12a648bcb">objOffset</a> = offset;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;}</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160; </div>
<div class="line"><a name="l01987"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a0605cdee07c9a0ad65d4f6d9ab9edcb6"> 1987</a></span>&#160;<span class="keywordtype">void</span>      <a class="code" href="class_rexx_memory.html#a0605cdee07c9a0ad65d4f6d9ab9edcb6">RexxMemory::setEnvelope</a>(<a class="code" href="class_rexx_envelope.html">RexxEnvelope</a> *_envelope)</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="comment">/* Arguments:  envelope object,                                               */</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="comment">/*     since only one unflattem can happen at a time, we need to ensure       */</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="comment">/*     serialization, so if already have an envelope,  wait unto done.        */</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="comment">/*  Returned:  Nothing                                                        */</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;{</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="comment">/* Starting or ending?               */</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="keywordflow">if</span> (_envelope != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    {</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        <span class="comment">/* have a value, starting unflatt    */</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;        <span class="comment">/* See if we can get MUTEX immed     */</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="class_rexx_memory.html#a90fb5513ba3b8500b1cebac03f2a83f9">envelopeMutex</a>.<a class="code" href="class_sys_mutex.html#a941d03cafcbd85d7e7309ff59915a7be">requestImmediate</a>(<span class="stringliteral">&quot;RexxMemory::setEnvelope&quot;</span>, 0))</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            <span class="comment">/* Nope, have to wait for it.        */</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            <span class="comment">/* release kernel access.            */</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            {</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                <a class="code" href="class_unsafe_block.html">UnsafeBlock</a> releaser;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                <a class="code" href="class_rexx_memory.html#a90fb5513ba3b8500b1cebac03f2a83f9">envelopeMutex</a>.<a class="code" href="class_sys_mutex.html#ad782f6720e30491d1b461700f1a1905e">request</a>(<span class="stringliteral">&quot;RexxMemory::setEnvelope&quot;</span>, 0);   <span class="comment">/* wait for current unflat to end    */</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;            }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;    {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <span class="comment">/* no value, ending an unflatten     */</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        <a class="code" href="class_rexx_memory.html#a90fb5513ba3b8500b1cebac03f2a83f9">envelopeMutex</a>.<a class="code" href="class_sys_mutex.html#a2d6d4c39a1f808d97f1cacffa59af6ff">release</a>(<span class="stringliteral">&quot;RexxMemory::setEnvelope&quot;</span>, 0);         <span class="comment">/* Release the MUTEX.                */</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    }</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160; </div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#ab28b0f134bbf54d275020bf292e0f872">envelope</a> = _envelope;          <span class="comment">/* set the envelope object           */</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;}</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160; </div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160; </div>
<div class="line"><a name="l02021"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ad57a814a666f729afb003b1e46fb0a32"> 2021</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#ad57a814a666f729afb003b1e46fb0a32">RexxMemory::setOref</a>(<span class="keywordtype">void</span> *oldValue, <a class="code" href="class_rexx_object.html">RexxObject</a> *value)</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="comment">/* Arguments:  index-- OREF to set;  value--OREF to which objr is set         */</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="comment">/*  Returned:  nothing                                                        */</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;{</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <a class="code" href="class_rexx_integer.html">RexxInteger</a> *refcount;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> **oldValueLoc = (<a class="code" href="class_rexx_object.html">RexxObject</a> **)oldValue;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *index = *oldValueLoc;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160; </div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a> != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    {</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        <span class="keywordflow">if</span> (index != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a> &amp;&amp; index-&gt;<a class="code" href="class_rexx_internal_object.html#a32fcf21006cceefbd20f06ac21238d2f">isNewSpace</a>())</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;            <span class="comment">/* decrement reference count for     */</span><span class="comment"></span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment">            /**index                             */</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;            refcount = (<a class="code" href="class_rexx_integer.html">RexxInteger</a> *)this-&gt;<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>-&gt;<a class="code" href="class_rexx_identity_table.html#a69b70c0bc0e6bef5f5b37869793d4fb4">get</a>(index);</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;            <span class="keywordflow">if</span> (refcount != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                <span class="comment">/* found a value for refcount, now   */</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;                <span class="comment">/*decrement the count                */</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;                refcount-&gt;<a class="code" href="class_rexx_integer.html#ab1dc9005992ace2a212df468216a9e42">decrementValue</a>();</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                <span class="comment">/* if the new value is 0, *index is  */</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;                <span class="comment">/*no longer ref&#39;ed from oldspace     */</span></div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;                <span class="keywordflow">if</span> (refcount-&gt;<a class="code" href="class_rexx_integer.html#a907118c4dfac424d950bd60b1a7557e1">getValue</a>() == 0)</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;                {</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;                    <span class="comment">/* delete the entry for *index       */</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                    this-&gt;<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>-&gt;<a class="code" href="class_rexx_identity_table.html#aa71298bce9f640e947d3cc48f6eb33d7">remove</a>(index);</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;                }</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;            }</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;            {</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;                <span class="comment">/* naughty, naughty, someone didn&#39;t use SetOref */</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;                printf(<span class="stringliteral">&quot;******** error in memory_setoref, unable to decrement refcount\n&quot;</span>);</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;                printf(<span class="stringliteral">&quot;Naughty object reference is from:  %p\n&quot;</span>, oldValueLoc);</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                printf(<span class="stringliteral">&quot;Naughty object reference is at:  %p\n&quot;</span>, index);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                printf(<span class="stringliteral">&quot;Naughty object reference type is:  %lu\n&quot;</span>, (index)-&gt;<a class="code" href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">behaviour</a>-&gt;<a class="code" href="class_rexx_behaviour.html#af217f748df975dbc4e3b220b6a12efff">getClassType</a>());</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            }</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        }</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        <span class="keywordflow">if</span> (value != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a> &amp;&amp; value-&gt;<a class="code" href="class_rexx_internal_object.html#a32fcf21006cceefbd20f06ac21238d2f">isNewSpace</a>())</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        {</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;            <span class="comment">/* increment reference count for     */</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;            <span class="comment">/*value                              */</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            refcount = (<a class="code" href="class_rexx_integer.html">RexxInteger</a> *)this-&gt;<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>-&gt;<a class="code" href="class_rexx_identity_table.html#a69b70c0bc0e6bef5f5b37869793d4fb4">get</a>(value);</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            <span class="comment">/* was there a reference here        */</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            <span class="comment">/*already?                           */</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <span class="keywordflow">if</span> (refcount)</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;            {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                <span class="comment">/* yep, found one, so just increment */</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                <span class="comment">/*it                                 */</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                refcount-&gt;<a class="code" href="class_rexx_integer.html#a44c144513baa08053f02bf0c456657d7">incrementValue</a>();</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;            }</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            {</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                <span class="comment">/* nope, this is the first, so set   */</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                <span class="comment">/*the refcount to 1                  */</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                <span class="comment">// NOTE:  We don&#39;t use new_integer here because we need a mutable</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                <span class="comment">// integer and can&#39;t use the one out of the cache.</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;                this-&gt;<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>-&gt;<a class="code" href="class_rexx_identity_table.html#a36a69159244f9d641e67b42dfe99896d">put</a>(<span class="keyword">new</span> <a class="code" href="class_rexx_integer.html">RexxInteger</a>(1), value);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;            }</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    }</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="comment">/* now make the assignment, just     */</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="comment">/*like all this stuff never happened!*/</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <span class="keywordflow">return</span> *oldValueLoc = value;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;}</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160; </div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160; </div>
<div class="line"><a name="l02091"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#aab5a3d05709808817867135b48db569e"> 2091</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#aab5a3d05709808817867135b48db569e">RexxMemory::checkSetOref</a>(</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                <a class="code" href="class_rexx_object.html">RexxObject</a>  *setter,</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                <a class="code" href="class_rexx_object.html">RexxObject</a> **index,</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                <a class="code" href="class_rexx_object.html">RexxObject</a>  *value,</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span>  *fileName,</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                <span class="keywordtype">int</span>          lineNum)</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;<span class="comment">/* Arguments:  index-- OREF to set;  value--OREF to which objr is set         */</span></div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;<span class="comment">/*  Returned:  nothing                                                        */</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;{</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <span class="keywordtype">bool</span> allOK = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *outFileName;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    FILE *outfile;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <span class="comment">/* Skip all checks during saveimage  */</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#abea5cd734c025badddb6a9d4be2b0c6b">checkSetOK</a>)</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    {                     <span class="comment">/* and initial part of restore Image */</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="class_rexx_memory.html#a9971e9afc60b79a1c6afc65cc0a62645">inObjectStorage</a>(setter))</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        {      <span class="comment">/* Is the setter object invalid      */</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;            allOK = <span class="keyword">false</span>;                     <span class="comment">/* No, just put out setters addr.    */</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;            outFileName = <a class="code" href="class_sys_file_system.html#a62b965c0f5bac93b712ce2a91fe1ca6a">SysFileSystem::getTempFileName</a>();<span class="comment">/* Get a temporary file name for out */</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            outfile = fopen(outFileName,<span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot;The Setter object at %p is invalid...\n&quot;</span>);</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160; </div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;            <span class="comment">/* Is the new value a real object?   */</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        }</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &amp;&amp; (<a class="code" href="class_rexx_behaviour.html">RexxBehaviour</a> *)value != <a class="code" href="_primitive_behaviour_names_8h.html#a53c81562afc336703f0492689d6cf6cd">TheBehaviourBehaviour</a> &amp;&amp; (<a class="code" href="class_rexx_behaviour.html">RexxBehaviour</a> *)value != <a class="code" href="class_rexx_behaviour.html#a998cf81fb71d4018421c23428694144b">RexxBehaviour::getPrimitiveBehaviour</a>(<a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a6a6067d86a56599f85e4f399479609e5">T_Behaviour</a>) &amp;&amp; !<a class="code" href="class_rexx_memory.html#a2000daee5aacc43dc6504ad25ca84c2c">objectReferenceOK</a>(value))</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        {</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            allOK = <span class="keyword">false</span>;                     <span class="comment">/* No, put out the info              */</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            outFileName = <a class="code" href="class_sys_file_system.html#a62b965c0f5bac93b712ce2a91fe1ca6a">SysFileSystem::getTempFileName</a>();<span class="comment">/* Get a temporary file name for out */</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            outfile = fopen(outFileName,<span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot;The Setter object at %p attempted to put a non object %p, at offset %p\n&quot;</span>,setter, value, (<span class="keywordtype">char</span> *)index - (<span class="keywordtype">char</span> *)setter);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;            <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot; A dump of the Setting object follows: \n&quot;</span>);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;            <a class="code" href="class_rexx_memory.html#acd7bb15742db44f1a4ac392310063529">dumpObject</a>(setter, outfile);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160; </div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        }</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index &gt;= (<a class="code" href="class_rexx_object.html">RexxObject</a> **)((<span class="keywordtype">char</span> *)setter + setter-&gt;<a class="code" href="class_rexx_internal_object.html#a035eb8bf67ca1b43d4238e806a0db0a0">getObjectSize</a>()))</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        {</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;            allOK = <span class="keyword">false</span>;                     <span class="comment">/* Yes, let them know                */</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;            outFileName = <a class="code" href="class_sys_file_system.html#a62b965c0f5bac93b712ce2a91fe1ca6a">SysFileSystem::getTempFileName</a>();<span class="comment">/* Get a temporary file name for out */</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;            outfile = fopen(outFileName,<span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;            <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot;The Setter object at %p has tried to store at offset, which is  outside his object range\n&quot;</span>,setter, (<span class="keywordtype">char</span> *)index - (<span class="keywordtype">char</span> *)setter);</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;            <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot; A dump of the Setting object follows: \n&quot;</span>);</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;            <a class="code" href="class_rexx_memory.html#acd7bb15742db44f1a4ac392310063529">dumpObject</a>(setter, outfile);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        }</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160; </div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    }</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160; </div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keywordflow">if</span> (!allOK)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        <a class="code" href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a>(outfile, <span class="stringliteral">&quot; The error occurred in line %u of file %s\n&quot;</span>, lineNum, fileName);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        printf(<span class="stringliteral">&quot;The dump data has been written to file %s \n&quot;</span>,outFileName);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        fclose(outfile);</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        <a class="code" href="class_interpreter.html#a35ac2ba024b6581b6542ab04e2f2e1a3">Interpreter::logicError</a>(<span class="stringliteral">&quot;Something went really wrong in SetOref ...\n&quot;</span>);</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    }</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <span class="comment">/* now do the normal SetOref() stuff */</span></div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;    <span class="keywordflow">return</span>(setter-&gt;<a class="code" href="class_rexx_internal_object.html#a5c671ae1947e8142f5177a31e47d1519">isOldSpace</a>() ? (this-&gt;setOref(index, value)) : (*index = value));</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;}</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160; </div>
<div class="line"><a name="l02154"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a6f856b156ac06b1f24a87852c72047b6"> 2154</a></span>&#160;<a class="code" href="class_rexx_stack.html">RexxStack</a> *<a class="code" href="class_rexx_memory.html#a6f856b156ac06b1f24a87852c72047b6">RexxMemory::getFlattenStack</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;<span class="comment">/* Function:  Allocate and lock the flatten stack capability.                 */</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;{</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_rexx_memory.html#ad217209fb954ffaca59c42f4970a0131">flattenMutex</a>.<a class="code" href="class_sys_mutex.html#a941d03cafcbd85d7e7309ff59915a7be">requestImmediate</a>(<span class="stringliteral">&quot;RexxMemory::getFlattenStack&quot;</span>, 0))</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    {</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        <span class="comment">/* Nope, have to wait for it.        */</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <span class="comment">/* release kernel access.            */</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            <a class="code" href="class_unsafe_block.html">UnsafeBlock</a> releaser;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;            <a class="code" href="class_rexx_memory.html#ad217209fb954ffaca59c42f4970a0131">flattenMutex</a>.<a class="code" href="class_sys_mutex.html#ad782f6720e30491d1b461700f1a1905e">request</a>(<span class="stringliteral">&quot;RexxMemory::getFlattenStack&quot;</span>, 0);         <span class="comment">/* wait for current flattento end    */</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        }</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <span class="comment">/* create a temporary stack          */</span></div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    this-&gt;<a class="code" href="class_rexx_memory.html#ac2d8280cc91895f4afa8ae21736dc25c">flattenStack</a> = <span class="keyword">new</span> (<a class="code" href="_rexx_memory_8cpp.html#ab1ab5cca44a1e8a598d8958d155586aa">LiveStackSize</a>, <span class="keyword">true</span>) <a class="code" href="class_rexx_stack.html">RexxStack</a> (<a class="code" href="_rexx_memory_8cpp.html#ab1ab5cca44a1e8a598d8958d155586aa">LiveStackSize</a>);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_rexx_memory.html#ac2d8280cc91895f4afa8ae21736dc25c">flattenStack</a>;           <span class="comment">/* return flatten Stack              */</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;}</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160; </div>
<div class="line"><a name="l02173"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#aa9dcb05368985bdc3c47b38c2b890bf1"> 2173</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#aa9dcb05368985bdc3c47b38c2b890bf1">RexxMemory::returnFlattenStack</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="comment">/* Function:  Release the flatten stack                                       */</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;{</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;   free((<span class="keywordtype">void</span> *)this-&gt;<a class="code" href="class_rexx_memory.html#ac2d8280cc91895f4afa8ae21736dc25c">flattenStack</a>);   <span class="comment">/* release the flatten stack         */</span></div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;   this-&gt;<a class="code" href="class_rexx_memory.html#ad217209fb954ffaca59c42f4970a0131">flattenMutex</a>.<a class="code" href="class_sys_mutex.html#a2d6d4c39a1f808d97f1cacffa59af6ff">release</a>(<span class="stringliteral">&quot;RexxMemory::returnFlattenStack&quot;</span>, 0);       <span class="comment">/* and release the semaphore         */</span></div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;}</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160; </div>
<div class="line"><a name="l02182"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a88db59d2c2644e37e72fad655f587ce2"> 2182</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_memory.html#a88db59d2c2644e37e72fad655f587ce2">RexxMemory::dumpImageStats</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;{</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <a class="code" href="class_memory_stats.html">MemoryStats</a> _imageStats;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <span class="comment">/* clear all of the statistics */</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    _imageStats.<a class="code" href="class_memory_stats.html#a9e2c9c3d4931464a1a8bb974d1f90d1c">clear</a>();</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <span class="comment">/* gather a fresh set of stats for all of the segments */</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <a class="code" href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">newSpaceNormalSegments</a>.<a class="code" href="class_memory_segment_set.html#abab6a3bfe74ce7d2ff87a934f667b6ab">gatherStats</a>(&amp;_imageStats, &amp;_imageStats.<a class="code" href="class_memory_stats.html#a64d57cc248dc938090ccebb157b6419e">normalStats</a>);</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <a class="code" href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">newSpaceLargeSegments</a>.<a class="code" href="class_memory_segment_set.html#abab6a3bfe74ce7d2ff87a934f667b6ab">gatherStats</a>(&amp;_imageStats, &amp;_imageStats.<a class="code" href="class_memory_stats.html#afcbcaae45a176127a971e1dff427e264">largeStats</a>);</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160; </div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    <span class="comment">/* print out the memory statistics */</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    _imageStats.<a class="code" href="class_memory_stats.html#ac222f04fb82d979f8151281f6f876c4f">printMemoryStats</a>();</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;}</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160; </div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;<span class="comment"> * Add a new pool to the memory set.</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;<span class="comment"> * @param pool   The new pool.</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a2a45d346a6c149ddac328c5b8a5017a2"> 2207</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a2a45d346a6c149ddac328c5b8a5017a2">RexxMemory::memoryPoolAdded</a>(<a class="code" href="class_memory_segment_pool.html">MemorySegmentPool</a> *pool)</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;{</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a> = pool;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;}</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160; </div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160; </div>
<div class="line"><a name="l02213"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a2c35093c92c25ddbfbd73263d111bafe"> 2213</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a2c35093c92c25ddbfbd73263d111bafe">RexxMemory::shutdown</a>()</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="comment">/* Function:  Free all the memory pools currently accessed by this process    */</span></div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="comment">/*    If not already released.  Then set process Pool to NULL, indicate       */</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="comment">/*    pools have been released.                                               */</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;{</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <a class="code" href="class_memory_segment_pool.html">MemorySegmentPool</a> *pool = <a class="code" href="class_rexx_memory.html#a1211e74cc6e4b9b7e332d1ac80319382">firstPool</a>;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordflow">while</span> (pool != NULL)</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    {</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        <span class="comment">// save the one we&#39;re about to release, and get the next one.</span></div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <a class="code" href="class_memory_segment_pool.html">MemorySegmentPool</a> *releasedPool = pool;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        pool = pool-&gt;<a class="code" href="class_memory_segment_pool.html#ae9fa676ca72c5e4dab94188f8c1e7ef4">nextPool</a>();</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        <span class="comment">// go free this pool up</span></div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;        releasedPool-&gt;<a class="code" href="class_memory_segment_pool.html#a416069070437652bd6520fabb8433510">freePool</a>();</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    }</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="comment">// clear out the memory pool information</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <a class="code" href="class_rexx_memory.html#a1211e74cc6e4b9b7e332d1ac80319382">firstPool</a> = NULL;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <a class="code" href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">currentPool</a> = NULL;</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;}</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160; </div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160; </div>
<div class="line"><a name="l02235"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a7ef90acd26b9949c2ae78ffdf3bf3d36"> 2235</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a7ef90acd26b9949c2ae78ffdf3bf3d36">RexxMemory::setUpMemoryTables</a>(<a class="code" href="class_rexx_identity_table.html">RexxIdentityTable</a> *old2newTable)</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;<span class="comment">/* Function:  Set up the initial memory table.                                */</span></div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;{</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="comment">/* fix up the previously allocated live stack to have the correct */</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="comment">/* characteristics...we&#39;re almost ready to go on the air. */</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    <a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a>-&gt;<a class="code" href="class_rexx_internal_object.html#a154bb75847091becfebd0c3259a1a92c">setBehaviour</a>(<a class="code" href="_primitive_behaviour_names_8h.html#aaca2497cf1e772768af01824a5fe5060">TheStackBehaviour</a>);</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <a class="code" href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">liveStack</a>-&gt;<a class="code" href="class_rexx_stack.html#a21a835ce6e12fe4f163d5ac294a1b7e6">init</a>(<a class="code" href="_rexx_memory_8cpp.html#ab1ab5cca44a1e8a598d8958d155586aa">LiveStackSize</a>);</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="comment">/* set up the old 2 new table provided for us */</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a> = old2newTable;</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    <span class="comment">/* if we have a table (this is NULL if we&#39;re not running from a */</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <span class="comment">/* restored image), then add the first entry to the table. */</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a> != NULL)</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    {</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;        <span class="comment">/* now add old2new itself to the old2new table! */</span></div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        <span class="comment">// NOTE:  We don&#39;t use new_integer here because we need a mutable</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <span class="comment">// integer and can&#39;t use the one out of the cache.</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;        <a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>-&gt;<a class="code" href="class_rexx_identity_table.html#a36a69159244f9d641e67b42dfe99896d">put</a>(<span class="keyword">new</span> <a class="code" href="class_rexx_integer.html">RexxInteger</a>(1), <a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>);</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    }</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <span class="comment">/* first official OrefSet!! */</span></div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <a class="code" href="_rexx_core_8h.html#a6891a93610348b439dd2f121a8b6b02d">OrefSet</a>(<span class="keyword">this</span>, <a class="code" href="class_rexx_memory.html#a1b7e2e74116ea0aca24ccf72b0ab2852">markTable</a>, <a class="code" href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">old2new</a>);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    <span class="comment">/* Now get our savestack and savetable */</span></div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <span class="comment">/* allocate savestack with usable and allocated size */</span></div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="comment">/* NOTE:  We do not use OREF_SET here.  We want to control the */</span></div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="comment">/* order in which these two are marked in the live(size_t) method of */</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="comment">/* RexxMemory.  If these are added to the mark table, they&#39;ll be */</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="comment">/* processed earlier than we&#39;d like. */</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <a class="code" href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">saveStack</a> = <span class="keyword">new</span> (<a class="code" href="_rexx_memory_8cpp.html#a74403b0d13c3e38b90012eee5f2b81c5">SaveStackAllocSize</a>) <a class="code" href="class_rexx_save_stack.html">RexxSaveStack</a>(<a class="code" href="_rexx_memory_8cpp.html#a0e8424ed703355ce1fec17288824fc24">SaveStackSize</a>, <a class="code" href="_rexx_memory_8cpp.html#a74403b0d13c3e38b90012eee5f2b81c5">SaveStackAllocSize</a>);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <span class="comment">/* from this point on, we push things on to the save stack */</span></div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <a class="code" href="class_rexx_memory.html#ab7381c381eeeb9909610ab59f4ac9527">saveTable</a> = <a class="code" href="_identity_table_class_8hpp.html#a5fdeaa4bdd19056b2d8704d0a60165ab">new_identity_table</a>();</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;}</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160; </div>
<div class="line"><a name="l02268"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#a7425f99b74280200ba2dadd491aa90a5"> 2268</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#a7425f99b74280200ba2dadd491aa90a5">RexxMemory::createLocks</a>()</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;<span class="comment">/* Function:  Do the initial lock creation for memory setup.                  */</span></div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;{</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                                       <span class="comment">/* Create/Open Shared MUTEX      */</span></div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                                       <span class="comment">/* Semophores used to serialize  */</span></div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;                                       <span class="comment">/* the flatten/unflatten process */</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    <a class="code" href="class_rexx_memory.html#ad217209fb954ffaca59c42f4970a0131">flattenMutex</a>.<a class="code" href="class_sys_mutex.html#aadd47e255bc8b29dc1671283b60587c4">create</a>();</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <a class="code" href="class_rexx_memory.html#a41cf314cf8314b5ad7cb0bdbdf85b156">unflattenMutex</a>.<a class="code" href="class_sys_mutex.html#aadd47e255bc8b29dc1671283b60587c4">create</a>();</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    <a class="code" href="class_rexx_memory.html#a90fb5513ba3b8500b1cebac03f2a83f9">envelopeMutex</a>.<a class="code" href="class_sys_mutex.html#aadd47e255bc8b29dc1671283b60587c4">create</a>();</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;}</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ab2b1a2df9d68b316677f58dcef5c2b1b"> 2281</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#ab2b1a2df9d68b316677f58dcef5c2b1b">RexxMemory::closeLocks</a>()</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="comment">/* Function:  Do the initial lock creation for memory setup.                  */</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;{</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                                       <span class="comment">/* Create/Open Shared MUTEX      */</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                                       <span class="comment">/* Semophores used to serialize  */</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                                       <span class="comment">/* the flatten/unflatten process */</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <a class="code" href="class_rexx_memory.html#ad217209fb954ffaca59c42f4970a0131">flattenMutex</a>.<a class="code" href="class_sys_mutex.html#a2ccac2bd5f877849c676647d61d2e878">close</a>();</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;    <a class="code" href="class_rexx_memory.html#a41cf314cf8314b5ad7cb0bdbdf85b156">unflattenMutex</a>.<a class="code" href="class_sys_mutex.html#a2ccac2bd5f877849c676647d61d2e878">close</a>();</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    <a class="code" href="class_rexx_memory.html#a90fb5513ba3b8500b1cebac03f2a83f9">envelopeMutex</a>.<a class="code" href="class_sys_mutex.html#a2ccac2bd5f877849c676647d61d2e878">close</a>();</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;}</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160; </div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;<span class="comment"> * Add a string to the global name table.</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;<span class="comment"> * @param value  The new value to add.</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;<span class="comment"> * @return The single instance of this string.</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#aa59ef31d638f28054fea07fce83e2c35"> 2302</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_rexx_memory.html#aa59ef31d638f28054fea07fce83e2c35">RexxMemory::getGlobalName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *value)</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;{</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <span class="comment">// see if we have a global table.  If not collecting currently,</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="comment">// just return the non-unique value</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160; </div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_rexx_internal_object.html#a5d2f26e4a982a609d916e2ce4e623191">stringValue</a> = <a class="code" href="_string_class_8hpp.html#a99b9d2b62fa4976699b56b8781b4b8a3">new_string</a>(value);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_rexx_memory.html#a344d05d1aa6e523b7294e5bcc85570b5">globalStrings</a> == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    {</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_rexx_internal_object.html#a5d2f26e4a982a609d916e2ce4e623191">stringValue</a>;                <span class="comment">/* just return the string            */</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    }</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160; </div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="comment">// now see if we have this string in the table already</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <a class="code" href="class_rexx_string.html">RexxString</a> *result = (<a class="code" href="class_rexx_string.html">RexxString</a> *)<a class="code" href="class_rexx_memory.html#a344d05d1aa6e523b7294e5bcc85570b5">globalStrings</a>-&gt;<a class="code" href="class_rexx_directory.html#a347644dee4bdc5f9235ffd5f5332f933">at</a>(<a class="code" href="class_rexx_internal_object.html#a5d2f26e4a982a609d916e2ce4e623191">stringValue</a>);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <span class="keywordflow">if</span> (result != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <span class="keywordflow">return</span> result;                       <span class="comment">// return the previously created one</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    }</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <span class="comment">/* add this to the table             */</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <a class="code" href="class_rexx_memory.html#a344d05d1aa6e523b7294e5bcc85570b5">globalStrings</a>-&gt;<a class="code" href="class_rexx_directory.html#a59a5f013bb97bef93e470df085fac61b">put</a>((<a class="code" href="class_rexx_object.html">RexxObject</a> *)<a class="code" href="class_rexx_internal_object.html#a5d2f26e4a982a609d916e2ce4e623191">stringValue</a>, <a class="code" href="class_rexx_internal_object.html#a5d2f26e4a982a609d916e2ce4e623191">stringValue</a>);</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_rexx_internal_object.html#a5d2f26e4a982a609d916e2ce4e623191">stringValue</a>;              <span class="comment">// return the newly created one</span></div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;}</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160; </div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160; </div>
<div class="line"><a name="l02325"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#af35b9928de9d44174c7cb4ac1c877b23"> 2325</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#af35b9928de9d44174c7cb4ac1c877b23">RexxMemory::create</a>()</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;<span class="comment">/* Function:  Initial memory setup during image build                         */</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;{</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <a class="code" href="class_rexx_class.html#a27086b42f9648fce36ba66cf9508008e">RexxClass::createInstance</a>();         <span class="comment">/* get the CLASS class created       */</span></div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    <a class="code" href="class_rexx_integer.html#a0c42ea294d8d45b20a69958379a720da">RexxInteger::createInstance</a>();</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <span class="comment">/* Now get our savestack and         */</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <span class="comment">/*savetable                          */</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>.<a class="code" href="class_rexx_memory.html#a7ef90acd26b9949c2ae78ffdf3bf3d36">setUpMemoryTables</a>(<a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>);</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;                                         <span class="comment">/* Create/Open Shared MUTEX          */</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                                         <span class="comment">/* Semophores used to serialize      */</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                                         <span class="comment">/* the flatten/unflatten process     */</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>.<a class="code" href="class_rexx_memory.html#a7425f99b74280200ba2dadd491aa90a5">createLocks</a>();</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;}</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160; </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; </div>
<div class="line"><a name="l02342"></a><span class="lineno"><a class="line" href="class_rexx_memory.html#ac5b54e9e6c509999412f41775b4e1ef0"> 2342</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_memory.html#ac5b54e9e6c509999412f41775b4e1ef0">RexxMemory::restore</a>()</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="comment">/* Function:  Memory management image restore functions                       */</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;{</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="comment">/* Retrieve special saved objects    */</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <span class="comment">/* OREF_ENV and primitive behaviours */</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="comment">/* are already restored              */</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                                         <span class="comment">/* start restoring class OREF_s      */</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Object, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Class, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                                         <span class="comment">/* (CLASS is already restored)       */</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(String, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Array, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Directory, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Integer, <a class="code" href="class_rexx_integer_class.html">RexxIntegerClass</a>);</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(List, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Message, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Method, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Routine, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Package, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(<a class="code" href="class_rexx_context.html">RexxContext</a>, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(NumberString, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Queue, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Stem, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Supplier, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Table, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(IdentityTable, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Relation, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(MutableBuffer, <a class="code" href="class_rexx_mutable_buffer_class.html">RexxMutableBufferClass</a>);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Pointer, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(Buffer, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(<a class="code" href="class_weak_reference.html">WeakReference</a>, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(StackFrame, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(<a class="code" href="class_rexx_block.html">RexxBlock</a>, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a>(<a class="code" href="class_rexx_text.html">RexxText</a>, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160; </div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>.<a class="code" href="class_rexx_internal_object.html#a808a2435af600afafb41ffc958b4774c">setOldSpace</a>();          <span class="comment">/* Mark Memory Object as OldSpace    */</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <span class="comment">/* initialize the tables used for garbage collection. */</span></div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>.<a class="code" href="class_rexx_memory.html#a7ef90acd26b9949c2ae78ffdf3bf3d36">setUpMemoryTables</a>(<a class="code" href="_identity_table_class_8hpp.html#a5fdeaa4bdd19056b2d8704d0a60165ab">new_identity_table</a>());</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;                                         <span class="comment">/* If first one through, generate all*/</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <a class="code" href="_rexx_core_8h.html#add4beaef2223c4d220d99cba73388681">IntegerZero</a>   = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(0);      <span class="comment">/*  static integers we want to use...*/</span></div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <a class="code" href="_rexx_core_8h.html#a5ad77b0ce0050d8179296ab07a13c317">IntegerOne</a>    = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(1);      <span class="comment">/* This will allow us to use static  */</span></div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    <a class="code" href="_rexx_core_8h.html#a7e5b0b0276c2a7b9946e97fce7f3a568">IntegerTwo</a>    = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(2);      <span class="comment">/* integers instead of having to do a*/</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    <a class="code" href="_rexx_core_8h.html#a21cf64bbe3cb7050c9171eb97eeed2cf">IntegerThree</a>  = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(3);      <span class="comment">/* new_integer evrytime....          */</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <a class="code" href="_rexx_core_8h.html#a3a5555b4681849b170711423e0ce9fca">IntegerFour</a>   = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(4);</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <a class="code" href="_rexx_core_8h.html#a4cfb9d62d140f9eadc298118ea1acd4e">IntegerFive</a>   = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(5);</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <a class="code" href="_rexx_core_8h.html#a7e9f6464199606ee3cb1668da3155763">IntegerSix</a>    = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(6);</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <a class="code" href="_rexx_core_8h.html#a295ecee4ebd2ed8e093205c1be297eea">IntegerSeven</a>  = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(7);</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <a class="code" href="_rexx_core_8h.html#a6549698c3493e92f98a144aff6e19b36">IntegerEight</a>  = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(8);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <a class="code" href="_rexx_core_8h.html#aba6d100f6cb95d0531c2850e902612ad">IntegerNine</a>   = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(9);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <a class="code" href="_rexx_core_8h.html#afea21019918cf76440f0356b6723ee01">IntegerMinusOne</a> = <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(-1);</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;    <span class="comment">// the activity manager will create the local server, which will use the</span></div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="comment">// stream classes.  We need to get the external libraries reloaded before</span></div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <span class="comment">// that happens.</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <a class="code" href="class_interpreter.html#a50eb868a2dfecb4929995401622579d3">Interpreter::init</a>();</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <a class="code" href="class_activity_manager.html#a59f65b6fc5772088b35d9d4d062db793">ActivityManager::init</a>();             <span class="comment">/* do activity restores              */</span></div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <a class="code" href="class_package_manager.html#aa645c856de83f81800b151638806509b">PackageManager::restore</a>();           <span class="comment">// finish restoration of the packages.</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <a class="code" href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a>.<a class="code" href="class_rexx_memory.html#ad1f270f8a8742ded3aa54fd6e34b98a6">enableOrefChecks</a>();     <span class="comment">/* enable setCheckOrefs...           */</span></div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;}</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160; </div>
<div class="ttc" id="a_activity_manager_8hpp_html"><div class="ttname"><a href="_activity_manager_8hpp.html">ActivityManager.hpp</a></div></div>
<div class="ttc" id="a_activity_manager_8hpp_html_a4b24a98df9a8a5f6778c759ecf5d21b0"><div class="ttname"><a href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a></div><div class="ttdeci">void reportException(wholenumber_t error)</div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8hpp_source.html#l00139">ActivityManager.hpp:139</a></div></div>
<div class="ttc" id="a_array_class_8hpp_html"><div class="ttname"><a href="_array_class_8hpp.html">ArrayClass.hpp</a></div></div>
<div class="ttc" id="a_array_class_8hpp_html_ab7c1014bab3c11a879f5620e77392b68"><div class="ttname"><a href="_array_class_8hpp.html#ab7c1014bab3c11a879f5620e77392b68">new_array</a></div><div class="ttdeci">RexxArray * new_array(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00259">ArrayClass.hpp:259</a></div></div>
<div class="ttc" id="a_block_class_8hpp_html"><div class="ttname"><a href="_block_class_8hpp.html">BlockClass.hpp</a></div></div>
<div class="ttc" id="a_buffer_class_8hpp_html"><div class="ttname"><a href="_buffer_class_8hpp.html">BufferClass.hpp</a></div></div>
<div class="ttc" id="a_class_type_codes_8h_html_a9b8ca21e3e1d826b3a2be53bde5c6c02a38458980166ed9f75ce161e1a24110b9"><div class="ttname"><a href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a38458980166ed9f75ce161e1a24110b9">T_Last_Class_Type</a></div><div class="ttdeci">@ T_Last_Class_Type</div><div class="ttdef"><b>Definition:</b> <a href="_class_type_codes_8h_source.html#l00208">ClassTypeCodes.h:208</a></div></div>
<div class="ttc" id="a_class_type_codes_8h_html_a9b8ca21e3e1d826b3a2be53bde5c6c02a5df2c9bc873422800495681c3f8c2b4a"><div class="ttname"><a href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a5df2c9bc873422800495681c3f8c2b4a">T_Last_Exported_Class</a></div><div class="ttdeci">@ T_Last_Exported_Class</div><div class="ttdef"><b>Definition:</b> <a href="_class_type_codes_8h_source.html#l00110">ClassTypeCodes.h:110</a></div></div>
<div class="ttc" id="a_class_type_codes_8h_html_a9b8ca21e3e1d826b3a2be53bde5c6c02a6a6067d86a56599f85e4f399479609e5"><div class="ttname"><a href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a6a6067d86a56599f85e4f399479609e5">T_Behaviour</a></div><div class="ttdeci">@ T_Behaviour</div><div class="ttdef"><b>Definition:</b> <a href="_class_type_codes_8h_source.html#l00115">ClassTypeCodes.h:115</a></div></div>
<div class="ttc" id="a_class_type_codes_8h_html_a9b8ca21e3e1d826b3a2be53bde5c6c02afc04d042e0ceef841574efc7bcfd895c"><div class="ttname"><a href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02afc04d042e0ceef841574efc7bcfd895c">T_Object</a></div><div class="ttdeci">@ T_Object</div><div class="ttdef"><b>Definition:</b> <a href="_class_type_codes_8h_source.html#l00057">ClassTypeCodes.h:57</a></div></div>
<div class="ttc" id="a_directory_class_8hpp_html"><div class="ttname"><a href="_directory_class_8hpp.html">DirectoryClass.hpp</a></div></div>
<div class="ttc" id="a_global_protected_object_8hpp_html"><div class="ttname"><a href="_global_protected_object_8hpp.html">GlobalProtectedObject.hpp</a></div></div>
<div class="ttc" id="a_identity_table_class_8hpp_html_a5fdeaa4bdd19056b2d8704d0a60165ab"><div class="ttname"><a href="_identity_table_class_8hpp.html#a5fdeaa4bdd19056b2d8704d0a60165ab">new_identity_table</a></div><div class="ttdeci">RexxIdentityTable * new_identity_table()</div><div class="ttdef"><b>Definition:</b> <a href="_identity_table_class_8hpp_source.html#l00074">IdentityTableClass.hpp:74</a></div></div>
<div class="ttc" id="a_integer_class_8hpp_html"><div class="ttname"><a href="_integer_class_8hpp.html">IntegerClass.hpp</a></div></div>
<div class="ttc" id="a_integer_class_8hpp_html_abda515b90956d920c9d93b342771f06b"><div class="ttname"><a href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a></div><div class="ttdeci">RexxInteger * new_integer(wholenumber_t v)</div><div class="ttdef"><b>Definition:</b> <a href="_integer_class_8hpp_source.html#l00200">IntegerClass.hpp:200</a></div></div>
<div class="ttc" id="a_interpreter_8hpp_html"><div class="ttname"><a href="_interpreter_8hpp.html">Interpreter.hpp</a></div></div>
<div class="ttc" id="a_memory_segment_8hpp_html_a827d5656c218e9227654dd2c42e5fc12"><div class="ttname"><a href="_memory_segment_8hpp.html#a827d5656c218e9227654dd2c42e5fc12">MemorySegmentOverhead</a></div><div class="ttdeci">#define MemorySegmentOverhead</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00052">MemorySegment.hpp:52</a></div></div>
<div class="ttc" id="a_memory_segment_8hpp_html_a8f62aa3cd5c5a0ae1eff3951ea1fd671"><div class="ttname"><a href="_memory_segment_8hpp.html#a8f62aa3cd5c5a0ae1eff3951ea1fd671">roundSegmentBoundary</a></div><div class="ttdeci">size_t roundSegmentBoundary(size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00118">MemorySegment.hpp:118</a></div></div>
<div class="ttc" id="a_memory_segment_8hpp_html_a96bab57ed340bbd2b13b79da6a59c1a9"><div class="ttname"><a href="_memory_segment_8hpp.html#a96bab57ed340bbd2b13b79da6a59c1a9">LargeBlockThreshold</a></div><div class="ttdeci">#define LargeBlockThreshold</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00064">MemorySegment.hpp:64</a></div></div>
<div class="ttc" id="a_memory_segment_8hpp_html_aec82a516be9adda0d1f0d9b05b480d49"><div class="ttname"><a href="_memory_segment_8hpp.html#aec82a516be9adda0d1f0d9b05b480d49">SegmentDeadSpace</a></div><div class="ttdeci">#define SegmentDeadSpace</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00073">MemorySegment.hpp:73</a></div></div>
<div class="ttc" id="a_message_class_8hpp_html"><div class="ttname"><a href="_message_class_8hpp.html">MessageClass.hpp</a></div></div>
<div class="ttc" id="a_method_class_8hpp_html"><div class="ttname"><a href="_method_class_8hpp.html">MethodClass.hpp</a></div></div>
<div class="ttc" id="a_mutable_buffer_class_8hpp_html"><div class="ttname"><a href="_mutable_buffer_class_8hpp.html">MutableBufferClass.hpp</a></div></div>
<div class="ttc" id="a_object_class_8hpp_html_adc29c2ff13d900c2f185ee95427fb06ca36b9c3da457fb9e7513f08a7d14b1180"><div class="ttname"><a href="_object_class_8hpp.html#adc29c2ff13d900c2f185ee95427fb06ca36b9c3da457fb9e7513f08a7d14b1180">OldSpaceBit</a></div><div class="ttdeci">@ OldSpaceBit</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00074">ObjectClass.hpp:74</a></div></div>
<div class="ttc" id="a_package_class_8hpp_html"><div class="ttname"><a href="_package_class_8hpp.html">PackageClass.hpp</a></div></div>
<div class="ttc" id="a_package_manager_8hpp_html"><div class="ttname"><a href="_package_manager_8hpp.html">PackageManager.hpp</a></div></div>
<div class="ttc" id="a_pointer_class_8hpp_html"><div class="ttname"><a href="_pointer_class_8hpp.html">PointerClass.hpp</a></div></div>
<div class="ttc" id="a_primitive_behaviour_names_8h_html_a514232038f6cb0e94fbd7f9a429b3dc0"><div class="ttname"><a href="_primitive_behaviour_names_8h.html#a514232038f6cb0e94fbd7f9a429b3dc0">TheMemoryBehaviour</a></div><div class="ttdeci">#define TheMemoryBehaviour</div><div class="ttdef"><b>Definition:</b> <a href="_primitive_behaviour_names_8h_source.html#l00176">PrimitiveBehaviourNames.h:176</a></div></div>
<div class="ttc" id="a_primitive_behaviour_names_8h_html_a53c81562afc336703f0492689d6cf6cd"><div class="ttname"><a href="_primitive_behaviour_names_8h.html#a53c81562afc336703f0492689d6cf6cd">TheBehaviourBehaviour</a></div><div class="ttdeci">#define TheBehaviourBehaviour</div><div class="ttdef"><b>Definition:</b> <a href="_primitive_behaviour_names_8h_source.html#l00105">PrimitiveBehaviourNames.h:105</a></div></div>
<div class="ttc" id="a_primitive_behaviour_names_8h_html_aaca2497cf1e772768af01824a5fe5060"><div class="ttname"><a href="_primitive_behaviour_names_8h.html#aaca2497cf1e772768af01824a5fe5060">TheStackBehaviour</a></div><div class="ttdeci">#define TheStackBehaviour</div><div class="ttdef"><b>Definition:</b> <a href="_primitive_behaviour_names_8h_source.html#l00178">PrimitiveBehaviourNames.h:178</a></div></div>
<div class="ttc" id="a_primitive_behaviour_names_8h_html_add1cb20079ac12038c9de86774f98d60"><div class="ttname"><a href="_primitive_behaviour_names_8h.html#add1cb20079ac12038c9de86774f98d60">TheObjectBehaviour</a></div><div class="ttdeci">#define TheObjectBehaviour</div><div class="ttdef"><b>Definition:</b> <a href="_primitive_behaviour_names_8h_source.html#l00052">PrimitiveBehaviourNames.h:52</a></div></div>
<div class="ttc" id="a_relation_class_8hpp_html"><div class="ttname"><a href="_relation_class_8hpp.html">RelationClass.hpp</a></div></div>
<div class="ttc" id="a_rexx_activation_8hpp_html"><div class="ttname"><a href="_rexx_activation_8hpp.html">RexxActivation.hpp</a></div></div>
<div class="ttc" id="a_rexx_activity_8hpp_html"><div class="ttname"><a href="_rexx_activity_8hpp.html">RexxActivity.hpp</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html"><div class="ttname"><a href="_rexx_core_8h.html">RexxCore.h</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a181a36438ba4535dd7d22ab63239d1e1"><div class="ttname"><a href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a></div><div class="ttdeci">#define OREF_NULL</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00060">RexxCore.h:60</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a21cf64bbe3cb7050c9171eb97eeed2cf"><div class="ttname"><a href="_rexx_core_8h.html#a21cf64bbe3cb7050c9171eb97eeed2cf">IntegerThree</a></div><div class="ttdeci">#define IntegerThree</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00192">RexxCore.h:192</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a295ecee4ebd2ed8e093205c1be297eea"><div class="ttname"><a href="_rexx_core_8h.html#a295ecee4ebd2ed8e093205c1be297eea">IntegerSeven</a></div><div class="ttdeci">#define IntegerSeven</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00196">RexxCore.h:196</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a326fcbdbacb21da93606a038bb77d46f"><div class="ttname"><a href="_rexx_core_8h.html#a326fcbdbacb21da93606a038bb77d46f">TheSystem</a></div><div class="ttdeci">#define TheSystem</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00179">RexxCore.h:179</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a34894b9f28a960dff3ca1e7a570e9613"><div class="ttname"><a href="_rexx_core_8h.html#a34894b9f28a960dff3ca1e7a570e9613">TheKernel</a></div><div class="ttdeci">#define TheKernel</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00178">RexxCore.h:178</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a3a5555b4681849b170711423e0ce9fca"><div class="ttname"><a href="_rexx_core_8h.html#a3a5555b4681849b170711423e0ce9fca">IntegerFour</a></div><div class="ttdeci">#define IntegerFour</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00193">RexxCore.h:193</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a4cfb9d62d140f9eadc298118ea1acd4e"><div class="ttname"><a href="_rexx_core_8h.html#a4cfb9d62d140f9eadc298118ea1acd4e">IntegerFive</a></div><div class="ttdeci">#define IntegerFive</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00194">RexxCore.h:194</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a52a39bdc8a0d77c92cdc653628dae18d"><div class="ttname"><a href="_rexx_core_8h.html#a52a39bdc8a0d77c92cdc653628dae18d">TheNullArray</a></div><div class="ttdeci">#define TheNullArray</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00183">RexxCore.h:183</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a5ad77b0ce0050d8179296ab07a13c317"><div class="ttname"><a href="_rexx_core_8h.html#a5ad77b0ce0050d8179296ab07a13c317">IntegerOne</a></div><div class="ttdeci">#define IntegerOne</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00190">RexxCore.h:190</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a5cca156bba2a1784fd5dee960ab2fb37"><div class="ttname"><a href="_rexx_core_8h.html#a5cca156bba2a1784fd5dee960ab2fb37">TheEnvironment</a></div><div class="ttdeci">#define TheEnvironment</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00174">RexxCore.h:174</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a5d9c84ece83193ae68ec1799d5785086"><div class="ttname"><a href="_rexx_core_8h.html#a5d9c84ece83193ae68ec1799d5785086">TheClassClass</a></div><div class="ttdeci">#define TheClassClass</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00148">RexxCore.h:148</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a6549698c3493e92f98a144aff6e19b36"><div class="ttname"><a href="_rexx_core_8h.html#a6549698c3493e92f98a144aff6e19b36">IntegerEight</a></div><div class="ttdeci">#define IntegerEight</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00197">RexxCore.h:197</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a6891a93610348b439dd2f121a8b6b02d"><div class="ttname"><a href="_rexx_core_8h.html#a6891a93610348b439dd2f121a8b6b02d">OrefSet</a></div><div class="ttdeci">#define OrefSet(o, r, v)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00094">RexxCore.h:94</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a6e1e3e68b398bc452359632237fee529"><div class="ttname"><a href="_rexx_core_8h.html#a6e1e3e68b398bc452359632237fee529">TheCommonRetrievers</a></div><div class="ttdeci">#define TheCommonRetrievers</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00177">RexxCore.h:177</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a713339025a2128136bc45fe1699db8b1"><div class="ttname"><a href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a></div><div class="ttdeci">#define TheTrueObject</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00186">RexxCore.h:186</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a7c85c60c44e955cadccd3417e09791cb"><div class="ttname"><a href="_rexx_core_8h.html#a7c85c60c44e955cadccd3417e09791cb">TheNullPointer</a></div><div class="ttdeci">#define TheNullPointer</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00187">RexxCore.h:187</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a7d3c7e40d27e72855773ed37c616e780"><div class="ttname"><a href="_rexx_core_8h.html#a7d3c7e40d27e72855773ed37c616e780">TheFunctionsDirectory</a></div><div class="ttdeci">#define TheFunctionsDirectory</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00176">RexxCore.h:176</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a7e5b0b0276c2a7b9946e97fce7f3a568"><div class="ttname"><a href="_rexx_core_8h.html#a7e5b0b0276c2a7b9946e97fce7f3a568">IntegerTwo</a></div><div class="ttdeci">#define IntegerTwo</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00191">RexxCore.h:191</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a7e9f6464199606ee3cb1668da3155763"><div class="ttname"><a href="_rexx_core_8h.html#a7e9f6464199606ee3cb1668da3155763">IntegerSix</a></div><div class="ttdeci">#define IntegerSix</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00195">RexxCore.h:195</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_aa5515f75fb39f2b4faa40164a3ee51d1"><div class="ttname"><a href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a></div><div class="ttdeci">#define TheNilObject</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00181">RexxCore.h:181</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_ab2b6f2d4baaa56192825d47e225ea2f5"><div class="ttname"><a href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a></div><div class="ttdeci">#define TheFalseObject</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00185">RexxCore.h:185</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_aba6d100f6cb95d0531c2850e902612ad"><div class="ttname"><a href="_rexx_core_8h.html#aba6d100f6cb95d0531c2850e902612ad">IntegerNine</a></div><div class="ttdeci">#define IntegerNine</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00198">RexxCore.h:198</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_add4beaef2223c4d220d99cba73388681"><div class="ttname"><a href="_rexx_core_8h.html#add4beaef2223c4d220d99cba73388681">IntegerZero</a></div><div class="ttdeci">#define IntegerZero</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00189">RexxCore.h:189</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_afea21019918cf76440f0356b6723ee01"><div class="ttname"><a href="_rexx_core_8h.html#afea21019918cf76440f0356b6723ee01">IntegerMinusOne</a></div><div class="ttdeci">#define IntegerMinusOne</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00199">RexxCore.h:199</a></div></div>
<div class="ttc" id="a_rexx_error_codes_8h_html_a02d4ce841ccb5459e53d43272aa66c99"><div class="ttname"><a href="_rexx_error_codes_8h.html#a02d4ce841ccb5459e53d43272aa66c99">Error_Logical_value_method</a></div><div class="ttdeci">#define Error_Logical_value_method</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_error_codes_8h_source.html#l00274">RexxErrorCodes.h:274</a></div></div>
<div class="ttc" id="a_rexx_error_codes_8h_html_a05e10e5ca821e6c0ee43f61a1007b468"><div class="ttname"><a href="_rexx_error_codes_8h.html#a05e10e5ca821e6c0ee43f61a1007b468">Error_System_resources</a></div><div class="ttdeci">#define Error_System_resources</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_error_codes_8h_source.html#l00067">RexxErrorCodes.h:67</a></div></div>
<div class="ttc" id="a_rexx_hash_table_8hpp_html_a5a35ccbe82381c822b658d60fdaaa980"><div class="ttname"><a href="_rexx_hash_table_8hpp.html#a5a35ccbe82381c822b658d60fdaaa980">HashLink</a></div><div class="ttdeci">size_t HashLink</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_hash_table_8hpp_source.html#l00049">RexxHashTable.hpp:49</a></div></div>
<div class="ttc" id="a_rexx_memory_8cpp_html_a0e8424ed703355ce1fec17288824fc24"><div class="ttname"><a href="_rexx_memory_8cpp.html#a0e8424ed703355ce1fec17288824fc24">SaveStackSize</a></div><div class="ttdeci">#define SaveStackSize</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00089">RexxMemory.cpp:89</a></div></div>
<div class="ttc" id="a_rexx_memory_8cpp_html_a24076bfa8f0a90a7202538b1e05ae088"><div class="ttname"><a href="_rexx_memory_8cpp.html#a24076bfa8f0a90a7202538b1e05ae088">SysAccessPool</a></div><div class="ttdeci">bool SysAccessPool(MemorySegmentPool **pool)</div></div>
<div class="ttc" id="a_rexx_memory_8cpp_html_a4f34aa35780f5dbe9de37ca48aa83b07"><div class="ttname"><a href="_rexx_memory_8cpp.html#a4f34aa35780f5dbe9de37ca48aa83b07">MaxImageSize</a></div><div class="ttdeci">#define MaxImageSize</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00092">RexxMemory.cpp:92</a></div></div>
<div class="ttc" id="a_rexx_memory_8cpp_html_a717cb8a2480b5e878894c63fc86b585f"><div class="ttname"><a href="_rexx_memory_8cpp.html#a717cb8a2480b5e878894c63fc86b585f">memoryObject</a></div><div class="ttdeci">RexxMemory memoryObject</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00085">RexxMemory.cpp:85</a></div></div>
<div class="ttc" id="a_rexx_memory_8cpp_html_a74403b0d13c3e38b90012eee5f2b81c5"><div class="ttname"><a href="_rexx_memory_8cpp.html#a74403b0d13c3e38b90012eee5f2b81c5">SaveStackAllocSize</a></div><div class="ttdeci">#define SaveStackAllocSize</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00090">RexxMemory.cpp:90</a></div></div>
<div class="ttc" id="a_rexx_memory_8cpp_html_a984df9989cfc5a59208af52e0e92338f"><div class="ttname"><a href="_rexx_memory_8cpp.html#a984df9989cfc5a59208af52e0e92338f">logMemoryCheck</a></div><div class="ttdeci">static void logMemoryCheck(FILE *outfile, const char *message,...)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00106">RexxMemory.cpp:106</a></div></div>
<div class="ttc" id="a_rexx_memory_8cpp_html_aa2904927d6a2aae07d73848092421e4a"><div class="ttname"><a href="_rexx_memory_8cpp.html#aa2904927d6a2aae07d73848092421e4a">RESTORE_CLASS</a></div><div class="ttdeci">#define RESTORE_CLASS(name, className)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00079">RexxMemory.cpp:79</a></div></div>
<div class="ttc" id="a_rexx_memory_8cpp_html_ab1ab5cca44a1e8a598d8958d155586aa"><div class="ttname"><a href="_rexx_memory_8cpp.html#ab1ab5cca44a1e8a598d8958d155586aa">LiveStackSize</a></div><div class="ttdeci">#define LiveStackSize</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00087">RexxMemory.cpp:87</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html"><div class="ttname"><a href="_rexx_memory_8hpp.html">RexxMemory.hpp</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a10ca07add5704523d065b7f2d2637f7d"><div class="ttname"><a href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a></div><div class="ttdeci">#define memory_mark(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00445">RexxMemory.hpp:445</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a70e15a1fc8e9370b35576f15fe153a24"><div class="ttname"><a href="_rexx_memory_8hpp.html#a70e15a1fc8e9370b35576f15fe153a24">roundObjectBoundary</a></div><div class="ttdeci">size_t roundObjectBoundary(size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00095">RexxMemory.hpp:95</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a8b9eec9886a6b4a35875a885d836c328"><div class="ttname"><a href="_rexx_memory_8hpp.html#a8b9eec9886a6b4a35875a885d836c328">ObjectNeedsMarking</a></div><div class="ttdeci">#define ObjectNeedsMarking(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00444">RexxMemory.hpp:444</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a8fce8e74e9631f3ff5cc41af4fbde4ff"><div class="ttname"><a href="_rexx_memory_8hpp.html#a8fce8e74e9631f3ff5cc41af4fbde4ff">roundLargeObjectAllocation</a></div><div class="ttdeci">size_t roundLargeObjectAllocation(size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00096">RexxMemory.hpp:96</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_aaa88a73c097a27a32d272bbe9ed169ad"><div class="ttname"><a href="_rexx_memory_8hpp.html#aaa88a73c097a27a32d272bbe9ed169ad">MinimumObjectSize</a></div><div class="ttdeci">#define MinimumObjectSize</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00085">RexxMemory.hpp:85</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_ad740c29e8223b639f6f3fcbb910ce21a"><div class="ttname"><a href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a></div><div class="ttdeci">#define memory_mark_general(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00446">RexxMemory.hpp:446</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_adf764cbdea00d65edcd07bb9953ad2b7a3fc1a0e7009347055cf152f1c3cc72b9"><div class="ttname"><a href="_rexx_memory_8hpp.html#adf764cbdea00d65edcd07bb9953ad2b7a3fc1a0e7009347055cf152f1c3cc72b9">SAVINGIMAGE</a></div><div class="ttdeci">@ SAVINGIMAGE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00117">RexxMemory.hpp:117</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_adf764cbdea00d65edcd07bb9953ad2b7a616602f628d1c90b4ef49d34ea01b820"><div class="ttname"><a href="_rexx_memory_8hpp.html#adf764cbdea00d65edcd07bb9953ad2b7a616602f628d1c90b4ef49d34ea01b820">RESTORINGIMAGE</a></div><div class="ttdeci">@ RESTORINGIMAGE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00116">RexxMemory.hpp:116</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_adf764cbdea00d65edcd07bb9953ad2b7aa5b87350e0d3adfd388e8fb69d1c8177"><div class="ttname"><a href="_rexx_memory_8hpp.html#adf764cbdea00d65edcd07bb9953ad2b7aa5b87350e0d3adfd388e8fb69d1c8177">LIVEMARK</a></div><div class="ttdeci">@ LIVEMARK</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00115">RexxMemory.hpp:115</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_af83de01a07dd88a043c3bfbae3a2bda5"><div class="ttname"><a href="_rexx_memory_8hpp.html#af83de01a07dd88a043c3bfbae3a2bda5">roundObjectResize</a></div><div class="ttdeci">size_t roundObjectResize(size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00097">RexxMemory.hpp:97</a></div></div>
<div class="ttc" id="a_stack_class_8hpp_html"><div class="ttname"><a href="_stack_class_8hpp.html">StackClass.hpp</a></div></div>
<div class="ttc" id="a_stack_frame_class_8hpp_html"><div class="ttname"><a href="_stack_frame_class_8hpp.html">StackFrameClass.hpp</a></div></div>
<div class="ttc" id="a_string_class_8hpp_html"><div class="ttname"><a href="_string_class_8hpp.html">StringClass.hpp</a></div></div>
<div class="ttc" id="a_string_class_8hpp_html_a8a4e642ec3f45ca8904d1a5ec3be930c"><div class="ttname"><a href="_string_class_8hpp.html#a8a4e642ec3f45ca8904d1a5ec3be930c">new_proxy</a></div><div class="ttdeci">RexxString * new_proxy(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00609">StringClass.hpp:609</a></div></div>
<div class="ttc" id="a_string_class_8hpp_html_a99b9d2b62fa4976699b56b8781b4b8a3"><div class="ttname"><a href="_string_class_8hpp.html#a99b9d2b62fa4976699b56b8781b4b8a3">new_string</a></div><div class="ttdeci">RexxString * new_string(const char *s, stringsizeB_t bl, sizeC_t cl=-1)</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00568">StringClass.hpp:568</a></div></div>
<div class="ttc" id="a_supplier_class_8hpp_html"><div class="ttname"><a href="_supplier_class_8hpp.html">SupplierClass.hpp</a></div></div>
<div class="ttc" id="a_table_class_8hpp_html"><div class="ttname"><a href="_table_class_8hpp.html">TableClass.hpp</a></div></div>
<div class="ttc" id="a_uninit_dispatcher_8hpp_html"><div class="ttname"><a href="_uninit_dispatcher_8hpp.html">UninitDispatcher.hpp</a></div></div>
<div class="ttc" id="a_weak_reference_class_8hpp_html"><div class="ttname"><a href="_weak_reference_class_8hpp.html">WeakReferenceClass.hpp</a></div></div>
<div class="ttc" id="aclass_activity_manager_html_a59f65b6fc5772088b35d9d4d062db793"><div class="ttname"><a href="class_activity_manager.html#a59f65b6fc5772088b35d9d4d062db793">ActivityManager::init</a></div><div class="ttdeci">static void init()</div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8cpp_source.html#l00079">ActivityManager.cpp:79</a></div></div>
<div class="ttc" id="aclass_activity_manager_html_aa11d586f0ebd7e07264a00003cc42ed7"><div class="ttname"><a href="class_activity_manager.html#aa11d586f0ebd7e07264a00003cc42ed7">ActivityManager::live</a></div><div class="ttdeci">static void live(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8cpp_source.html#l00086">ActivityManager.cpp:86</a></div></div>
<div class="ttc" id="aclass_activity_manager_html_abf2bb27f803ec833b0dff31c9b57049d"><div class="ttname"><a href="class_activity_manager.html#abf2bb27f803ec833b0dff31c9b57049d">ActivityManager::liveGeneral</a></div><div class="ttdeci">static void liveGeneral(int reason)</div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8cpp_source.html#l00101">ActivityManager.cpp:101</a></div></div>
<div class="ttc" id="aclass_activity_manager_html_ac83df72deadb70e0627ba98a79ac51df"><div class="ttname"><a href="class_activity_manager.html#ac83df72deadb70e0627ba98a79ac51df">ActivityManager::currentActivity</a></div><div class="ttdeci">static RexxActivity *volatile currentActivity</div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8hpp_source.html#l00098">ActivityManager.hpp:98</a></div></div>
<div class="ttc" id="aclass_dead_object_html"><div class="ttname"><a href="class_dead_object.html">DeadObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_dead_object_8hpp_source.html#l00059">DeadObject.hpp:59</a></div></div>
<div class="ttc" id="aclass_dead_object_html_ae9b73f921df89439f3f56b3dacd1d2dd"><div class="ttname"><a href="class_dead_object.html#ae9b73f921df89439f3f56b3dacd1d2dd">DeadObject::getObjectSize</a></div><div class="ttdeci">size_t getObjectSize()</div><div class="ttdef"><b>Definition:</b> <a href="_dead_object_8hpp_source.html#l00085">DeadObject.hpp:85</a></div></div>
<div class="ttc" id="aclass_global_protected_object_html"><div class="ttname"><a href="class_global_protected_object.html">GlobalProtectedObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_global_protected_object_8hpp_source.html#l00046">GlobalProtectedObject.hpp:47</a></div></div>
<div class="ttc" id="aclass_global_protected_object_html_a21a6f3e4dbb5acfbad6adca8b200922e"><div class="ttname"><a href="class_global_protected_object.html#a21a6f3e4dbb5acfbad6adca8b200922e">GlobalProtectedObject::next</a></div><div class="ttdeci">GlobalProtectedObject * next</div><div class="ttdef"><b>Definition:</b> <a href="_global_protected_object_8hpp_source.html#l00145">GlobalProtectedObject.hpp:145</a></div></div>
<div class="ttc" id="aclass_global_protected_object_html_a8dbddf475f511e6dc5adc1c4600dc6a3"><div class="ttname"><a href="class_global_protected_object.html#a8dbddf475f511e6dc5adc1c4600dc6a3">GlobalProtectedObject::protectedObject</a></div><div class="ttdeci">RexxObject * protectedObject</div><div class="ttdef"><b>Definition:</b> <a href="_global_protected_object_8hpp_source.html#l00144">GlobalProtectedObject.hpp:144</a></div></div>
<div class="ttc" id="aclass_interpreter_html_a210abecb037deb0bad35801f340f1a25"><div class="ttname"><a href="class_interpreter.html#a210abecb037deb0bad35801f340f1a25">Interpreter::live</a></div><div class="ttdeci">static void live(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_interpreter_8cpp_source.html#l00083">Interpreter.cpp:83</a></div></div>
<div class="ttc" id="aclass_interpreter_html_a35ac2ba024b6581b6542ab04e2f2e1a3"><div class="ttname"><a href="class_interpreter.html#a35ac2ba024b6581b6542ab04e2f2e1a3">Interpreter::logicError</a></div><div class="ttdeci">static void logicError(const char *desc)</div><div class="ttdef"><b>Definition:</b> <a href="_interpreter_8cpp_source.html#l00556">Interpreter.cpp:556</a></div></div>
<div class="ttc" id="aclass_interpreter_html_a50eb868a2dfecb4929995401622579d3"><div class="ttname"><a href="class_interpreter.html#a50eb868a2dfecb4929995401622579d3">Interpreter::init</a></div><div class="ttdeci">static void init()</div><div class="ttdef"><b>Definition:</b> <a href="_interpreter_8cpp_source.html#l00077">Interpreter.cpp:77</a></div></div>
<div class="ttc" id="aclass_interpreter_html_ab69ab60da7a0385d0e252aafbde5b770"><div class="ttname"><a href="class_interpreter.html#ab69ab60da7a0385d0e252aafbde5b770">Interpreter::liveGeneral</a></div><div class="ttdeci">static void liveGeneral(int reason)</div><div class="ttdef"><b>Definition:</b> <a href="_interpreter_8cpp_source.html#l00090">Interpreter.cpp:90</a></div></div>
<div class="ttc" id="aclass_large_segment_set_html"><div class="ttname"><a href="class_large_segment_set.html">LargeSegmentSet</a></div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00539">MemorySegment.hpp:540</a></div></div>
<div class="ttc" id="aclass_large_segment_set_html_a3e3f8c730ca5b018b0c92ba6f9c7db8a"><div class="ttname"><a href="class_large_segment_set.html#a3e3f8c730ca5b018b0c92ba6f9c7db8a">LargeSegmentSet::allocateObject</a></div><div class="ttdeci">RexxObject * allocateObject(size_t allocationLength)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00549">MemorySegment.hpp:549</a></div></div>
<div class="ttc" id="aclass_large_segment_set_html_a4005ec9219573b25a608488f5a066654"><div class="ttname"><a href="class_large_segment_set.html#a4005ec9219573b25a608488f5a066654">LargeSegmentSet::dumpMemoryProfile</a></div><div class="ttdeci">virtual void dumpMemoryProfile(FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l00142">MemorySegment.cpp:142</a></div></div>
<div class="ttc" id="aclass_large_segment_set_html_a8f4aa2625c44f9ee2da78303cdc31e8c"><div class="ttname"><a href="class_large_segment_set.html#a8f4aa2625c44f9ee2da78303cdc31e8c">LargeSegmentSet::handleAllocationFailure</a></div><div class="ttdeci">RexxObject * handleAllocationFailure(size_t allocationLength)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l01331">MemorySegment.cpp:1331</a></div></div>
<div class="ttc" id="aclass_memory_segment_html"><div class="ttname"><a href="class_memory_segment.html">MemorySegment</a></div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00143">MemorySegment.hpp:143</a></div></div>
<div class="ttc" id="aclass_memory_segment_pool_header_html_a8a9643a0b6840e74ea52165fbf42d0db"><div class="ttname"><a href="class_memory_segment_pool_header.html#a8a9643a0b6840e74ea52165fbf42d0db">MemorySegmentPoolHeader::reserved</a></div><div class="ttdeci">size_t reserved</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00137">RexxMemory.hpp:137</a></div></div>
<div class="ttc" id="aclass_memory_segment_pool_html"><div class="ttname"><a href="class_memory_segment_pool.html">MemorySegmentPool</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00140">RexxMemory.hpp:141</a></div></div>
<div class="ttc" id="aclass_memory_segment_pool_html_a2a0de1f9a2e15f1a8d8c0a07e48f9a9a"><div class="ttname"><a href="class_memory_segment_pool.html#a2a0de1f9a2e15f1a8d8c0a07e48f9a9a">MemorySegmentPool::newLargeSegment</a></div><div class="ttdeci">MemorySegment * newLargeSegment(size_t minSize)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_memory_support_8cpp_source.html#l00227">unix/MemorySupport.cpp:227</a></div></div>
<div class="ttc" id="aclass_memory_segment_pool_html_a416069070437652bd6520fabb8433510"><div class="ttname"><a href="class_memory_segment_pool.html#a416069070437652bd6520fabb8433510">MemorySegmentPool::freePool</a></div><div class="ttdeci">void freePool(void)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_memory_support_8cpp_source.html#l00276">unix/MemorySupport.cpp:276</a></div></div>
<div class="ttc" id="aclass_memory_segment_pool_html_aa84f0a84b484ddce6edb92b9cafabc9c"><div class="ttname"><a href="class_memory_segment_pool.html#aa84f0a84b484ddce6edb92b9cafabc9c">MemorySegmentPool::newSegment</a></div><div class="ttdeci">MemorySegment * newSegment(size_t minSize)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_memory_support_8cpp_source.html#l00182">unix/MemorySupport.cpp:182</a></div></div>
<div class="ttc" id="aclass_memory_segment_pool_html_ae3e43574f963a6fe934409f8eaf248d5"><div class="ttname"><a href="class_memory_segment_pool.html#ae3e43574f963a6fe934409f8eaf248d5">MemorySegmentPool::createPool</a></div><div class="ttdeci">static MemorySegmentPool * createPool()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_memory_support_8cpp_source.html#l00080">unix/MemorySupport.cpp:80</a></div></div>
<div class="ttc" id="aclass_memory_segment_pool_html_ae9fa676ca72c5e4dab94188f8c1e7ef4"><div class="ttname"><a href="class_memory_segment_pool.html#ae9fa676ca72c5e4dab94188f8c1e7ef4">MemorySegmentPool::nextPool</a></div><div class="ttdeci">MemorySegmentPool * nextPool()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00159">RexxMemory.hpp:159</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html"><div class="ttname"><a href="class_memory_segment_set.html">MemorySegmentSet</a></div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00227">MemorySegment.hpp:227</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_a03636135836a91d328829444fd3a453b"><div class="ttname"><a href="class_memory_segment_set.html#a03636135836a91d328829444fd3a453b">MemorySegmentSet::dumpSegments</a></div><div class="ttdeci">void dumpSegments(FILE *keyfile, FILE *dumpfile)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l00120">MemorySegment.cpp:120</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_a0e6afa99cf3a295f845aeb5312c9e133"><div class="ttname"><a href="class_memory_segment_set.html#a0e6afa99cf3a295f845aeb5312c9e133">MemorySegmentSet::isInSegmentSet</a></div><div class="ttdeci">bool isInSegmentSet(RexxObject *object)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00296">MemorySegment.hpp:296</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_a19a2a1336ae17c36af6b9f81986f922fad68076fcf765805548c5fcde14e446d1"><div class="ttname"><a href="class_memory_segment_set.html#a19a2a1336ae17c36af6b9f81986f922fad68076fcf765805548c5fcde14e446d1">MemorySegmentSet::SET_NORMAL</a></div><div class="ttdeci">@ SET_NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00231">MemorySegment.hpp:231</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_a26619224a68f7887ffa925793d3e093b"><div class="ttname"><a href="class_memory_segment_set.html#a26619224a68f7887ffa925793d3e093b">MemorySegmentSet::addSegment</a></div><div class="ttdeci">void addSegment(MemorySegment *segment, bool createDeadObject=1)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l00473">MemorySegment.cpp:473</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_a4e6465f0009cd59107df1bee01627c4b"><div class="ttname"><a href="class_memory_segment_set.html#a4e6465f0009cd59107df1bee01627c4b">MemorySegmentSet::sweep</a></div><div class="ttdeci">void sweep()</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l01106">MemorySegment.cpp:1106</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_aba1bf702bafdf996cb19ffc1fb241aa0"><div class="ttname"><a href="class_memory_segment_set.html#aba1bf702bafdf996cb19ffc1fb241aa0">MemorySegmentSet::is</a></div><div class="ttdeci">bool is(SegmentSetID id)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00311">MemorySegment.hpp:311</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_abab6a3bfe74ce7d2ff87a934f667b6ab"><div class="ttname"><a href="class_memory_segment_set.html#abab6a3bfe74ce7d2ff87a934f667b6ab">MemorySegmentSet::gatherStats</a></div><div class="ttdeci">void gatherStats(MemoryStats *memStats, SegmentStats *stats)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l01756">MemorySegment.cpp:1756</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_acdc687287a5eb7de71eb924daba194d5"><div class="ttname"><a href="class_memory_segment_set.html#acdc687287a5eb7de71eb924daba194d5">MemorySegmentSet::donateObject</a></div><div class="ttdeci">virtual DeadObject * donateObject(size_t allocationLength)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l00518">MemorySegment.cpp:518</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_afba8acc0061aeb8f2b976bcc5a0d2bc8"><div class="ttname"><a href="class_memory_segment_set.html#afba8acc0061aeb8f2b976bcc5a0d2bc8">MemorySegmentSet::donateSegment</a></div><div class="ttdeci">virtual MemorySegment * donateSegment(size_t allocationLength)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l00558">MemorySegment.cpp:558</a></div></div>
<div class="ttc" id="aclass_memory_segment_set_html_afcf45cd1bb986f7c3541fc577a69def3"><div class="ttname"><a href="class_memory_segment_set.html#afcf45cd1bb986f7c3541fc577a69def3">MemorySegmentSet::addDeadObject</a></div><div class="ttdeci">virtual void addDeadObject(DeadObject *object)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l00350">MemorySegment.cpp:350</a></div></div>
<div class="ttc" id="aclass_memory_stats_html"><div class="ttname"><a href="class_memory_stats.html">MemoryStats</a></div><div class="ttdef"><b>Definition:</b> <a href="_memory_stats_8hpp_source.html#l00097">MemoryStats.hpp:97</a></div></div>
<div class="ttc" id="aclass_memory_stats_html_a64d57cc248dc938090ccebb157b6419e"><div class="ttname"><a href="class_memory_stats.html#a64d57cc248dc938090ccebb157b6419e">MemoryStats::normalStats</a></div><div class="ttdeci">SegmentStats normalStats</div><div class="ttdef"><b>Definition:</b> <a href="_memory_stats_8hpp_source.html#l00108">MemoryStats.hpp:108</a></div></div>
<div class="ttc" id="aclass_memory_stats_html_a9e2c9c3d4931464a1a8bb974d1f90d1c"><div class="ttname"><a href="class_memory_stats.html#a9e2c9c3d4931464a1a8bb974d1f90d1c">MemoryStats::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="_memory_stats_8cpp_source.html#l00149">MemoryStats.cpp:149</a></div></div>
<div class="ttc" id="aclass_memory_stats_html_aa222c9614e021d7c3baaa1a6c3a84068"><div class="ttname"><a href="class_memory_stats.html#aa222c9614e021d7c3baaa1a6c3a84068">MemoryStats::printSavedImageStats</a></div><div class="ttdeci">void printSavedImageStats()</div><div class="ttdef"><b>Definition:</b> <a href="_memory_stats_8cpp_source.html#l00090">MemoryStats.cpp:90</a></div></div>
<div class="ttc" id="aclass_memory_stats_html_ac222f04fb82d979f8151281f6f876c4f"><div class="ttname"><a href="class_memory_stats.html#ac222f04fb82d979f8151281f6f876c4f">MemoryStats::printMemoryStats</a></div><div class="ttdeci">void printMemoryStats()</div><div class="ttdef"><b>Definition:</b> <a href="_memory_stats_8cpp_source.html#l00105">MemoryStats.cpp:105</a></div></div>
<div class="ttc" id="aclass_memory_stats_html_afcbcaae45a176127a971e1dff427e264"><div class="ttname"><a href="class_memory_stats.html#afcbcaae45a176127a971e1dff427e264">MemoryStats::largeStats</a></div><div class="ttdeci">SegmentStats largeStats</div><div class="ttdef"><b>Definition:</b> <a href="_memory_stats_8hpp_source.html#l00109">MemoryStats.hpp:109</a></div></div>
<div class="ttc" id="aclass_normal_segment_set_html"><div class="ttname"><a href="class_normal_segment_set.html">NormalSegmentSet</a></div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00379">MemorySegment.hpp:380</a></div></div>
<div class="ttc" id="aclass_normal_segment_set_html_a55a5c1a67d650232679a397e0f7caec4"><div class="ttname"><a href="class_normal_segment_set.html#a55a5c1a67d650232679a397e0f7caec4">NormalSegmentSet::dumpMemoryProfile</a></div><div class="ttdeci">virtual void dumpMemoryProfile(FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l00153">MemorySegment.cpp:153</a></div></div>
<div class="ttc" id="aclass_normal_segment_set_html_a6a863dffe8483a6d557016748c9cc117"><div class="ttname"><a href="class_normal_segment_set.html#a6a863dffe8483a6d557016748c9cc117">NormalSegmentSet::getInitialSet</a></div><div class="ttdeci">void getInitialSet()</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l00239">MemorySegment.cpp:239</a></div></div>
<div class="ttc" id="aclass_normal_segment_set_html_a77df9525fcdbdfb8d9295d53b008afa6"><div class="ttname"><a href="class_normal_segment_set.html#a77df9525fcdbdfb8d9295d53b008afa6">NormalSegmentSet::handleAllocationFailure</a></div><div class="ttdeci">RexxObject * handleAllocationFailure(size_t allocationLength)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l01263">MemorySegment.cpp:1263</a></div></div>
<div class="ttc" id="aclass_normal_segment_set_html_af8ed711532e1ee74d72128ef69532b83"><div class="ttname"><a href="class_normal_segment_set.html#af8ed711532e1ee74d72128ef69532b83">NormalSegmentSet::allocateObject</a></div><div class="ttdeci">RexxObject * allocateObject(size_t allocationLength)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00388">MemorySegment.hpp:388</a></div></div>
<div class="ttc" id="aclass_old_space_segment_set_html"><div class="ttname"><a href="class_old_space_segment_set.html">OldSpaceSegmentSet</a></div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8hpp_source.html#l00590">MemorySegment.hpp:591</a></div></div>
<div class="ttc" id="aclass_old_space_segment_set_html_a56a063e3219e4ae6a53f354adaeddcf0"><div class="ttname"><a href="class_old_space_segment_set.html#a56a063e3219e4ae6a53f354adaeddcf0">OldSpaceSegmentSet::allocateObject</a></div><div class="ttdeci">RexxObject * allocateObject(size_t allocationLength)</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l01401">MemorySegment.cpp:1401</a></div></div>
<div class="ttc" id="aclass_old_space_segment_set_html_afe2cb98ec19c68fd39a9914c7547ab57"><div class="ttname"><a href="class_old_space_segment_set.html#afe2cb98ec19c68fd39a9914c7547ab57">OldSpaceSegmentSet::markOldSpaceObjects</a></div><div class="ttdeci">void markOldSpaceObjects()</div><div class="ttdef"><b>Definition:</b> <a href="_memory_segment_8cpp_source.html#l01796">MemorySegment.cpp:1796</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a2e5b6a0496f810104cebbe2e1c1e9ae0"><div class="ttname"><a href="class_package_manager.html#a2e5b6a0496f810104cebbe2e1c1e9ae0">PackageManager::liveGeneral</a></div><div class="ttdeci">static void liveGeneral(int reason)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00167">PackageManager.cpp:167</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a55c7e781fc85f5cb845b903236d2f895"><div class="ttname"><a href="class_package_manager.html#a55c7e781fc85f5cb845b903236d2f895">PackageManager::live</a></div><div class="ttdeci">static void live(size_t liveMark)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00156">PackageManager.cpp:156</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a5efe27997761916cadfaa85b40248a78"><div class="ttname"><a href="class_package_manager.html#a5efe27997761916cadfaa85b40248a78">PackageManager::getImageData</a></div><div class="ttdeci">static RexxArray * getImageData()</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00093">PackageManager.cpp:93</a></div></div>
<div class="ttc" id="aclass_package_manager_html_aa645c856de83f81800b151638806509b"><div class="ttname"><a href="class_package_manager.html#aa645c856de83f81800b151638806509b">PackageManager::restore</a></div><div class="ttdeci">static void restore()</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00125">PackageManager.cpp:125</a></div></div>
<div class="ttc" id="aclass_rexx_activity_html"><div class="ttname"><a href="class_rexx_activity.html">RexxActivity</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_activity_8hpp_source.html#l00128">RexxActivity.hpp:128</a></div></div>
<div class="ttc" id="aclass_rexx_activity_html_a14ca778dbfe74753d877f051302f3ba0"><div class="ttname"><a href="class_rexx_activity.html#a14ca778dbfe74753d877f051302f3ba0">RexxActivity::initializeThreadContext</a></div><div class="ttdeci">static void initializeThreadContext()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_activity_8cpp_source.html#l02022">RexxActivity.cpp:2022</a></div></div>
<div class="ttc" id="aclass_rexx_activity_html_ab34da681c5e89622446b0f868e49fa10"><div class="ttname"><a href="class_rexx_activity.html#ab34da681c5e89622446b0f868e49fa10">RexxActivity::run</a></div><div class="ttdeci">void run()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_activity_8cpp_source.html#l01704">RexxActivity.cpp:1704</a></div></div>
<div class="ttc" id="aclass_rexx_array_html"><div class="ttname"><a href="class_rexx_array.html">RexxArray</a></div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00100">ArrayClass.hpp:100</a></div></div>
<div class="ttc" id="aclass_rexx_array_html_a25eeed4eb68d95d5c8518163e88d0f7b"><div class="ttname"><a href="class_rexx_array.html#a25eeed4eb68d95d5c8518163e88d0f7b">RexxArray::put</a></div><div class="ttdeci">void put(RexxObject *eref, size_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8cpp_source.html#l00208">ArrayClass.cpp:208</a></div></div>
<div class="ttc" id="aclass_rexx_array_html_aded9b5f0d1d3beda38fa2792e59dd479"><div class="ttname"><a href="class_rexx_array.html#aded9b5f0d1d3beda38fa2792e59dd479">RexxArray::get</a></div><div class="ttdeci">RexxObject * get(size_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00203">ArrayClass.hpp:203</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html"><div class="ttname"><a href="class_rexx_behaviour.html">RexxBehaviour</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00049">RexxBehaviour.hpp:50</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html_a08371f18f68f33860518c972d58f5253"><div class="ttname"><a href="class_rexx_behaviour.html#a08371f18f68f33860518c972d58f5253">RexxBehaviour::restoreSavedPrimitiveBehaviour</a></div><div class="ttdeci">static RexxBehaviour * restoreSavedPrimitiveBehaviour(RexxBehaviour *b)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00129">RexxBehaviour.hpp:129</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html_a2f0c92709340b2dd3806ce62d9416bf0"><div class="ttname"><a href="class_rexx_behaviour.html#a2f0c92709340b2dd3806ce62d9416bf0">RexxBehaviour::restore</a></div><div class="ttdeci">void restore(RexxBehaviour *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8cpp_source.html#l00428">RexxBehaviour.cpp:428</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html_a304663e5e387407c3c5d98b48c32afd8"><div class="ttname"><a href="class_rexx_behaviour.html#a304663e5e387407c3c5d98b48c32afd8">RexxBehaviour::setNonPrimitive</a></div><div class="ttdeci">void setNonPrimitive()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00112">RexxBehaviour.hpp:112</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html_a863c12759fdc16e097945a2fff0018e0"><div class="ttname"><a href="class_rexx_behaviour.html#a863c12759fdc16e097945a2fff0018e0">RexxBehaviour::getSavedPrimitiveBehaviour</a></div><div class="ttdeci">RexxBehaviour * getSavedPrimitiveBehaviour()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00116">RexxBehaviour.hpp:116</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html_a998cf81fb71d4018421c23428694144b"><div class="ttname"><a href="class_rexx_behaviour.html#a998cf81fb71d4018421c23428694144b">RexxBehaviour::getPrimitiveBehaviour</a></div><div class="ttdeci">static RexxBehaviour * getPrimitiveBehaviour(size_t index)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00143">RexxBehaviour.hpp:143</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html_ab88fd89f9630c89c5125c36688cb36d7"><div class="ttname"><a href="class_rexx_behaviour.html#ab88fd89f9630c89c5125c36688cb36d7">RexxBehaviour::isTransientClass</a></div><div class="ttdeci">bool isTransientClass()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00108">RexxBehaviour.hpp:108</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html_abb7f03ac9405f0cb4ebf1beafd870aa5"><div class="ttname"><a href="class_rexx_behaviour.html#abb7f03ac9405f0cb4ebf1beafd870aa5">RexxBehaviour::primitiveBehaviours</a></div><div class="ttdeci">static RexxBehaviour primitiveBehaviours[]</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00146">RexxBehaviour.hpp:146</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html_ad0f95c269126c2b020b8061083790529"><div class="ttname"><a href="class_rexx_behaviour.html#ad0f95c269126c2b020b8061083790529">RexxBehaviour::isNonPrimitive</a></div><div class="ttdeci">bool isNonPrimitive()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00103">RexxBehaviour.hpp:103</a></div></div>
<div class="ttc" id="aclass_rexx_behaviour_html_af217f748df975dbc4e3b220b6a12efff"><div class="ttname"><a href="class_rexx_behaviour.html#af217f748df975dbc4e3b220b6a12efff">RexxBehaviour::getClassType</a></div><div class="ttdeci">size_t getClassType()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00101">RexxBehaviour.hpp:101</a></div></div>
<div class="ttc" id="aclass_rexx_block_html"><div class="ttname"><a href="class_rexx_block.html">RexxBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="_block_class_8hpp_source.html#l00084">BlockClass.hpp:85</a></div></div>
<div class="ttc" id="aclass_rexx_class_html"><div class="ttname"><a href="class_rexx_class.html">RexxClass</a></div><div class="ttdef"><b>Definition:</b> <a href="_class_class_8hpp_source.html#l00049">ClassClass.hpp:49</a></div></div>
<div class="ttc" id="aclass_rexx_class_html_a27086b42f9648fce36ba66cf9508008e"><div class="ttname"><a href="class_rexx_class.html#a27086b42f9648fce36ba66cf9508008e">RexxClass::createInstance</a></div><div class="ttdeci">static void createInstance()</div><div class="ttdef"><b>Definition:</b> <a href="_class_class_8cpp_source.html#l01717">ClassClass.cpp:1717</a></div></div>
<div class="ttc" id="aclass_rexx_class_html_adf68a3cc9a9953bbbe1fd9f8bd1ae408"><div class="ttname"><a href="class_rexx_class.html#adf68a3cc9a9953bbbe1fd9f8bd1ae408">RexxClass::getId</a></div><div class="ttdeci">RexxString * getId()</div><div class="ttdef"><b>Definition:</b> <a href="_class_class_8cpp_source.html#l00254">ClassClass.cpp:254</a></div></div>
<div class="ttc" id="aclass_rexx_context_html"><div class="ttname"><a href="class_rexx_context.html">RexxContext</a></div><div class="ttdef"><b>Definition:</b> <a href="_context_class_8hpp_source.html#l00053">ContextClass.hpp:54</a></div></div>
<div class="ttc" id="aclass_rexx_directory_html"><div class="ttname"><a href="class_rexx_directory.html">RexxDirectory</a></div><div class="ttdef"><b>Definition:</b> <a href="_directory_class_8hpp_source.html#l00049">DirectoryClass.hpp:49</a></div></div>
<div class="ttc" id="aclass_rexx_directory_html_a347644dee4bdc5f9235ffd5f5332f933"><div class="ttname"><a href="class_rexx_directory.html#a347644dee4bdc5f9235ffd5f5332f933">RexxDirectory::at</a></div><div class="ttdeci">RexxObject * at(RexxString *)</div><div class="ttdef"><b>Definition:</b> <a href="_directory_class_8cpp_source.html#l00575">DirectoryClass.cpp:575</a></div></div>
<div class="ttc" id="aclass_rexx_directory_html_a59a5f013bb97bef93e470df085fac61b"><div class="ttname"><a href="class_rexx_directory.html#a59a5f013bb97bef93e470df085fac61b">RexxDirectory::put</a></div><div class="ttdeci">RexxObject * put(RexxObject *, RexxString *)</div><div class="ttdef"><b>Definition:</b> <a href="_directory_class_8cpp_source.html#l00646">DirectoryClass.cpp:646</a></div></div>
<div class="ttc" id="aclass_rexx_envelope_html"><div class="ttname"><a href="class_rexx_envelope.html">RexxEnvelope</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_envelope_8hpp_source.html#l00053">RexxEnvelope.hpp:54</a></div></div>
<div class="ttc" id="aclass_rexx_hash_table_collection_html_a039816d886e8f7d1b1899341bbdc2e0a"><div class="ttname"><a href="class_rexx_hash_table_collection.html#a039816d886e8f7d1b1899341bbdc2e0a">RexxHashTableCollection::value</a></div><div class="ttdeci">RexxObject * value(HashLink pos)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_collection_8hpp_source.html#l00089">RexxCollection.hpp:89</a></div></div>
<div class="ttc" id="aclass_rexx_hash_table_collection_html_a08f9fb724d737a2e6767b8af11bdc285"><div class="ttname"><a href="class_rexx_hash_table_collection.html#a08f9fb724d737a2e6767b8af11bdc285">RexxHashTableCollection::next</a></div><div class="ttdeci">HashLink next(HashLink pos)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_collection_8hpp_source.html#l00088">RexxCollection.hpp:88</a></div></div>
<div class="ttc" id="aclass_rexx_hash_table_collection_html_a453cdd340a3d716c1dd068aae149af76"><div class="ttname"><a href="class_rexx_hash_table_collection.html#a453cdd340a3d716c1dd068aae149af76">RexxHashTableCollection::empty</a></div><div class="ttdeci">RexxObject * empty()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_collection_8cpp_source.html#l00517">RexxCollection.cpp:517</a></div></div>
<div class="ttc" id="aclass_rexx_hash_table_collection_html_a82457e66cf92a22b2fb331c83dd03a93"><div class="ttname"><a href="class_rexx_hash_table_collection.html#a82457e66cf92a22b2fb331c83dd03a93">RexxHashTableCollection::index</a></div><div class="ttdeci">RexxObject * index(HashLink pos)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_collection_8hpp_source.html#l00090">RexxCollection.hpp:90</a></div></div>
<div class="ttc" id="aclass_rexx_hash_table_collection_html_a9cf346c9f85be61772c507561037e3bf"><div class="ttname"><a href="class_rexx_hash_table_collection.html#a9cf346c9f85be61772c507561037e3bf">RexxHashTableCollection::items</a></div><div class="ttdeci">HashLink items()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_collection_8hpp_source.html#l00086">RexxCollection.hpp:86</a></div></div>
<div class="ttc" id="aclass_rexx_hash_table_collection_html_af0e5b6bbd85fc0930840c4c5f29e334a"><div class="ttname"><a href="class_rexx_hash_table_collection.html#af0e5b6bbd85fc0930840c4c5f29e334a">RexxHashTableCollection::first</a></div><div class="ttdeci">HashLink first()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_collection_8hpp_source.html#l00087">RexxCollection.hpp:87</a></div></div>
<div class="ttc" id="aclass_rexx_identity_table_html"><div class="ttname"><a href="class_rexx_identity_table.html">RexxIdentityTable</a></div><div class="ttdef"><b>Definition:</b> <a href="_identity_table_class_8hpp_source.html#l00049">IdentityTableClass.hpp:49</a></div></div>
<div class="ttc" id="aclass_rexx_identity_table_html_a36a69159244f9d641e67b42dfe99896d"><div class="ttname"><a href="class_rexx_identity_table.html#a36a69159244f9d641e67b42dfe99896d">RexxIdentityTable::put</a></div><div class="ttdeci">virtual RexxObject * put(RexxObject *, RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_identity_table_class_8cpp_source.html#l00139">IdentityTableClass.cpp:139</a></div></div>
<div class="ttc" id="aclass_rexx_identity_table_html_a69b70c0bc0e6bef5f5b37869793d4fb4"><div class="ttname"><a href="class_rexx_identity_table.html#a69b70c0bc0e6bef5f5b37869793d4fb4">RexxIdentityTable::get</a></div><div class="ttdeci">virtual RexxObject * get(RexxObject *key)</div><div class="ttdef"><b>Definition:</b> <a href="_identity_table_class_8cpp_source.html#l00111">IdentityTableClass.cpp:111</a></div></div>
<div class="ttc" id="aclass_rexx_identity_table_html_aa71298bce9f640e947d3cc48f6eb33d7"><div class="ttname"><a href="class_rexx_identity_table.html#aa71298bce9f640e947d3cc48f6eb33d7">RexxIdentityTable::remove</a></div><div class="ttdeci">virtual RexxObject * remove(RexxObject *key)</div><div class="ttdef"><b>Definition:</b> <a href="_identity_table_class_8cpp_source.html#l00095">IdentityTableClass.cpp:95</a></div></div>
<div class="ttc" id="aclass_rexx_integer_class_html"><div class="ttname"><a href="class_rexx_integer_class.html">RexxIntegerClass</a></div><div class="ttdef"><b>Definition:</b> <a href="_integer_class_8hpp_source.html#l00178">IntegerClass.hpp:178</a></div></div>
<div class="ttc" id="aclass_rexx_integer_html"><div class="ttname"><a href="class_rexx_integer.html">RexxInteger</a></div><div class="ttdef"><b>Definition:</b> <a href="_integer_class_8hpp_source.html#l00056">IntegerClass.hpp:56</a></div></div>
<div class="ttc" id="aclass_rexx_integer_html_a0c42ea294d8d45b20a69958379a720da"><div class="ttname"><a href="class_rexx_integer.html#a0c42ea294d8d45b20a69958379a720da">RexxInteger::createInstance</a></div><div class="ttdeci">static void createInstance()</div><div class="ttdef"><b>Definition:</b> <a href="_integer_class_8cpp_source.html#l01395">IntegerClass.cpp:1395</a></div></div>
<div class="ttc" id="aclass_rexx_integer_html_a44c144513baa08053f02bf0c456657d7"><div class="ttname"><a href="class_rexx_integer.html#a44c144513baa08053f02bf0c456657d7">RexxInteger::incrementValue</a></div><div class="ttdeci">wholenumber_t incrementValue()</div><div class="ttdef"><b>Definition:</b> <a href="_integer_class_8hpp_source.html#l00146">IntegerClass.hpp:146</a></div></div>
<div class="ttc" id="aclass_rexx_integer_html_a907118c4dfac424d950bd60b1a7557e1"><div class="ttname"><a href="class_rexx_integer.html#a907118c4dfac424d950bd60b1a7557e1">RexxInteger::getValue</a></div><div class="ttdeci">RexxObject * getValue(RexxActivation *)</div><div class="ttdef"><b>Definition:</b> <a href="_integer_class_8cpp_source.html#l01281">IntegerClass.cpp:1281</a></div></div>
<div class="ttc" id="aclass_rexx_integer_html_ab1dc9005992ace2a212df468216a9e42"><div class="ttname"><a href="class_rexx_integer.html#ab1dc9005992ace2a212df468216a9e42">RexxInteger::decrementValue</a></div><div class="ttdeci">wholenumber_t decrementValue()</div><div class="ttdef"><b>Definition:</b> <a href="_integer_class_8hpp_source.html#l00147">IntegerClass.hpp:147</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html"><div class="ttname"><a href="class_rexx_internal_object.html">RexxInternalObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00218">ObjectClass.hpp:218</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a035eb8bf67ca1b43d4238e806a0db0a0"><div class="ttname"><a href="class_rexx_internal_object.html#a035eb8bf67ca1b43d4238e806a0db0a0">RexxInternalObject::getObjectSize</a></div><div class="ttdeci">size_t getObjectSize()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00236">ObjectClass.hpp:236</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a0486e173ddb8c3771b267eb7eee84d60"><div class="ttname"><a href="class_rexx_internal_object.html#a0486e173ddb8c3771b267eb7eee84d60">RexxInternalObject::hasNoReferences</a></div><div class="ttdeci">bool hasNoReferences()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00254">ObjectClass.hpp:254</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a0bc70c47930b9cc7ba854b6804112dae"><div class="ttname"><a href="class_rexx_internal_object.html#a0bc70c47930b9cc7ba854b6804112dae">RexxInternalObject::clearObject</a></div><div class="ttdeci">void clearObject()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00243">ObjectClass.hpp:243</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a154bb75847091becfebd0c3259a1a92c"><div class="ttname"><a href="class_rexx_internal_object.html#a154bb75847091becfebd0c3259a1a92c">RexxInternalObject::setBehaviour</a></div><div class="ttdeci">void setBehaviour(RexxBehaviour *b)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00277">ObjectClass.hpp:277</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a32fcf21006cceefbd20f06ac21238d2f"><div class="ttname"><a href="class_rexx_internal_object.html#a32fcf21006cceefbd20f06ac21238d2f">RexxInternalObject::isNewSpace</a></div><div class="ttdeci">bool isNewSpace()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00265">ObjectClass.hpp:265</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a51e65b7026500d614d6829079208c62f"><div class="ttname"><a href="class_rexx_internal_object.html#a51e65b7026500d614d6829079208c62f">RexxInternalObject::setObjectSize</a></div><div class="ttdeci">void setObjectSize(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00237">ObjectClass.hpp:237</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a5b0fcc1a9c01b3f910c5b3346b2bc47b"><div class="ttname"><a href="class_rexx_internal_object.html#a5b0fcc1a9c01b3f910c5b3346b2bc47b">RexxInternalObject::setObjectLive</a></div><div class="ttdeci">void setObjectLive(size_t markword)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00250">ObjectClass.hpp:250</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a5c0ce096e06a4ed2bdf3173b38b80e08"><div class="ttname"><a href="class_rexx_internal_object.html#a5c0ce096e06a4ed2bdf3173b38b80e08">RexxInternalObject::isObjectLive</a></div><div class="ttdeci">bool isObjectLive(size_t mark)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00262">ObjectClass.hpp:262</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a5c671ae1947e8142f5177a31e47d1519"><div class="ttname"><a href="class_rexx_internal_object.html#a5c671ae1947e8142f5177a31e47d1519">RexxInternalObject::isOldSpace</a></div><div class="ttdeci">bool isOldSpace()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00264">ObjectClass.hpp:264</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a5d2f26e4a982a609d916e2ce4e623191"><div class="ttname"><a href="class_rexx_internal_object.html#a5d2f26e4a982a609d916e2ce4e623191">RexxInternalObject::stringValue</a></div><div class="ttdeci">virtual RexxString * stringValue()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l01075">ObjectClass.cpp:1075</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a66dac26647d4686e06dd66f083493a6c"><div class="ttname"><a href="class_rexx_internal_object.html#a66dac26647d4686e06dd66f083493a6c">RexxInternalObject::hasReferences</a></div><div class="ttdeci">bool hasReferences()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00253">ObjectClass.hpp:253</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a808a2435af600afafb41ffc958b4774c"><div class="ttname"><a href="class_rexx_internal_object.html#a808a2435af600afafb41ffc958b4774c">RexxInternalObject::setOldSpace</a></div><div class="ttdeci">void setOldSpace()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00267">ObjectClass.hpp:267</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_abd700c43a15c98749f72e68fd3099f81"><div class="ttname"><a href="class_rexx_internal_object.html#abd700c43a15c98749f72e68fd3099f81">RexxInternalObject::isNonPrimitive</a></div><div class="ttdeci">bool isNonPrimitive()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00258">ObjectClass.hpp:258</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_ac2985a59a55bb9b00f6f94613138b514"><div class="ttname"><a href="class_rexx_internal_object.html#ac2985a59a55bb9b00f6f94613138b514">RexxInternalObject::isObjectDead</a></div><div class="ttdeci">bool isObjectDead(size_t mark)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00263">ObjectClass.hpp:263</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_ad3fef1db4de36cd64d4ef1cf03c9b992"><div class="ttname"><a href="class_rexx_internal_object.html#ad3fef1db4de36cd64d4ef1cf03c9b992">RexxInternalObject::behaviour</a></div><div class="ttdeci">RexxBehaviour * behaviour</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00318">ObjectClass.hpp:318</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_af14e510069c3a6ce2612bf396c953b47"><div class="ttname"><a href="class_rexx_internal_object.html#af14e510069c3a6ce2612bf396c953b47">RexxInternalObject::identityHash</a></div><div class="ttdeci">HashCode identityHash()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00290">ObjectClass.hpp:290</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_afeb574e7fe835f29d6e527e804f57bb5"><div class="ttname"><a href="class_rexx_internal_object.html#afeb574e7fe835f29d6e527e804f57bb5">RexxInternalObject::getObjectType</a></div><div class="ttdeci">RexxBehaviour * getObjectType()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00273">ObjectClass.hpp:273</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html"><div class="ttname"><a href="class_rexx_memory.html">RexxMemory</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00169">RexxMemory.hpp:170</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a0008e02a719d42e6c313200e26061710"><div class="ttname"><a href="class_rexx_memory.html#a0008e02a719d42e6c313200e26061710">RexxMemory::functionsDir</a></div><div class="ttdeci">static RexxDirectory * functionsDir</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00307">RexxMemory.hpp:307</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a009e41e7a2e9aad7ec1836e700bbc73b"><div class="ttname"><a href="class_rexx_memory.html#a009e41e7a2e9aad7ec1836e700bbc73b">RexxMemory::image_buffer</a></div><div class="ttdeci">char * image_buffer</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00392">RexxMemory.hpp:392</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a0605cdee07c9a0ad65d4f6d9ab9edcb6"><div class="ttname"><a href="class_rexx_memory.html#a0605cdee07c9a0ad65d4f6d9ab9edcb6">RexxMemory::setEnvelope</a></div><div class="ttdeci">void setEnvelope(RexxEnvelope *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01987">RexxMemory.cpp:1987</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a06ed16bd87bcd45b8ddff52105b9dfee"><div class="ttname"><a href="class_rexx_memory.html#a06ed16bd87bcd45b8ddff52105b9dfee">RexxMemory::mark</a></div><div class="ttdeci">void mark(RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01376">RexxMemory.cpp:1376</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a07f5f768d71efb21f9be9cdd71213def"><div class="ttname"><a href="class_rexx_memory.html#a07f5f768d71efb21f9be9cdd71213def">RexxMemory::markObjectsMain</a></div><div class="ttdeci">void markObjectsMain(RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00353">RexxMemory.cpp:353</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a086abfcb645a1aa742913e359b070282"><div class="ttname"><a href="class_rexx_memory.html#a086abfcb645a1aa742913e359b070282">RexxMemory::collect</a></div><div class="ttdeci">void collect()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01021">RexxMemory.cpp:1021</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a08fe393988acf45fac70841c6724270e"><div class="ttname"><a href="class_rexx_memory.html#a08fe393988acf45fac70841c6724270e">RexxMemory::addWeakReference</a></div><div class="ttdeci">void addWeakReference(WeakReference *ref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00722">RexxMemory.cpp:722</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a095f670c28e3ea9fff744501020e5440"><div class="ttname"><a href="class_rexx_memory.html#a095f670c28e3ea9fff744501020e5440">RexxMemory::old2new</a></div><div class="ttdeci">RexxIdentityTable * old2new</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00382">RexxMemory.hpp:382</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a0aec46d5bb55131444088b9841337c6d"><div class="ttname"><a href="class_rexx_memory.html#a0aec46d5bb55131444088b9841337c6d">RexxMemory::environment</a></div><div class="ttdeci">static RexxDirectory * environment</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00306">RexxMemory.hpp:306</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a0f61c79b79267f1918f03faa80392d09"><div class="ttname"><a href="class_rexx_memory.html#a0f61c79b79267f1918f03faa80392d09">RexxMemory::saveImageMark</a></div><div class="ttdeci">void saveImageMark(RexxObject *markObject, RexxObject **pMarkObject)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01495">RexxMemory.cpp:1495</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a0f6f303ce77211176ad2423baaad0cda"><div class="ttname"><a href="class_rexx_memory.html#a0f6f303ce77211176ad2423baaad0cda">RexxMemory::discardHoldObject</a></div><div class="ttdeci">void discardHoldObject(RexxInternalObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01649">RexxMemory.cpp:1649</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a10a3611e86ddb3d721cbf3f72cd99df0"><div class="ttname"><a href="class_rexx_memory.html#a10a3611e86ddb3d721cbf3f72cd99df0">RexxMemory::saveStack</a></div><div class="ttdeci">RexxSaveStack * saveStack</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00377">RexxMemory.hpp:377</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a1211e74cc6e4b9b7e332d1ac80319382"><div class="ttname"><a href="class_rexx_memory.html#a1211e74cc6e4b9b7e332d1ac80319382">RexxMemory::firstPool</a></div><div class="ttdeci">MemorySegmentPool * firstPool</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00387">RexxMemory.hpp:387</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a1a060cf9028039e1c082cbbb57edf353"><div class="ttname"><a href="class_rexx_memory.html#a1a060cf9028039e1c082cbbb57edf353">RexxMemory::removeUninitObject</a></div><div class="ttdeci">void removeUninitObject(RexxObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00598">RexxMemory.cpp:598</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a1b7e2e74116ea0aca24ccf72b0ab2852"><div class="ttname"><a href="class_rexx_memory.html#a1b7e2e74116ea0aca24ccf72b0ab2852">RexxMemory::markTable</a></div><div class="ttdeci">RexxTable * markTable</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00379">RexxMemory.hpp:379</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a1c192523b5b45eb5491581d842b7838f"><div class="ttname"><a href="class_rexx_memory.html#a1c192523b5b45eb5491581d842b7838f">RexxMemory::orphanCheckMark</a></div><div class="ttdeci">void orphanCheckMark(RexxObject *markObject, RexxObject **pMarkObject)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01563">RexxMemory.cpp:1563</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a1d2b8b494fa17baef5effb393d1d6117"><div class="ttname"><a href="class_rexx_memory.html#a1d2b8b494fa17baef5effb393d1d6117">RexxMemory::pendingUninits</a></div><div class="ttdeci">size_t pendingUninits</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00384">RexxMemory.hpp:384</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a1fb3ae0c8234653036c46b21e3e6d8e5"><div class="ttname"><a href="class_rexx_memory.html#a1fb3ae0c8234653036c46b21e3e6d8e5">RexxMemory::restoreImage</a></div><div class="ttdeci">void restoreImage()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00810">RexxMemory.cpp:810</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a2000daee5aacc43dc6504ad25ca84c2c"><div class="ttname"><a href="class_rexx_memory.html#a2000daee5aacc43dc6504ad25ca84c2c">RexxMemory::objectReferenceOK</a></div><div class="ttdeci">bool objectReferenceOK(RexxObject *o)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00330">RexxMemory.cpp:330</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a20306285b055e3830a2395ee9f4dc6cc"><div class="ttname"><a href="class_rexx_memory.html#a20306285b055e3830a2395ee9f4dc6cc">RexxMemory::liveStackFull</a></div><div class="ttdeci">void liveStackFull()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01359">RexxMemory.cpp:1359</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a20ba11df75738c79fcd9219bb01fe885"><div class="ttname"><a href="class_rexx_memory.html#a20ba11df75738c79fcd9219bb01fe885">RexxMemory::dump</a></div><div class="ttdeci">RexxObject * dump()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01796">RexxMemory.cpp:1796</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a0cd09147658629cba88bda59583ae763"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a0cd09147658629cba88bda59583ae763">RexxMemory::saveArray_FUNCTIONS</a></div><div class="ttdeci">@ saveArray_FUNCTIONS</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00334">RexxMemory.hpp:334</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a1777c6679a921b2a72db47d9d8f21113"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a1777c6679a921b2a72db47d9d8f21113">RexxMemory::saveArray_NAME_STRINGS</a></div><div class="ttdeci">@ saveArray_NAME_STRINGS</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00323">RexxMemory.hpp:323</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a255c6fc16b7df68e134d926d9050dbd2"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a255c6fc16b7df68e134d926d9050dbd2">RexxMemory::saveArray_ENV</a></div><div class="ttdeci">@ saveArray_ENV</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00321">RexxMemory.hpp:321</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a589f5443b59f3734008bdbb8784e180c"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a589f5443b59f3734008bdbb8784e180c">RexxMemory::saveArray_KERNEL</a></div><div class="ttdeci">@ saveArray_KERNEL</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00322">RexxMemory.hpp:322</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a6d5161d396060a67780a2e07e29699ae"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a6d5161d396060a67780a2e07e29699ae">RexxMemory::saveArray_highest</a></div><div class="ttdeci">@ saveArray_highest</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00337">RexxMemory.hpp:336</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a719692e80fe684799f7a1c9584f221fd"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a719692e80fe684799f7a1c9584f221fd">RexxMemory::saveArray_PBEHAV</a></div><div class="ttdeci">@ saveArray_PBEHAV</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00329">RexxMemory.hpp:329</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a763e69d3d5957d2b351d3b2b3da3c3b4"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a763e69d3d5957d2b351d3b2b3da3c3b4">RexxMemory::saveArray_NULLPOINTER</a></div><div class="ttdeci">@ saveArray_NULLPOINTER</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00332">RexxMemory.hpp:332</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a7e8883b12dca63c4fd33a0cebd6a3628"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a7e8883b12dca63c4fd33a0cebd6a3628">RexxMemory::saveArray_CLASS</a></div><div class="ttdeci">@ saveArray_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00328">RexxMemory.hpp:328</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a8505dbae682e8ceb41efed5dc155fe00"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a8505dbae682e8ceb41efed5dc155fe00">RexxMemory::saveArray_NIL</a></div><div class="ttdeci">@ saveArray_NIL</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00326">RexxMemory.hpp:326</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a8d0468e9ee701ddc0a1806622a7cbf7a"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a8d0468e9ee701ddc0a1806622a7cbf7a">RexxMemory::saveArray_NULLA</a></div><div class="ttdeci">@ saveArray_NULLA</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00331">RexxMemory.hpp:331</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734a9be2a94ee71464ea1059f9e3caea41fc"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734a9be2a94ee71464ea1059f9e3caea41fc">RexxMemory::saveArray_TRUE</a></div><div class="ttdeci">@ saveArray_TRUE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00324">RexxMemory.hpp:324</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734aa3f4ca7475c8fd8b3d9ddd26b4715e61"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734aa3f4ca7475c8fd8b3d9ddd26b4715e61">RexxMemory::saveArray_FALSE</a></div><div class="ttdeci">@ saveArray_FALSE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00325">RexxMemory.hpp:325</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734ab86972d12b1cc6c920aee84db76cbf94"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734ab86972d12b1cc6c920aee84db76cbf94">RexxMemory::saveArray_SYSTEM</a></div><div class="ttdeci">@ saveArray_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00333">RexxMemory.hpp:333</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734ada83169757ef36f5cfaf3aa842cb5c91"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734ada83169757ef36f5cfaf3aa842cb5c91">RexxMemory::saveArray_PACKAGES</a></div><div class="ttdeci">@ saveArray_PACKAGES</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00330">RexxMemory.hpp:330</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a253ad3cce728515ec73f459b49064734ae17626da4bd234a9e0498738a2536c43"><div class="ttname"><a href="class_rexx_memory.html#a253ad3cce728515ec73f459b49064734ae17626da4bd234a9e0498738a2536c43">RexxMemory::saveArray_COMMON_RETRIEVERS</a></div><div class="ttdeci">@ saveArray_COMMON_RETRIEVERS</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00335">RexxMemory.hpp:335</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a26ece86339bc7d674a7fd3adcb7ea76f"><div class="ttname"><a href="class_rexx_memory.html#a26ece86339bc7d674a7fd3adcb7ea76f">RexxMemory::initialize</a></div><div class="ttdeci">void initialize(bool restoringImage, const char *imageTarget)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00172">RexxMemory.cpp:172</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a2a45d346a6c149ddac328c5b8a5017a2"><div class="ttname"><a href="class_rexx_memory.html#a2a45d346a6c149ddac328c5b8a5017a2">RexxMemory::memoryPoolAdded</a></div><div class="ttdeci">void memoryPoolAdded(MemorySegmentPool *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02207">RexxMemory.cpp:2207</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a2c16f965b1f1f9996a1694708a7199fb"><div class="ttname"><a href="class_rexx_memory.html#a2c16f965b1f1f9996a1694708a7199fb">RexxMemory::setParms</a></div><div class="ttdeci">RexxObject * setParms(RexxObject *, RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01669">RexxMemory.cpp:1669</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a2c35093c92c25ddbfbd73263d111bafe"><div class="ttname"><a href="class_rexx_memory.html#a2c35093c92c25ddbfbd73263d111bafe">RexxMemory::shutdown</a></div><div class="ttdeci">void shutdown()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02213">RexxMemory.cpp:2213</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a2d60188812041e15870a49908652b0e4"><div class="ttname"><a href="class_rexx_memory.html#a2d60188812041e15870a49908652b0e4">RexxMemory::saveImage</a></div><div class="ttdeci">void saveImage(const char *imageTarget)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01681">RexxMemory.cpp:1681</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a2e691193613c5a045b72b5922a3f51e7"><div class="ttname"><a href="class_rexx_memory.html#a2e691193613c5a045b72b5922a3f51e7">RexxMemory::uninitTable</a></div><div class="ttdeci">RexxIdentityTable * uninitTable</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00383">RexxMemory.hpp:383</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a3014b26cf000d0083eda2214f36f2e82"><div class="ttname"><a href="class_rexx_memory.html#a3014b26cf000d0083eda2214f36f2e82">RexxMemory::restoreObjectMark</a></div><div class="ttdeci">void restoreObjectMark(RexxObject *markObject, RexxObject **pMarkObject)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00354">RexxMemory.hpp:354</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a30f0a959142a6551a69f1bd3a2dfe44a"><div class="ttname"><a href="class_rexx_memory.html#a30f0a959142a6551a69f1bd3a2dfe44a">RexxMemory::weakReferenceList</a></div><div class="ttdeci">WeakReference * weakReferenceList</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00411">RexxMemory.hpp:411</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a344d05d1aa6e523b7294e5bcc85570b5"><div class="ttname"><a href="class_rexx_memory.html#a344d05d1aa6e523b7294e5bcc85570b5">RexxMemory::globalStrings</a></div><div class="ttdeci">static RexxDirectory * globalStrings</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00413">RexxMemory.hpp:413</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a37275cf48e5511c5e21e7f0a934aabeb"><div class="ttname"><a href="class_rexx_memory.html#a37275cf48e5511c5e21e7f0a934aabeb">RexxMemory::saveObject</a></div><div class="ttdeci">RexxObject * saveObject(RexxInternalObject *saveObj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00211">RexxMemory.hpp:211</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a3796e23515a5c43e8b50c4af94e8abb0"><div class="ttname"><a href="class_rexx_memory.html#a3796e23515a5c43e8b50c4af94e8abb0">RexxMemory::createImage</a></div><div class="ttdeci">static void createImage(const char *imageTarget)</div><div class="ttdef"><b>Definition:</b> <a href="_setup_8cpp_source.html#l00146">Setup.cpp:146</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a3f50111bd51f0759b92188b7c9fdc4de"><div class="ttname"><a href="class_rexx_memory.html#a3f50111bd51f0759b92188b7c9fdc4de">RexxMemory::newObject</a></div><div class="ttdeci">RexxObject * newObject(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00190">RexxMemory.hpp:190</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a41cf314cf8314b5ad7cb0bdbdf85b156"><div class="ttname"><a href="class_rexx_memory.html#a41cf314cf8314b5ad7cb0bdbdf85b156">RexxMemory::unflattenMutex</a></div><div class="ttdeci">static SysMutex unflattenMutex</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00415">RexxMemory.hpp:415</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a4782fd8d0d21f0b41a21be0ff6c71c42"><div class="ttname"><a href="class_rexx_memory.html#a4782fd8d0d21f0b41a21be0ff6c71c42">RexxMemory::processingUninits</a></div><div class="ttdeci">bool processingUninits</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00385">RexxMemory.hpp:385</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a47fa36e6c59dc0aad379a08107fc775c"><div class="ttname"><a href="class_rexx_memory.html#a47fa36e6c59dc0aad379a08107fc775c">RexxMemory::image_offset</a></div><div class="ttdeci">size_t image_offset</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00393">RexxMemory.hpp:393</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a4823fb652fc3ef8a1ab94ecb75a8f84a"><div class="ttname"><a href="class_rexx_memory.html#a4823fb652fc3ef8a1ab94ecb75a8f84a">RexxMemory::newSpaceNormalSegments</a></div><div class="ttdeci">NormalSegmentSet newSpaceNormalSegments</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00390">RexxMemory.hpp:390</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a492c698f2255e6180d1a807bddd95060"><div class="ttname"><a href="class_rexx_memory.html#a492c698f2255e6180d1a807bddd95060">RexxMemory::orphanCheck</a></div><div class="ttdeci">bool orphanCheck</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00401">RexxMemory.hpp:401</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a49f20428166eb0eb71cf5c64ade44658"><div class="ttname"><a href="class_rexx_memory.html#a49f20428166eb0eb71cf5c64ade44658">RexxMemory::newSegment</a></div><div class="ttdeci">MemorySegment * newSegment(size_t requestLength, size_t minLength)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00733">RexxMemory.cpp:733</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a49ffa85e5b28030fdd6e02f2a7603d84"><div class="ttname"><a href="class_rexx_memory.html#a49ffa85e5b28030fdd6e02f2a7603d84">RexxMemory::restoringImage</a></div><div class="ttdeci">bool restoringImage()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00218">RexxMemory.hpp:218</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a4e11c24c5bab1614b3ab98b30d87db63"><div class="ttname"><a href="class_rexx_memory.html#a4e11c24c5bab1614b3ab98b30d87db63">RexxMemory::virtualFunctionTable</a></div><div class="ttdeci">static void * virtualFunctionTable[]</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00298">RexxMemory.hpp:298</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a4f91da9a636e73130f1a0247a82fc9f2"><div class="ttname"><a href="class_rexx_memory.html#a4f91da9a636e73130f1a0247a82fc9f2">RexxMemory::killOrphans</a></div><div class="ttdeci">void killOrphans(RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00388">RexxMemory.cpp:388</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a50b408dd86d2400b1c0ecbe5dfbe5391"><div class="ttname"><a href="class_rexx_memory.html#a50b408dd86d2400b1c0ecbe5dfbe5391">RexxMemory::inSharedObjectStorage</a></div><div class="ttdeci">bool inSharedObjectStorage(RexxObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00281">RexxMemory.cpp:281</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a51bc42e5fd456d3cb6097e5a78e7328a"><div class="ttname"><a href="class_rexx_memory.html#a51bc42e5fd456d3cb6097e5a78e7328a">RexxMemory::setDump</a></div><div class="ttdeci">RexxObject * setDump(RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01854">RexxMemory.cpp:1854</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a5882589f80eff2a5f6760b169ba02ba4"><div class="ttname"><a href="class_rexx_memory.html#a5882589f80eff2a5f6760b169ba02ba4">RexxMemory::makeProxy</a></div><div class="ttdeci">RexxObject * makeProxy(RexxEnvelope *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00988">RexxMemory.cpp:988</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a5a75d64e7d1bce760e4302aedf533126"><div class="ttname"><a href="class_rexx_memory.html#a5a75d64e7d1bce760e4302aedf533126">RexxMemory::saveStrings</a></div><div class="ttdeci">static RexxArray * saveStrings()</div><div class="ttdef"><b>Definition:</b> <a href="_global_names_8cpp_source.html#l00064">GlobalNames.cpp:64</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a5dac31a980220f421b126995f78e26d6"><div class="ttname"><a href="class_rexx_memory.html#a5dac31a980220f421b126995f78e26d6">RexxMemory::newLargeSegment</a></div><div class="ttdeci">MemorySegment * newLargeSegment(size_t requestLength, size_t minLength)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00773">RexxMemory.cpp:773</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a5e52d011d852a1dde674254fe4637f4e"><div class="ttname"><a href="class_rexx_memory.html#a5e52d011d852a1dde674254fe4637f4e">RexxMemory::isPendingUninit</a></div><div class="ttdeci">bool isPendingUninit(RexxObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00626">RexxMemory.cpp:626</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a61ab520a1bad91c66c8ab4fe6e2157ac"><div class="ttname"><a href="class_rexx_memory.html#a61ab520a1bad91c66c8ab4fe6e2157ac">RexxMemory::live</a></div><div class="ttdeci">void live(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00922">RexxMemory.cpp:922</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a63a88bc63f82f47182d7b398c8bf2b99"><div class="ttname"><a href="class_rexx_memory.html#a63a88bc63f82f47182d7b398c8bf2b99">RexxMemory::newObjects</a></div><div class="ttdeci">RexxArray * newObjects(size_t size, size_t count, size_t objectType)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01153">RexxMemory.cpp:1153</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a643e3da4e0f9cadde138163ac83ac4fa"><div class="ttname"><a href="class_rexx_memory.html#a643e3da4e0f9cadde138163ac83ac4fa">RexxMemory::markGeneral</a></div><div class="ttdeci">void markGeneral(void *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01434">RexxMemory.cpp:1434</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a67165dc2a85345d56abd099da7342238"><div class="ttname"><a href="class_rexx_memory.html#a67165dc2a85345d56abd099da7342238">RexxMemory::dumpMemoryProfile</a></div><div class="ttdeci">void dumpMemoryProfile()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00251">RexxMemory.cpp:251</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a67cc8cf866c187d710946db7deb6fda1"><div class="ttname"><a href="class_rexx_memory.html#a67cc8cf866c187d710946db7deb6fda1">RexxMemory::variableCache</a></div><div class="ttdeci">RexxVariable * variableCache</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00303">RexxMemory.hpp:303</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a6f856b156ac06b1f24a87852c72047b6"><div class="ttname"><a href="class_rexx_memory.html#a6f856b156ac06b1f24a87852c72047b6">RexxMemory::getFlattenStack</a></div><div class="ttdeci">RexxStack * getFlattenStack()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02154">RexxMemory.cpp:2154</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a72a8a2326834ef6cbdf4976ad035c467"><div class="ttname"><a href="class_rexx_memory.html#a72a8a2326834ef6cbdf4976ad035c467">RexxMemory::addUninitObject</a></div><div class="ttdeci">void addUninitObject(RexxObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00609">RexxMemory.cpp:609</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a72d21fe8978a28899f302f77e7e3d8a1"><div class="ttname"><a href="class_rexx_memory.html#a72d21fe8978a28899f302f77e7e3d8a1">RexxMemory::popLiveStack</a></div><div class="ttdeci">RexxObject * popLiveStack()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00342">RexxMemory.hpp:342</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a72f4c33e2f56fb96a1b186226ea0fd33"><div class="ttname"><a href="class_rexx_memory.html#a72f4c33e2f56fb96a1b186226ea0fd33">RexxMemory::markObjects</a></div><div class="ttdeci">void markObjects(void)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00635">RexxMemory.cpp:635</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a7425f99b74280200ba2dadd491aa90a5"><div class="ttname"><a href="class_rexx_memory.html#a7425f99b74280200ba2dadd491aa90a5">RexxMemory::createLocks</a></div><div class="ttdeci">static void createLocks()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02268">RexxMemory.cpp:2268</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a75324c8465e6b3895047ec6857a34453"><div class="ttname"><a href="class_rexx_memory.html#a75324c8465e6b3895047ec6857a34453">RexxMemory::system</a></div><div class="ttdeci">static RexxDirectory * system</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00310">RexxMemory.hpp:310</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a78c6df71e0f43c8c20254ee6c4dc6459"><div class="ttname"><a href="class_rexx_memory.html#a78c6df71e0f43c8c20254ee6c4dc6459">RexxMemory::restoreMark</a></div><div class="ttdeci">void restoreMark(RexxObject *markObject, RexxObject **pMarkObject)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00344">RexxMemory.hpp:344</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a796e180e28102056c4dabf48ded84db8"><div class="ttname"><a href="class_rexx_memory.html#a796e180e28102056c4dabf48ded84db8">RexxMemory::dumpEnable</a></div><div class="ttdeci">bool dumpEnable</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00395">RexxMemory.hpp:395</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a7c461ee25a4be7a560599735331cc784"><div class="ttname"><a href="class_rexx_memory.html#a7c461ee25a4be7a560599735331cc784">RexxMemory::oldSpaceSegments</a></div><div class="ttdeci">OldSpaceSegmentSet oldSpaceSegments</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00389">RexxMemory.hpp:389</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a7e47a6507f97216218026d7148f6f87b"><div class="ttname"><a href="class_rexx_memory.html#a7e47a6507f97216218026d7148f6f87b">RexxMemory::restoreStrings</a></div><div class="ttdeci">static void restoreStrings(RexxArray *stringArray)</div><div class="ttdef"><b>Definition:</b> <a href="_global_names_8cpp_source.html#l00092">GlobalNames.cpp:92</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a7ebb2420f97deb2aedb9ebee487e9ff2"><div class="ttname"><a href="class_rexx_memory.html#a7ebb2420f97deb2aedb9ebee487e9ff2">RexxMemory::markWord</a></div><div class="ttdeci">size_t markWord</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00301">RexxMemory.hpp:301</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a7ef90acd26b9949c2ae78ffdf3bf3d36"><div class="ttname"><a href="class_rexx_memory.html#a7ef90acd26b9949c2ae78ffdf3bf3d36">RexxMemory::setUpMemoryTables</a></div><div class="ttdeci">void setUpMemoryTables(RexxIdentityTable *old2newTable)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02235">RexxMemory.cpp:2235</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a80ff470f36e40f195f8e1291fed899a9"><div class="ttname"><a href="class_rexx_memory.html#a80ff470f36e40f195f8e1291fed899a9">RexxMemory::collectAndUninit</a></div><div class="ttdeci">void collectAndUninit(bool clearStack)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00491">RexxMemory.cpp:491</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a8604ae06ebf45530c006e036170001b4"><div class="ttname"><a href="class_rexx_memory.html#a8604ae06ebf45530c006e036170001b4">RexxMemory::holdObject</a></div><div class="ttdeci">RexxObject * holdObject(RexxInternalObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01658">RexxMemory.cpp:1658</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a872de860b5e6e61ba20dab3da5aac7d0"><div class="ttname"><a href="class_rexx_memory.html#a872de860b5e6e61ba20dab3da5aac7d0">RexxMemory::saveimage</a></div><div class="ttdeci">bool saveimage</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00396">RexxMemory.hpp:396</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a88d2f2aa7bf2e17d276c4ee24bc563c9"><div class="ttname"><a href="class_rexx_memory.html#a88d2f2aa7bf2e17d276c4ee24bc563c9">RexxMemory::pushLiveStack</a></div><div class="ttdeci">void pushLiveStack(RexxObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00341">RexxMemory.hpp:341</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a88db59d2c2644e37e72fad655f587ce2"><div class="ttname"><a href="class_rexx_memory.html#a88db59d2c2644e37e72fad655f587ce2">RexxMemory::dumpImageStats</a></div><div class="ttdeci">RexxObject * dumpImageStats()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02182">RexxMemory.cpp:2182</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a8d15310b9b01749be05b104dda03fdcd"><div class="ttname"><a href="class_rexx_memory.html#a8d15310b9b01749be05b104dda03fdcd">RexxMemory::collections</a></div><div class="ttdeci">size_t collections</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00410">RexxMemory.hpp:410</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a8e83ca03247b97db0a09edd1b4478cb8"><div class="ttname"><a href="class_rexx_memory.html#a8e83ca03247b97db0a09edd1b4478cb8">RexxMemory::protectedObjects</a></div><div class="ttdeci">GlobalProtectedObject * protectedObjects</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00304">RexxMemory.hpp:304</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a90fb5513ba3b8500b1cebac03f2a83f9"><div class="ttname"><a href="class_rexx_memory.html#a90fb5513ba3b8500b1cebac03f2a83f9">RexxMemory::envelopeMutex</a></div><div class="ttdeci">static SysMutex envelopeMutex</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00416">RexxMemory.hpp:416</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a92e359674d365404c25a3b996f139295"><div class="ttname"><a href="class_rexx_memory.html#a92e359674d365404c25a3b996f139295">RexxMemory::buildVirtualFunctionTable</a></div><div class="ttdeci">static void buildVirtualFunctionTable()</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_function_table_8cpp_source.html#l00173">VirtualFunctionTable.cpp:173</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a993ae1de052193dc370e1118a43ff7a3"><div class="ttname"><a href="class_rexx_memory.html#a993ae1de052193dc370e1118a43ff7a3">RexxMemory::liveGeneral</a></div><div class="ttdeci">void liveGeneral(int reason)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00956">RexxMemory.cpp:956</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a9971e9afc60b79a1c6afc65cc0a62645"><div class="ttname"><a href="class_rexx_memory.html#a9971e9afc60b79a1c6afc65cc0a62645">RexxMemory::inObjectStorage</a></div><div class="ttdeci">bool inObjectStorage(RexxObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00311">RexxMemory.cpp:311</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a9a1bb7b3f9cfcab7824b224796b6d2b8"><div class="ttname"><a href="class_rexx_memory.html#a9a1bb7b3f9cfcab7824b224796b6d2b8">RexxMemory::liveStack</a></div><div class="ttdeci">RexxStack * liveStack</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00375">RexxMemory.hpp:375</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a9a33e6e473c05c1472e1ce04aa2b7379"><div class="ttname"><a href="class_rexx_memory.html#a9a33e6e473c05c1472e1ce04aa2b7379">RexxMemory::newSpaceLargeSegments</a></div><div class="ttdeci">LargeSegmentSet newSpaceLargeSegments</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00391">RexxMemory.hpp:391</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a9d8653be9f538214b25068b12a648bcb"><div class="ttname"><a href="class_rexx_memory.html#a9d8653be9f538214b25068b12a648bcb">RexxMemory::objOffset</a></div><div class="ttdeci">size_t objOffset</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00402">RexxMemory.hpp:402</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_a9ec212b182cebb2f6c0631dbdaada625"><div class="ttname"><a href="class_rexx_memory.html#a9ec212b182cebb2f6c0631dbdaada625">RexxMemory::runUninits</a></div><div class="ttdeci">void runUninits()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00520">RexxMemory.cpp:520</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aa08ab4ae1d1b05637327ee4891070310"><div class="ttname"><a href="class_rexx_memory.html#aa08ab4ae1d1b05637327ee4891070310">RexxMemory::logObjectStats</a></div><div class="ttdeci">void logObjectStats(RexxObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00264">RexxMemory.hpp:264</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aa59ef31d638f28054fea07fce83e2c35"><div class="ttname"><a href="class_rexx_memory.html#aa59ef31d638f28054fea07fce83e2c35">RexxMemory::getGlobalName</a></div><div class="ttdeci">static RexxString * getGlobalName(const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02302">RexxMemory.cpp:2302</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aa9dcb05368985bdc3c47b38c2b890bf1"><div class="ttname"><a href="class_rexx_memory.html#aa9dcb05368985bdc3c47b38c2b890bf1">RexxMemory::returnFlattenStack</a></div><div class="ttdeci">void returnFlattenStack()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02173">RexxMemory.cpp:2173</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aab5a3d05709808817867135b48db569e"><div class="ttname"><a href="class_rexx_memory.html#aab5a3d05709808817867135b48db569e">RexxMemory::checkSetOref</a></div><div class="ttdeci">RexxObject * checkSetOref(RexxObject *, RexxObject **, RexxObject *, const char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02091">RexxMemory.cpp:2091</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aad1c8697e1de5edfb8b328449b57cb47"><div class="ttname"><a href="class_rexx_memory.html#aad1c8697e1de5edfb8b328449b57cb47">RexxMemory::allocateImageBuffer</a></div><div class="ttdeci">char * allocateImageBuffer(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01080">RexxMemory.cpp:1080</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aaf0682e9d4c0fe503689fac1dd46c7be"><div class="ttname"><a href="class_rexx_memory.html#aaf0682e9d4c0fe503689fac1dd46c7be">RexxMemory::allocations</a></div><div class="ttdeci">size_t allocations</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00409">RexxMemory.hpp:409</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ab28b0f134bbf54d275020bf292e0f872"><div class="ttname"><a href="class_rexx_memory.html#ab28b0f134bbf54d275020bf292e0f872">RexxMemory::envelope</a></div><div class="ttdeci">RexxEnvelope * envelope</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00405">RexxMemory.hpp:405</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ab2b1a2df9d68b316677f58dcef5c2b1b"><div class="ttname"><a href="class_rexx_memory.html#ab2b1a2df9d68b316677f58dcef5c2b1b">RexxMemory::closeLocks</a></div><div class="ttdeci">static void closeLocks()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02281">RexxMemory.cpp:2281</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ab46d7896d9a622501d1be8170eef1613"><div class="ttname"><a href="class_rexx_memory.html#ab46d7896d9a622501d1be8170eef1613">RexxMemory::unflattenMark</a></div><div class="ttdeci">void unflattenMark(RexxObject *markObject, RexxObject **pMarkObject)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00349">RexxMemory.hpp:349</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ab681e8d74755d3db22afea34929a3a3f"><div class="ttname"><a href="class_rexx_memory.html#ab681e8d74755d3db22afea34929a3a3f">RexxMemory::commonRetrievers</a></div><div class="ttdeci">static RexxDirectory * commonRetrievers</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00308">RexxMemory.hpp:308</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ab7381c381eeeb9909610ab59f4ac9527"><div class="ttname"><a href="class_rexx_memory.html#ab7381c381eeeb9909610ab59f4ac9527">RexxMemory::saveTable</a></div><div class="ttdeci">RexxIdentityTable * saveTable</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00378">RexxMemory.hpp:378</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_abb9990d4649009806054093012062d8b"><div class="ttname"><a href="class_rexx_memory.html#abb9990d4649009806054093012062d8b">RexxMemory::clearSaveStack</a></div><div class="ttdeci">void clearSaveStack()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00269">RexxMemory.hpp:269</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_abea5cd734c025badddb6a9d4be2b0c6b"><div class="ttname"><a href="class_rexx_memory.html#abea5cd734c025badddb6a9d4be2b0c6b">RexxMemory::checkSetOK</a></div><div class="ttdeci">bool checkSetOK</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00398">RexxMemory.hpp:398</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_abeff7090c3ad31cc7857a9fbfe15bdbb"><div class="ttname"><a href="class_rexx_memory.html#abeff7090c3ad31cc7857a9fbfe15bdbb">RexxMemory::setObjectOffset</a></div><div class="ttdeci">void setObjectOffset(size_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01952">RexxMemory.cpp:1952</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ac2d8280cc91895f4afa8ae21736dc25c"><div class="ttname"><a href="class_rexx_memory.html#ac2d8280cc91895f4afa8ae21736dc25c">RexxMemory::flattenStack</a></div><div class="ttdeci">RexxStack * flattenStack</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00376">RexxMemory.hpp:376</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ac43a0d3046bc97b4f56435785c146188"><div class="ttname"><a href="class_rexx_memory.html#ac43a0d3046bc97b4f56435785c146188">RexxMemory::gutCheck</a></div><div class="ttdeci">RexxObject * gutCheck()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01868">RexxMemory.cpp:1868</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ac5b54e9e6c509999412f41775b4e1ef0"><div class="ttname"><a href="class_rexx_memory.html#ac5b54e9e6c509999412f41775b4e1ef0">RexxMemory::restore</a></div><div class="ttdeci">static void restore()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02342">RexxMemory.cpp:2342</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ac613b306e1989e04bdd7689146190841"><div class="ttname"><a href="class_rexx_memory.html#ac613b306e1989e04bdd7689146190841">RexxMemory::disableOrefChecks</a></div><div class="ttdeci">void disableOrefChecks()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00267">RexxMemory.hpp:267</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ac6e97be697b317fe3a03adc26410810d"><div class="ttname"><a href="class_rexx_memory.html#ac6e97be697b317fe3a03adc26410810d">RexxMemory::oldObject</a></div><div class="ttdeci">RexxObject * oldObject(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01054">RexxMemory.cpp:1054</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_acaf448e70a1b7f4ef81da46b59e34b39"><div class="ttname"><a href="class_rexx_memory.html#acaf448e70a1b7f4ef81da46b59e34b39">RexxMemory::verboseMessage</a></div><div class="ttdeci">void verboseMessage(const char *message)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00240">RexxMemory.hpp:240</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_acd7bb15742db44f1a4ac392310063529"><div class="ttname"><a href="class_rexx_memory.html#acd7bb15742db44f1a4ac392310063529">RexxMemory::dumpObject</a></div><div class="ttdeci">void dumpObject(RexxObject *objectRef, FILE *outfile)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00263">RexxMemory.cpp:263</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ace18b038b9c84e1bf61b435ea41b0396"><div class="ttname"><a href="class_rexx_memory.html#ace18b038b9c84e1bf61b435ea41b0396">RexxMemory::checkWeakReferences</a></div><div class="ttdeci">void checkWeakReferences()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00686">RexxMemory.cpp:686</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ace912660ede60ba765cc6648a225c97a"><div class="ttname"><a href="class_rexx_memory.html#ace912660ede60ba765cc6648a225c97a">RexxMemory::kernel</a></div><div class="ttdeci">static RexxDirectory * kernel</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00309">RexxMemory.hpp:309</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ad1f270f8a8742ded3aa54fd6e34b98a6"><div class="ttname"><a href="class_rexx_memory.html#ad1f270f8a8742ded3aa54fd6e34b98a6">RexxMemory::enableOrefChecks</a></div><div class="ttdeci">void enableOrefChecks()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00268">RexxMemory.hpp:268</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ad217209fb954ffaca59c42f4970a0131"><div class="ttname"><a href="class_rexx_memory.html#ad217209fb954ffaca59c42f4970a0131">RexxMemory::flattenMutex</a></div><div class="ttdeci">static SysMutex flattenMutex</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00414">RexxMemory.hpp:414</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ad57a814a666f729afb003b1e46fb0a32"><div class="ttname"><a href="class_rexx_memory.html#ad57a814a666f729afb003b1e46fb0a32">RexxMemory::setOref</a></div><div class="ttdeci">RexxObject * setOref(void *index, RexxObject *value)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02021">RexxMemory.cpp:2021</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ada93d88f89ad181ce508779c2a586b79"><div class="ttname"><a href="class_rexx_memory.html#ada93d88f89ad181ce508779c2a586b79">RexxMemory::lastChanceUninit</a></div><div class="ttdeci">void lastChanceUninit()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00510">RexxMemory.cpp:510</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ade7c4ecf65e326eb68a0851fd04972e8"><div class="ttname"><a href="class_rexx_memory.html#ade7c4ecf65e326eb68a0851fd04972e8">RexxMemory::temporaryObject</a></div><div class="ttdeci">RexxObject * temporaryObject(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01410">RexxMemory.cpp:1410</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ae24fd85a2949ae14ea06c029588f6aed"><div class="ttname"><a href="class_rexx_memory.html#ae24fd85a2949ae14ea06c029588f6aed">RexxMemory::originalLiveStack</a></div><div class="ttdeci">RexxStack * originalLiveStack</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00406">RexxMemory.hpp:406</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ae420542972ad1003ed51d2531993955f"><div class="ttname"><a href="class_rexx_memory.html#ae420542972ad1003ed51d2531993955f">RexxMemory::reSize</a></div><div class="ttdeci">void reSize(RexxObject *, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01269">RexxMemory.cpp:1269</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ae5d9918e80f4016a06d315f424d6cf42"><div class="ttname"><a href="class_rexx_memory.html#ae5d9918e80f4016a06d315f424d6cf42">RexxMemory::imageStats</a></div><div class="ttdeci">MemoryStats * imageStats</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00407">RexxMemory.hpp:407</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_ae7d7f2951706c0bcb1ba2cec8c5d1d1d"><div class="ttname"><a href="class_rexx_memory.html#ae7d7f2951706c0bcb1ba2cec8c5d1d1d">RexxMemory::reclaim</a></div><div class="ttdeci">RexxObject * reclaim()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01009">RexxMemory.cpp:1009</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aeb5622fe963bc6646c36aae7b0514e57"><div class="ttname"><a href="class_rexx_memory.html#aeb5622fe963bc6646c36aae7b0514e57">RexxMemory::RexxMemory</a></div><div class="ttdeci">RexxMemory()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00118">RexxMemory.cpp:118</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aeba0b8b9ae5ab251dda632ee16243e04"><div class="ttname"><a href="class_rexx_memory.html#aeba0b8b9ae5ab251dda632ee16243e04">RexxMemory::currentPool</a></div><div class="ttdeci">MemorySegmentPool * currentPool</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00388">RexxMemory.hpp:388</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aec8cc6fbc8592b4f2aeedce4c03ee300"><div class="ttname"><a href="class_rexx_memory.html#aec8cc6fbc8592b4f2aeedce4c03ee300">RexxMemory::pushSaveStack</a></div><div class="ttdeci">void pushSaveStack(RexxObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00265">RexxMemory.hpp:265</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_aed597116ce13717985ee84edac84e07f"><div class="ttname"><a href="class_rexx_memory.html#aed597116ce13717985ee84edac84e07f">RexxMemory::relocation</a></div><div class="ttdeci">size_t relocation</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00394">RexxMemory.hpp:394</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_af1582f11405e8942314c1fcdba4a055d"><div class="ttname"><a href="class_rexx_memory.html#af1582f11405e8942314c1fcdba4a055d">RexxMemory::checkUninit</a></div><div class="ttdeci">void checkUninit()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00453">RexxMemory.cpp:453</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_af1abe7c97842f40693848401d7d9428d"><div class="ttname"><a href="class_rexx_memory.html#af1abe7c97842f40693848401d7d9428d">RexxMemory::bumpMarkWord</a></div><div class="ttdeci">void bumpMarkWord()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00343">RexxMemory.hpp:343</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_af35247d4e3ff4fadcef9284c837b6115"><div class="ttname"><a href="class_rexx_memory.html#af35247d4e3ff4fadcef9284c837b6115">RexxMemory::restoreimage</a></div><div class="ttdeci">bool restoreimage</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00397">RexxMemory.hpp:397</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_af35b9928de9d44174c7cb4ac1c877b23"><div class="ttname"><a href="class_rexx_memory.html#af35b9928de9d44174c7cb4ac1c877b23">RexxMemory::create</a></div><div class="ttdeci">static void create()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l02325">RexxMemory.cpp:2325</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_af3d3613e807189dfc8c698d5feb8b81c"><div class="ttname"><a href="class_rexx_memory.html#af3d3613e807189dfc8c698d5feb8b81c">RexxMemory::flatten</a></div><div class="ttdeci">void flatten(RexxEnvelope *)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00978">RexxMemory.cpp:978</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_af4aadcad43e9f834b801c52347d4e108"><div class="ttname"><a href="class_rexx_memory.html#af4aadcad43e9f834b801c52347d4e108">RexxMemory::markReason</a></div><div class="ttdeci">int markReason</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00302">RexxMemory.hpp:302</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_af8422ebe37c1a4a26348623b28c3fcc8"><div class="ttname"><a href="class_rexx_memory.html#af8422ebe37c1a4a26348623b28c3fcc8">RexxMemory::scavengeSegmentSets</a></div><div class="ttdeci">void scavengeSegmentSets(MemorySegmentSet *requester, size_t allocationLength)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l01313">RexxMemory.cpp:1313</a></div></div>
<div class="ttc" id="aclass_rexx_memory_html_afb90b21d50cdf18ce3e1cfd4bd3dfb31"><div class="ttname"><a href="class_rexx_memory.html#afb90b21d50cdf18ce3e1cfd4bd3dfb31">RexxMemory::logVerboseOutput</a></div><div class="ttdeci">void logVerboseOutput(const char *message, void *sub1, void *sub2)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8cpp_source.html#l00243">RexxMemory.cpp:243</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_class_html"><div class="ttname"><a href="class_rexx_mutable_buffer_class.html">RexxMutableBufferClass</a></div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00054">MutableBufferClass.hpp:54</a></div></div>
<div class="ttc" id="aclass_rexx_object_html"><div class="ttname"><a href="class_rexx_object.html">RexxObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00323">ObjectClass.hpp:323</a></div></div>
<div class="ttc" id="aclass_rexx_object_html_a26cfee95d421382e190bacbf4b903171"><div class="ttname"><a href="class_rexx_object.html#a26cfee95d421382e190bacbf4b903171">RexxObject::initializeNewObject</a></div><div class="ttdeci">void initializeNewObject(size_t size, size_t mark, void *vft, RexxBehaviour *b)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00352">ObjectClass.hpp:352</a></div></div>
<div class="ttc" id="aclass_rexx_object_html_a345bce4aed59a1207228d6d3fef20220"><div class="ttname"><a href="class_rexx_object.html#a345bce4aed59a1207228d6d3fef20220">RexxObject::live</a></div><div class="ttdeci">void live(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l00078">ObjectClass.cpp:78</a></div></div>
<div class="ttc" id="aclass_rexx_object_html_a97fdc2b0890a1d28107324c816c0a8aa"><div class="ttname"><a href="class_rexx_object.html#a97fdc2b0890a1d28107324c816c0a8aa">RexxObject::liveGeneral</a></div><div class="ttdeci">void liveGeneral(int reason)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l00086">ObjectClass.cpp:86</a></div></div>
<div class="ttc" id="aclass_rexx_object_html_ad53cd228b19e7ab23d63d92142994b18"><div class="ttname"><a href="class_rexx_object.html#ad53cd228b19e7ab23d63d92142994b18">RexxObject::truthValue</a></div><div class="ttdeci">bool truthValue(int)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l00473">ObjectClass.cpp:473</a></div></div>
<div class="ttc" id="aclass_rexx_object_html_ae01511afe6cf9c2a8ccd843411ae560d"><div class="ttname"><a href="class_rexx_object.html#ae01511afe6cf9c2a8ccd843411ae560d">RexxObject::id</a></div><div class="ttdeci">RexxString * id()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l02469">ObjectClass.cpp:2469</a></div></div>
<div class="ttc" id="aclass_rexx_object_html_ae1a080cc874c430c1353801fbcacc00f"><div class="ttname"><a href="class_rexx_object.html#ae1a080cc874c430c1353801fbcacc00f">RexxObject::classObject</a></div><div class="ttdeci">RexxClass * classObject()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l01630">ObjectClass.cpp:1630</a></div></div>
<div class="ttc" id="aclass_rexx_pointer_html"><div class="ttname"><a href="class_rexx_pointer.html">RexxPointer</a></div><div class="ttdef"><b>Definition:</b> <a href="_pointer_class_8hpp_source.html#l00049">PointerClass.hpp:50</a></div></div>
<div class="ttc" id="aclass_rexx_save_stack_html"><div class="ttname"><a href="class_rexx_save_stack.html">RexxSaveStack</a></div><div class="ttdef"><b>Definition:</b> <a href="_stack_class_8hpp_source.html#l00085">StackClass.hpp:85</a></div></div>
<div class="ttc" id="aclass_rexx_stack_html"><div class="ttname"><a href="class_rexx_stack.html">RexxStack</a></div><div class="ttdef"><b>Definition:</b> <a href="_stack_class_8hpp_source.html#l00047">StackClass.hpp:47</a></div></div>
<div class="ttc" id="aclass_rexx_stack_html_a21a835ce6e12fe4f163d5ac294a1b7e6"><div class="ttname"><a href="class_rexx_stack.html#a21a835ce6e12fe4f163d5ac294a1b7e6">RexxStack::init</a></div><div class="ttdeci">void init(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_stack_class_8cpp_source.html#l00060">StackClass.cpp:60</a></div></div>
<div class="ttc" id="aclass_rexx_stack_html_a296d478f2f17531bd94d5891b2d1afe8"><div class="ttname"><a href="class_rexx_stack.html#a296d478f2f17531bd94d5891b2d1afe8">RexxStack::copyEntries</a></div><div class="ttdeci">void copyEntries(RexxStack *other)</div><div class="ttdef"><b>Definition:</b> <a href="_stack_class_8hpp_source.html#l00078">StackClass.hpp:78</a></div></div>
<div class="ttc" id="aclass_rexx_stack_html_a8da3541a95f2e1ad833dd842e9fe82ed"><div class="ttname"><a href="class_rexx_stack.html#a8da3541a95f2e1ad833dd842e9fe82ed">RexxStack::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="_stack_class_8hpp_source.html#l00080">StackClass.hpp:80</a></div></div>
<div class="ttc" id="aclass_rexx_stack_html_a9c843a1cdb81ee0e15697ed52dfa8f96"><div class="ttname"><a href="class_rexx_stack.html#a9c843a1cdb81ee0e15697ed52dfa8f96">RexxStack::push</a></div><div class="ttdeci">RexxObject * push(RexxObject *obj)</div><div class="ttdef"><b>Definition:</b> <a href="_stack_class_8hpp_source.html#l00063">StackClass.hpp:63</a></div></div>
<div class="ttc" id="aclass_rexx_string_html"><div class="ttname"><a href="class_rexx_string.html">RexxString</a></div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00121">StringClass.hpp:121</a></div></div>
<div class="ttc" id="aclass_rexx_string_html_a415b63389bdcfb493cb97cb4cf9daa6e"><div class="ttname"><a href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">RexxString::getStringData</a></div><div class="ttdeci">const char * getStringData()</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00355">StringClass.hpp:355</a></div></div>
<div class="ttc" id="aclass_rexx_table_html_ab01119338965fb6ba726b3074a531046"><div class="ttname"><a href="class_rexx_table.html#ab01119338965fb6ba726b3074a531046">RexxTable::replace</a></div><div class="ttdeci">RexxObject * replace(RexxObject *newValue, HashLink pos)</div><div class="ttdef"><b>Definition:</b> <a href="_table_class_8hpp_source.html#l00062">TableClass.hpp:62</a></div></div>
<div class="ttc" id="aclass_rexx_text_html"><div class="ttname"><a href="class_rexx_text.html">RexxText</a></div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00626">StringClass.hpp:627</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_a62b965c0f5bac93b712ce2a91fe1ca6a"><div class="ttname"><a href="class_sys_file_system.html#a62b965c0f5bac93b712ce2a91fe1ca6a">SysFileSystem::getTempFileName</a></div><div class="ttdeci">static const char * getTempFileName()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l00171">unix/SysFileSystem.cpp:171</a></div></div>
<div class="ttc" id="aclass_sys_mutex_html"><div class="ttname"><a href="class_sys_mutex.html">SysMutex</a></div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_semaphore_8hpp_source.html#l00078">unix/SysSemaphore.hpp:78</a></div></div>
<div class="ttc" id="aclass_sys_mutex_html_a2ccac2bd5f877849c676647d61d2e878"><div class="ttname"><a href="class_sys_mutex.html#a2ccac2bd5f877849c676647d61d2e878">SysMutex::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_semaphore_8cpp_source.html#l00308">unix/SysSemaphore.cpp:308</a></div></div>
<div class="ttc" id="aclass_sys_mutex_html_a2d6d4c39a1f808d97f1cacffa59af6ff"><div class="ttname"><a href="class_sys_mutex.html#a2d6d4c39a1f808d97f1cacffa59af6ff">SysMutex::release</a></div><div class="ttdeci">void release(const char *ds, int di)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_semaphore_8hpp_source.html#l00098">unix/SysSemaphore.hpp:98</a></div></div>
<div class="ttc" id="aclass_sys_mutex_html_a941d03cafcbd85d7e7309ff59915a7be"><div class="ttname"><a href="class_sys_mutex.html#a941d03cafcbd85d7e7309ff59915a7be">SysMutex::requestImmediate</a></div><div class="ttdeci">bool requestImmediate(const char *ds, int di)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_semaphore_8hpp_source.html#l00110">unix/SysSemaphore.hpp:110</a></div></div>
<div class="ttc" id="aclass_sys_mutex_html_aadd47e255bc8b29dc1671283b60587c4"><div class="ttname"><a href="class_sys_mutex.html#aadd47e255bc8b29dc1671283b60587c4">SysMutex::create</a></div><div class="ttdeci">void create()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_semaphore_8cpp_source.html#l00259">unix/SysSemaphore.cpp:259</a></div></div>
<div class="ttc" id="aclass_sys_mutex_html_ad782f6720e30491d1b461700f1a1905e"><div class="ttname"><a href="class_sys_mutex.html#ad782f6720e30491d1b461700f1a1905e">SysMutex::request</a></div><div class="ttdeci">void request(const char *ds, int di)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_semaphore_8hpp_source.html#l00086">unix/SysSemaphore.hpp:86</a></div></div>
<div class="ttc" id="aclass_system_interpreter_html_a600b7fa9223eeb7809c64c8ab3e26153"><div class="ttname"><a href="class_system_interpreter.html#a600b7fa9223eeb7809c64c8ab3e26153">SystemInterpreter::liveGeneral</a></div><div class="ttdeci">static void liveGeneral(int reason)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_system_interpreter_8cpp_source.html#l00170">unix/SystemInterpreter.cpp:170</a></div></div>
<div class="ttc" id="aclass_system_interpreter_html_aad28955161a05fba1ea88a848b9d1aaa"><div class="ttname"><a href="class_system_interpreter.html#aad28955161a05fba1ea88a848b9d1aaa">SystemInterpreter::loadImage</a></div><div class="ttdeci">static void loadImage(char **imageBuffer, size_t *imageSize)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_file_system_8cpp_source.html#l00142">unix/FileSystem.cpp:142</a></div></div>
<div class="ttc" id="aclass_system_interpreter_html_af3bc44d9c58087b958391adeb80bd466"><div class="ttname"><a href="class_system_interpreter.html#af3bc44d9c58087b958391adeb80bd466">SystemInterpreter::live</a></div><div class="ttdeci">static void live(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_system_interpreter_8cpp_source.html#l00166">unix/SystemInterpreter.cpp:166</a></div></div>
<div class="ttc" id="aclass_uninit_dispatcher_html"><div class="ttname"><a href="class_uninit_dispatcher.html">UninitDispatcher</a></div><div class="ttdef"><b>Definition:</b> <a href="_uninit_dispatcher_8hpp_source.html#l00052">UninitDispatcher.hpp:53</a></div></div>
<div class="ttc" id="aclass_unsafe_block_html"><div class="ttname"><a href="class_unsafe_block.html">UnsafeBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8hpp_source.html#l00339">ActivityManager.hpp:340</a></div></div>
<div class="ttc" id="aclass_weak_reference_html"><div class="ttname"><a href="class_weak_reference.html">WeakReference</a></div><div class="ttdef"><b>Definition:</b> <a href="_weak_reference_class_8hpp_source.html#l00054">WeakReferenceClass.hpp:55</a></div></div>
<div class="ttc" id="aclass_weak_reference_html_a21dee94f9deb3bb61764e83b659b1e4a"><div class="ttname"><a href="class_weak_reference.html#a21dee94f9deb3bb61764e83b659b1e4a">WeakReference::referentObject</a></div><div class="ttdeci">RexxObject * referentObject</div><div class="ttdef"><b>Definition:</b> <a href="_weak_reference_class_8hpp_source.html#l00084">WeakReferenceClass.hpp:84</a></div></div>
<div class="ttc" id="aclass_weak_reference_html_ad060a698fef3109a072b89108d905798"><div class="ttname"><a href="class_weak_reference.html#ad060a698fef3109a072b89108d905798">WeakReference::nextReferenceList</a></div><div class="ttdeci">WeakReference * nextReferenceList</div><div class="ttdef"><b>Definition:</b> <a href="_weak_reference_class_8hpp_source.html#l00085">WeakReferenceClass.hpp:85</a></div></div>
<div class="ttc" id="acmdparse_8cpp_html_ac765329451135abec74c45e1897abf26"><div class="ttname"><a href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="cmdparse_8cpp_source.html#l00383">cmdparse.cpp:383</a></div></div>
<div class="ttc" id="arexx_8h_html_aa0199524ada35d939fa20d4625d27d55"><div class="ttname"><a href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a></div><div class="ttdeci">ssize_t wholenumber_t</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00230">rexx.h:230</a></div></div>
<div class="ttc" id="aunix_2_platform_definitions_8h_html_a57a6e9b5d94779fa257a279c949ae6cc"><div class="ttname"><a href="unix_2_platform_definitions_8h.html#a57a6e9b5d94779fa257a279c949ae6cc">BASEIMAGE</a></div><div class="ttdeci">#define BASEIMAGE</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_platform_definitions_8h_source.html#l00144">unix/PlatformDefinitions.h:144</a></div></div>
<div class="ttc" id="awindows_2rexxapitypes_8h_html_a2f338919cf0aa5c3d87df8096b8fa972"><div class="ttname"><a href="windows_2rexxapitypes_8h.html#a2f338919cf0aa5c3d87df8096b8fa972">uintptr_t</a></div><div class="ttdeci">UINT_PTR uintptr_t</div><div class="ttdef"><b>Definition:</b> <a href="windows_2rexxapitypes_8h_source.html#l00050">windows/rexxapitypes.h:50</a></div></div>
<div class="ttc" id="awindows_2rexxapitypes_8h_html_a32f2e37ee053cf2ce8ca28d1f74630e5"><div class="ttname"><a href="windows_2rexxapitypes_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="windows_2rexxapitypes_8h_source.html#l00072">windows/rexxapitypes.h:72</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b8d323c7289fed1299e6f1b6909d41b.html">oorexx</a></li><li class="navelem"><a class="el" href="dir_8b29bd360d363874c010699c0e4edfe4.html">executor</a></li><li class="navelem"><a class="el" href="dir_b12c9cdd073ecc75d378afe044a8807c.html">sandbox</a></li><li class="navelem"><a class="el" href="dir_6f8e204b311fad1e21be914fb6af8fc9.html">jlf</a></li><li class="navelem"><a class="el" href="dir_4796bfee7d29ff8f3ba63e631cf48035.html">trunk</a></li><li class="navelem"><a class="el" href="dir_568b253ddbf98cea92a6c65945d41c59.html">interpreter</a></li><li class="navelem"><a class="el" href="dir_910a6aafc9e52b85d7e58d06157539a0.html">memory</a></li><li class="navelem"><a class="el" href="_rexx_memory_8cpp.html">RexxMemory.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<!-- javascript code to insert the title in the condensed index (tabs) -->
<!-- See the function initMenu in menu.js:
     The condensed index is a list <ul> of several items <li>: Main Page, Classes, Files.
     I append a new item <li> which display the project name. -->
<script type="text/javascript">
$(function() {
  $('#main-menu').append('<li class="title" style="margin-left:3mm">executor.master</li>')
});
</script>
<!-- end of javascript code -->
</body>
</html>
