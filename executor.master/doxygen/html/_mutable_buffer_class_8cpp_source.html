<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>executor.master: MutableBufferClass.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!--
    Removed completely the TITLEAREA because I don't like the loss of space.
    I want the title in the condensed index (tabs) at top of each HTML page.
    The insertion of the title is managed by javascript code in the footer,
    because this code must be executed AFTER the creation of the condensed index.
    Must have this setting to display the condensed index:
    DISABLE_INDEX = NO
-->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_mutable_buffer_class_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MutableBufferClass.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_mutable_buffer_class_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* Copyright (c) 1995, 2004 IBM Corporation. All rights reserved.             */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/* Copyright (c) 2005-2009 Rexx Language Association. All rights reserved.    */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/* This program and the accompanying materials are made available under       */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/* the terms of the Common Public License v1.0 which accompanies this         */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/* distribution. A copy is also available at the following address:           */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/* http://www.oorexx.org/license.html                          */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/* Redistribution and use in source and binary forms, with or                 */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* without modification, are permitted provided that the following            */</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/* conditions are met:                                                        */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/* Redistributions of source code must retain the above copyright             */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer.              */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* Redistributions in binary form must reproduce the above copyright          */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer in            */</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/* the documentation and/or other materials provided with the distribution.   */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/* Neither the name of Rexx Language Association nor the names                */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* of its contributors may be used to endorse or promote products             */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/* derived from this software without specific prior written permission.      */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS        */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT          */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS          */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/* FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT   */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,      */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED   */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/* TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,        */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY     */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING    */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS         */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.               */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/* REXX Kernel                                                                */</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/* Primitive MutableBuffer Class                                              */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_core_8h.html">RexxCore.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_string_class_8hpp.html">StringClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_mutable_buffer_class_8hpp.html">MutableBufferClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_protected_object_8hpp.html">ProtectedObject.hpp</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_string_util_8hpp.html">StringUtil.hpp</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// singleton class instance</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<a class="code" href="class_rexx_class.html">RexxClass</a> *<a class="code" href="class_rexx_mutable_buffer.html#ac6478046e1611c7eadb8110df9f7d79d">RexxMutableBuffer::classInstance</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> * Create initial class object at bootstrap time.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a5972fc7e09b5222ac5709f5d1d0eecc3">   63</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_mutable_buffer.html#a5972fc7e09b5222ac5709f5d1d0eecc3">RexxMutableBuffer::createInstance</a>()</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#aba2cafd4a6d850f4e6c9e52313daf88c">CLASS_CREATE</a>(MutableBuffer, <span class="stringliteral">&quot;MutableBuffer&quot;</span>, <a class="code" href="class_rexx_class.html">RexxClass</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="_mutable_buffer_class_8cpp.html#a4b4dd47f6f610b079af40c4b0f6874a4">   69</a></span>&#160;<span class="preprocessor">#define DEFAULT_BUFFER_LENGTH 256</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer_class.html#a5e7ad0e780cdf687882017aa390a229f">   72</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer_class.html#a5e7ad0e780cdf687882017aa390a229f">RexxMutableBufferClass::newRexx</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> **args, <span class="keywordtype">size_t</span> argc, <span class="keywordtype">size_t</span> named_argc)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">/* Function:  Allocate (and initialize) a string object                       */</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// this method is defined on the object class, but this is actually attached</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// to a class object instance.  Therefore, any use of the this pointer</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// will be touching the wrong data.  Use the classThis pointer for calling</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// any methods on this object from this method.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="class_rexx_class.html">RexxClass</a> *classThis = (<a class="code" href="class_rexx_class.html">RexxClass</a> *)<span class="keyword">this</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    classThis-&gt;<a class="code" href="class_rexx_class.html#a5307b434d0752d5e5712d6201cb88bcf">checkAbstract</a>(); <span class="comment">// ooRexx5</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="class_rexx_string.html">RexxString</a>        *string;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *newBuffer;         <span class="comment">/* new mutable buffer object         */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">size_t</span>            bufferLength = <a class="code" href="_mutable_buffer_class_8cpp.html#a4b4dd47f6f610b079af40c4b0f6874a4">DEFAULT_BUFFER_LENGTH</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">size_t</span>            defaultSize;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span> (argc &gt;= 1)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span> (args[0] != NULL)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="comment">/* force argument to string value    */</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="keywordtype">string</span> = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(args[0], OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordtype">string</span> = OREF_NULLSTRING;           <span class="comment">/* default to empty content          */</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">else</span>                                      <span class="comment">/* minimum buffer size given?        */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordtype">string</span> = OREF_NULLSTRING;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p_string(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (argc &gt;= 2)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        bufferLength = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(args[1], <a class="code" href="_mutable_buffer_class_8cpp.html#a4b4dd47f6f610b079af40c4b0f6874a4">DEFAULT_BUFFER_LENGTH</a>, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    defaultSize = bufferLength;           <span class="comment">/* remember initial default size     */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                          <span class="comment">/* input string longer than demanded */</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                          <span class="comment">/* minimum size? expand accordingly  */</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>() &gt; bufferLength)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        bufferLength = <span class="keywordtype">string</span>-&gt;getLength();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">/* allocate the new object           */</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    newBuffer = <span class="keyword">new</span> (classThis) <a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a>(bufferLength, defaultSize);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    newBuffer-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>());</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">/* copy the content                  */</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    newBuffer-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(0, string-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>(), <span class="keywordtype">string</span>-&gt;getLength());</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p_newBuffer(newBuffer);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">// Next line is non-sense. What is this manipulation of argc without adjusting args?</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    newBuffer-&gt;<a class="code" href="class_rexx_object.html#a923d3513dca2e99c1f2341b25a210551">sendMessage</a>(OREF_INIT, args, argc &gt; 2 ? argc - 2 : 0, named_argc);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// Anyway I need to pass args[0] to init, so it&#39;s out of question to drop some args!</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// If I fix it by passing argc unchanged, I get another problem:</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// Object::initRexx takes ZERO arguments and will raise an error if argc &gt; 0.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// So no choice: I must send a message that is currently not supported.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// I keep the previous sendMessage &quot;INIT&quot; to remain aligned with official ooRexx (yes, same bug).</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// For sending the new message, I use the technique used for the alternative operators:</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// Try to send the message and don&#39;t complain if not understood.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> result;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    newBuffer-&gt;<a class="code" href="class_rexx_object.html#aa391a7ab1ef09e457d4df307df372d11">messageSend</a>(OREF_INIT_EXTENDED, args, argc, named_argc, result, <span class="comment">/*processUnknown*/</span> <span class="keyword">false</span>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> newBuffer;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"> * Default constructor.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a7ad8181e76755aeb96c161bd26512beb">  147</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html#a7ad8181e76755aeb96c161bd26512beb">RexxMutableBuffer::RexxMutableBuffer</a>()</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a> = <a class="code" href="_mutable_buffer_class_8cpp.html#a4b4dd47f6f610b079af40c4b0f6874a4">DEFAULT_BUFFER_LENGTH</a>;   <span class="comment">/* save the length of the buffer    */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#a1be0d5df6a8a351427ab635324691a1f">defaultSize</a>  = <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>;            <span class="comment">/* store the default buffer size    */</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// NB:  we clear this before we allocate the new buffer because allocating the</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment">// new buffer might trigger a garbage collection, causing us to mark bogus</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// reference.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a> = <a class="code" href="_buffer_class_8hpp.html#a4f06f6b50be63ac642946aede80c5a58">new_buffer</a>(<a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>-&gt;<a class="code" href="class_rexx_buffer_base.html#a59a841e9feadf958c48320e5c9bfc82b">setDataLength</a>(0); <span class="comment">// strange to have dataLength equal to bufferSize by default... I assign 0 instead.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> = 0;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"> * Constructor with explicitly set size and default.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"> * @param l      Initial length.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"> * @param d      The explicit default size.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ab6e6749e2ecc615fdea941f3c8e8189f">  167</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html#a7ad8181e76755aeb96c161bd26512beb">RexxMutableBuffer::RexxMutableBuffer</a>(<span class="keywordtype">size_t</span> l, <span class="keywordtype">size_t</span> d)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a> = l;               <span class="comment">/* save the length of the buffer    */</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#a1be0d5df6a8a351427ab635324691a1f">defaultSize</a>  = d;               <span class="comment">/* store the default buffer size    */</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// NB: As in the default constructor, we clear this before we allocate the</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// new buffer in case garbage collection is triggered.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a> = <a class="code" href="_buffer_class_8hpp.html#a4f06f6b50be63ac642946aede80c5a58">new_buffer</a>(<a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(0);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment"> * Create a new mutable buffer object from a potential subclass.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"> * @param size   The size of the buffer object.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"> * @return A new instance of a mutable buffer, with the default class</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"> *         behaviour.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a5a87f82d49b1b43a0416d7b75bc7900f">  187</a></span>&#160;<span class="keywordtype">void</span> *RexxMutableBuffer::operator <span class="keyword">new</span>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_memory_8hpp.html#a44c6760e82c805ec69688a682fb2d9da">new_object</a>(size, <a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a2b81177d09ebfd69f753da8bedef8fb4">T_MutableBuffer</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> * Create a new mutable buffer object from a potential subclass.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"> * @param size   The size of the buffer object.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> * @param bufferClass</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"> *               The class of the buffer object.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"> * @return A new instance of a mutable buffer, with the target class</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"> *         behaviour.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ae862d8a14f45b361445949dffa963ee8">  202</a></span>&#160;<span class="keywordtype">void</span> *RexxMutableBuffer::operator <span class="keyword">new</span>(<span class="keywordtype">size_t</span> size, <a class="code" href="class_rexx_class.html">RexxClass</a> *bufferClass)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> * newObj = <a class="code" href="_rexx_memory_8hpp.html#a44c6760e82c805ec69688a682fb2d9da">new_object</a>(size, <a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a2b81177d09ebfd69f753da8bedef8fb4">T_MutableBuffer</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    newObj-&gt;<a class="code" href="class_rexx_internal_object.html#a154bb75847091becfebd0c3259a1a92c">setBehaviour</a>(bufferClass-&gt;getInstanceBehaviour());</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> newObj;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aaeac60c880f578821c15a74fa76dcfa6">  210</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_mutable_buffer.html#aaeac60c880f578821c15a74fa76dcfa6">RexxMutableBuffer::live</a>(<span class="keywordtype">size_t</span> liveMark)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">/* Function:  Normal garbage collection live marking                          */</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(this-&gt;objectVariables);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a49e8adb4c0fca53b17088aefad3dc13a">  219</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_mutable_buffer.html#a49e8adb4c0fca53b17088aefad3dc13a">RexxMutableBuffer::liveGeneral</a>(<span class="keywordtype">int</span> reason)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">/* Function:  Generalized object marking                                      */</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(this-&gt;objectVariables);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a5c0074e17b3f7f36b698261a6f55daf4">  229</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_mutable_buffer.html#a5c0074e17b3f7f36b698261a6f55daf4">RexxMutableBuffer::flatten</a>(<a class="code" href="class_rexx_envelope.html">RexxEnvelope</a> *envelope)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">/* Function:  Flatten a mutable buffer                                        */</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#af339a57b7eca39790add6e6d712c2e95">setUpFlatten</a>(<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a>)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#a45f80ba16f04f487ccbdad6fe84602ed">flatten_reference</a>(newThis-&gt;data, envelope);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#a45f80ba16f04f487ccbdad6fe84602ed">flatten_reference</a>(newThis-&gt;objectVariables, envelope);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <a class="code" href="_rexx_memory_8hpp.html#ae08cb30e42b8369ad75710ff7defa70d">cleanUpFlatten</a></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aadc9c9bbff8a57c101d5877e6993b945">  242</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_mutable_buffer.html#aadc9c9bbff8a57c101d5877e6993b945">RexxMutableBuffer::copy</a>()</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">/* Function:  copy an object                                                  */</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *newObj = (<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *)this-&gt;<a class="code" href="class_rexx_internal_object.html#a721ec593555b3a0fbfc77945b462a147">clone</a>();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                           <span class="comment">/* see the comments in ::newRexx()!! */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    newObj-&gt;<a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a> = <a class="code" href="_buffer_class_8hpp.html#a4f06f6b50be63ac642946aede80c5a58">new_buffer</a>(<a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    newObj-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    newObj-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(0, <a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>-&gt;<a class="code" href="class_rexx_buffer.html#a509aff24d9b4e280f35b0beede789e6b">getData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    newObj-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a1be0d5df6a8a351427ab635324691a1f">defaultSize</a> = this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a1be0d5df6a8a351427ab635324691a1f">defaultSize</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    newObj-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a> = this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> newObj;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">  261</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">RexxMutableBuffer::ensureCapacity</a>(<span class="keywordtype">size_t</span> addedLength)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">/* Function:  append to the mutable buffer                                    */</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordtype">size_t</span> resultLength = this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> + addedLength;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (resultLength &gt; <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    {   <span class="comment">/* need to enlarge?                  */</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a> *= 2;                   <span class="comment">/* double the buffer                 */</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a> &lt; resultLength)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        {   <span class="comment">/* still too small? use new length   */</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a> = resultLength;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="class_rexx_buffer.html">RexxBuffer</a> *newBuffer = <a class="code" href="_buffer_class_8hpp.html#a4f06f6b50be63ac642946aede80c5a58">new_buffer</a>(<a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">// copy the data into the new buffer</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        newBuffer-&gt;<a class="code" href="class_rexx_buffer_base.html#a7ae83283dd07c9711f3481512ce08515">copyData</a>(0, <a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>-&gt;<a class="code" href="class_rexx_buffer.html#a509aff24d9b4e280f35b0beede789e6b">getData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        newBuffer-&gt;<a class="code" href="class_rexx_buffer_base.html#a59a841e9feadf958c48320e5c9bfc82b">setDataLength</a>(<a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>-&gt;<a class="code" href="class_rexx_buffer_base.html#a82d626d98d1430bca4202143e1cb5cc3">getDataLength</a>());</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">// replace the old data buffer</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="_rexx_core_8h.html#a6891a93610348b439dd2f121a8b6b02d">OrefSet</a>(<span class="keyword">this</span>, this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>, newBuffer);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"> * Set the length of the data in the buffer.  The limit is</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"> * the current capacity of the buffer.  If the length is</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"> * extended beyond the current length, the extra characters</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"> * of the buffer will be filled with nulls.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"> * @param newLength The new datalength.  This is capped to the capacity of</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment"> *                  the buffer.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"> * @return The actual length the data has been set to.  If the</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"> *         target length is greater than the capacity, the capacity</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"> *         value is returned.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a96dd4052a26561623923ed3d843e3370">  299</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="class_rexx_mutable_buffer.html#a96dd4052a26561623923ed3d843e3370">RexxMutableBuffer::setDataLength</a>(<span class="keywordtype">size_t</span> newLength)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;{</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// cap the data length at the capacity</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordtype">size_t</span> capacity = this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a283c1f39157f0d83376cc35f350e8f44">getCapacity</a>();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (newLength &gt; capacity)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        newLength = capacity;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">size_t</span> oldLength = this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// set the new buffer length</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> = newLength;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// do we need to pad?</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (newLength &gt; oldLength)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(oldLength, <span class="charliteral">&#39;\0&#39;</span>, newLength - oldLength);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">// The buffer has been truncated</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="comment">// If the buffer before truncation was not ASCII, maybe the shorter buffer is ASCII</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>()) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a943fb472b01c90f177459f2784d2c0b6">setIsASCIIChecked</a>(<span class="keyword">false</span>); <span class="comment">// check again</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">return</span> newLength;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"> * Set the capacity of the buffer.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> * @param newLength The new buffer length</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> * @return The pointer to the data area in the buffer.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#acd7d96e5a2642b76d6e88bc960f46abf">  333</a></span>&#160;<span class="keywordtype">char</span> *<a class="code" href="class_rexx_mutable_buffer.html#acd7d96e5a2642b76d6e88bc960f46abf">RexxMutableBuffer::setCapacity</a>(<span class="keywordtype">size_t</span> newLength)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;{</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// if the new length is longer than our current,</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// extend by the delta</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (newLength &gt; <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(newLength - <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// return a pointer to the current buffer data</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_rexx_mutable_buffer.html#abad8a33fb4e53f531727d9df9e0fbbd9">getData</a>();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> * Return the length of the data in the buffer currently.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"> * @return The current length, as an Integer object.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ab21d864a4fde02c4279e1bf89a7eed7e">  352</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_mutable_buffer.html#ab21d864a4fde02c4279e1bf89a7eed7e">RexxMutableBuffer::lengthRexx</a>()</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(<a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>());</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a469182dd6ac51ddfcc50266f8b44dee6">  358</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_rexx_mutable_buffer.html#a469182dd6ac51ddfcc50266f8b44dee6">RexxMutableBuffer::checkIsASCII</a>()</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a547d8ef734852ecdd02847329a4910de">isASCIIChecked</a>()) <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a> = <a class="code" href="class_string_util.html#a40087f5538fc770d738dcf01a9496d73">StringUtil::checkIsASCII</a>(this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>());</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(isASCII);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a943fb472b01c90f177459f2784d2c0b6">setIsASCIIChecked</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">// In behaviour</span></div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a05c8d0a63b69b0bb09fa062a13a838e6">  368</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#a05c8d0a63b69b0bb09fa062a13a838e6">RexxMutableBuffer::isASCIIRexx</a>()</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a469182dd6ac51ddfcc50266f8b44dee6">checkIsASCII</a>() ? <a class="code" href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a> : <a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a6ec852595502763b26cea75dd4129922">  375</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#a6ec852595502763b26cea75dd4129922">RexxMutableBuffer::append</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *obj)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">/* Function:  append to the mutable buffer                                    */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;{</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="class_rexx_string.html">RexxString</a> *<span class="keywordtype">string</span> = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(obj, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// make sure we have enough room</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>());</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>, string-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>(), string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>());</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> + string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>());</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span> (!string-&gt;<a class="code" href="class_rexx_string.html#a1edacb3c569e1fdaee61cc67c88f5007">checkIsASCII</a>()) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a1fcc0633d9b66c4fed7525e79112d910">  396</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#a1fcc0633d9b66c4fed7525e79112d910">RexxMutableBuffer::appendCstring</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *_data, <span class="keywordtype">size_t</span> blength)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">/* Function:  append to the mutable buffer                                    */</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;{</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">// make sure we have enough room</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(blength);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>-&gt;<a class="code" href="class_rexx_buffer_base.html#a7ae83283dd07c9711f3481512ce08515">copyData</a>(<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>, _data, blength);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> + blength);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordtype">bool</span> _dataIsASCII = <a class="code" href="class_string_util.html#a40087f5538fc770d738dcf01a9496d73">StringUtil::checkIsASCII</a>(_data, blength);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">if</span> (!_dataIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aff428e1357f8d6fadca2517e3cf49993">  417</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#aff428e1357f8d6fadca2517e3cf49993">RexxMutableBuffer::insert</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *str, <a class="code" href="class_rexx_object.html">RexxObject</a> *pos, <a class="code" href="class_rexx_object.html">RexxObject</a> *len, <a class="code" href="class_rexx_object.html">RexxObject</a> *pad)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">/* Function:  insert string at given position                                 */</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// force this into string form</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="class_rexx_string.html">RexxString</a> * <span class="keywordtype">string</span> = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(str, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// we&#39;re using optional length because 0 is valid for insert.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">size_t</span> begin = <a class="code" href="_rexx_core_8h.html#a8e5a8afee36d288749ecd95ca5709003">optionalNonNegative</a>(pos, 0, OREF_positional, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordtype">size_t</span> insertLength = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(len, string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>(), <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="rexx_8h.html#a65b60b72458a1b750671d8a23c424dd0">codepoint_t</a> padChar = <a class="code" href="_rexx_core_8h.html#a1174c27be62d7fb604dc8da41da45c52">optionalPadArgument</a>(pad, <span class="charliteral">&#39; &#39;</span>, <a class="code" href="_rexx_core_8h.html#a3527a3079ee71e7bc3b8636f13711351">ARG_FOUR</a>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordtype">bool</span> padInserted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordtype">bool</span> padIsASCII = ((padChar &amp; 0x80) == 0);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordtype">size_t</span> copyLength = <a class="code" href="class_numerics.html#aac02fbb41b0935849e10b1b2ff0f3268">Numerics::minVal</a>(insertLength, string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>());</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordtype">size_t</span> padLength = insertLength - copyLength;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// if inserting within the current bounds, we only need to add the length</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// if inserting beyond the end, we need to make sure we add space for the gap too</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">if</span> (begin &lt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="comment">// if inserting a zero length string, this is simple!</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">if</span> (insertLength == 0)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">this</span>;                            <span class="comment">/* do nothing                   */</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(insertLength);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(insertLength + (begin - <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>));</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">/* create space in the buffer   */</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (begin &lt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a3133d12548551861128222304584b607">openGap</a>(begin, insertLength, <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> - begin);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (begin &gt; this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="comment">/* pad before insertion         */</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>, padChar, begin - <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        padInserted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="comment">/* insert string contents       */</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(begin, string-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>(), copyLength);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// do we need data padding?</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (padLength &gt; 0)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(begin + string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>(), padChar, padLength);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        padInserted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// inserting after the end? the resulting length is measured from the insertion point</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (begin &gt; this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(begin + insertLength);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="comment">// just add in the inserted length</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> + insertLength);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">if</span> (padInserted)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="keywordflow">if</span> (!padIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordtype">bool</span> stringIsASCII = <span class="keywordtype">string</span>-&gt;checkIsASCII();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">if</span> (!stringIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#acad57c2b7866b030b497b4d4ccee63a8">  503</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#acad57c2b7866b030b497b4d4ccee63a8">RexxMutableBuffer::overlay</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *str, <a class="code" href="class_rexx_object.html">RexxObject</a> *pos, <a class="code" href="class_rexx_object.html">RexxObject</a> *len, <a class="code" href="class_rexx_object.html">RexxObject</a> *pad)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">/* Function:  replace characters in buffer contents                           */</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;{</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="class_rexx_string.html">RexxString</a> *<span class="keywordtype">string</span> = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(str, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordtype">size_t</span> begin = <a class="code" href="_rexx_core_8h.html#ab021078f301aa1c1c2eb58460ee2392e">optionalPositionArgument</a>(pos, 1, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>) - 1;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordtype">size_t</span> replaceLength = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(len, string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>(), <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="rexx_8h.html#a65b60b72458a1b750671d8a23c424dd0">codepoint_t</a> padChar = <a class="code" href="_rexx_core_8h.html#a1174c27be62d7fb604dc8da41da45c52">optionalPadArgument</a>(pad, <span class="charliteral">&#39; &#39;</span>, <a class="code" href="_rexx_core_8h.html#a3527a3079ee71e7bc3b8636f13711351">ARG_FOUR</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordtype">bool</span> padInserted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordtype">bool</span> padIsASCII = ((padChar &amp; 0x80) == 0);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// make sure we have room for this</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(begin + replaceLength);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">// is our start position beyond the current data end?</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (begin &gt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">// add padding to the gap</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>, padChar, begin - <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        padInserted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">// now overlay the string data</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(begin, string-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>(), <a class="code" href="class_numerics.html#aac02fbb41b0935849e10b1b2ff0f3268">Numerics::minVal</a>(replaceLength, string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>()));</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// do we need additional padding?</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (replaceLength &gt; string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>())</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="comment">// pad the section after the overlay</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(begin + string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>(), padChar, replaceLength - string-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>());</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        padInserted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment">// did this add to the size?</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span> (begin + replaceLength &gt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="comment">//adjust upward</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(begin + replaceLength);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">if</span> (padInserted)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            <span class="keywordflow">if</span> (!padIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordtype">bool</span> stringIsASCII = <span class="keywordtype">string</span>-&gt;checkIsASCII();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">if</span> (!stringIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> * Replace a target substring within a string with</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> * a new string value.  This is similar overlay, but</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> * replacing might cause the characters following the</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"> * replacement position to be shifted to the left or</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"> * right.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment"> * @param str    The replacement string.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"> * @param pos    The target position (required).</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment"> * @param len    The target length (optional).  If not specified, the</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment"> *               length of the replacement string is used, and this</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"> *               is essentially an overlay operation.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment"> * @param pad    A padding character if padding is required.  The default</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"> *               pad is a &#39; &#39;.  Padding only occurs if the replacement</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment"> *               position is beyond the current data length.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"> * @return The target mutablebuffer object.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ad2c6bf2d25a96601085afb8e31c0e2be">  582</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#ad2c6bf2d25a96601085afb8e31c0e2be">RexxMutableBuffer::replaceAt</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *str, <a class="code" href="class_rexx_object.html">RexxObject</a> *pos, <a class="code" href="class_rexx_object.html">RexxObject</a> *len, <a class="code" href="class_rexx_object.html">RexxObject</a> *pad)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;{</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="class_rexx_string.html">RexxString</a> *<span class="keywordtype">string</span> = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(str, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordtype">size_t</span> begin = <a class="code" href="_string_class_util_8cpp.html#a5a0f27206f3de8d9d4a77f123887a9e6">positionArgument</a>(pos, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>) - 1;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordtype">size_t</span> newLength = <span class="keywordtype">string</span>-&gt;getLength();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordtype">size_t</span> replaceLength = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(len, newLength, <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <a class="code" href="rexx_8h.html#a65b60b72458a1b750671d8a23c424dd0">codepoint_t</a> padChar = <a class="code" href="_rexx_core_8h.html#a1174c27be62d7fb604dc8da41da45c52">optionalPadArgument</a>(pad, <span class="charliteral">&#39; &#39;</span>, <a class="code" href="_rexx_core_8h.html#a3527a3079ee71e7bc3b8636f13711351">ARG_FOUR</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordtype">bool</span> padInserted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordtype">bool</span> padIsASCII = ((padChar &amp; 0x80) == 0);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordtype">size_t</span> finalLength;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">// if replaceLength extends beyond the end of the string</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="comment">//    then we cut it.</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (begin &gt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;       replaceLength = 0;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (begin + replaceLength &gt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;       replaceLength = <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> - begin;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="comment">// We need to add the delta between the excised string and the inserted</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// replacement string.</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// If this extends beyond the end of the string, then we require space for</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">// the position + the replacement string length.  Else we find the required</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// size (may be smaller than before)</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">if</span> (begin &gt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        finalLength = begin - replaceLength + newLength;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        finalLength = <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> - replaceLength + newLength;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// make sure we have room for this</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(finalLength);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">// is our start position beyond the current data end?</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">// NB: Even though we&#39;ve adjusted the buffer size, the dataLength is still</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="comment">// the original entry length.</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">if</span> (begin &gt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="comment">// add padding to the gap</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>, padChar, begin - <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        padInserted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment">// now overlay the string data</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(begin, string-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>(), newLength);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="comment">// if the strings are of different lengths, we need to adjust the size</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="comment">// of the gap we&#39;re copying into.  Only adjust if there is a real gap</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">if</span> (replaceLength != newLength &amp;&amp; begin + replaceLength &lt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="comment">// snip out the original string</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#ab119a3c727dc9c1c0ef10014086f8ee3">adjustGap</a>(begin, replaceLength, newLength);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="comment">// now overlay the string data</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(begin, string-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>(), newLength);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// and finally adjust the length</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(finalLength);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// our return value is always the target mutable buffer</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">if</span> (padInserted)</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="keywordflow">if</span> (!padIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        }</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordtype">bool</span> stringIsASCII = <span class="keywordtype">string</span>-&gt;checkIsASCII();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">if</span> (!stringIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a3e1e08ade6c844632265ddcf2aeb57fa">  671</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#a3e1e08ade6c844632265ddcf2aeb57fa">RexxMutableBuffer::mydelete</a>(<a class="code" href="class_rexx_object.html">RexxObject</a> *_start, <a class="code" href="class_rexx_object.html">RexxObject</a> *len)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">/* Function:  delete character range in buffer                                */</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordtype">size_t</span> begin = <a class="code" href="_string_class_util_8cpp.html#a5a0f27206f3de8d9d4a77f123887a9e6">positionArgument</a>(_start, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>) - 1;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordtype">size_t</span> range = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(len, <span class="comment">/*this-&gt;data-&gt;getDataLength()*/</span> this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> - begin, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="comment">// is the begin point actually within the string?</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> (begin &lt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    {           <span class="comment">/* got some work to do?         */</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="comment">// deleting from the middle?</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <span class="keywordflow">if</span> (begin + range &lt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>)</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="comment">// shift everything over</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#a22a64dac2ae61208f5fbb4441b5b1006">closeGap</a>(begin, range, <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> - (begin + range));</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> - range);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <span class="comment">// we&#39;re just truncating</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(begin);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">// The buffer has been truncated</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="comment">// If the buffer before truncation was not ASCII, maybe the shorter buffer is ASCII</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>()) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a943fb472b01c90f177459f2784d2c0b6">setIsASCIIChecked</a>(<span class="keyword">false</span>); <span class="comment">// check again</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aabc60d1b350a12607240c9cb3f0240f8">  704</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_mutable_buffer.html#aabc60d1b350a12607240c9cb3f0240f8">RexxMutableBuffer::setBufferLength</a>(<span class="keywordtype">size_t</span> newsize)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">/* Function:  set the size of the buffer                                      */</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordtype">bool</span> truncated = (newsize &lt; <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// has a reset to zero been requested?</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (newsize == 0)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="comment">// have we increased the buffer size?</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a> &gt; <a class="code" href="class_rexx_mutable_buffer.html#a1be0d5df6a8a351427ab635324691a1f">defaultSize</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="comment">// reallocate the buffer</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <a class="code" href="_rexx_core_8h.html#a6891a93610348b439dd2f121a8b6b02d">OrefSet</a>(<span class="keyword">this</span>, this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>, <a class="code" href="_buffer_class_8hpp.html#a4f06f6b50be63ac642946aede80c5a58">new_buffer</a>(<a class="code" href="class_rexx_mutable_buffer.html#a1be0d5df6a8a351427ab635324691a1f">defaultSize</a>));</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="comment">// reset the size to the default</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a> = <a class="code" href="class_rexx_mutable_buffer.html#a1be0d5df6a8a351427ab635324691a1f">defaultSize</a>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(0);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="comment">// an actual resize?</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (newsize != <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a>)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="comment">// reallocate the buffer</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <a class="code" href="class_rexx_buffer.html">RexxBuffer</a> *newBuffer = <a class="code" href="_buffer_class_8hpp.html#a4f06f6b50be63ac642946aede80c5a58">new_buffer</a>(newsize);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="comment">// if we&#39;re shrinking this, it truncates.</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(<a class="code" href="class_numerics.html#aac02fbb41b0935849e10b1b2ff0f3268">Numerics::minVal</a>(<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>, newsize));</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        newBuffer-&gt;<a class="code" href="class_rexx_buffer_base.html#a7ae83283dd07c9711f3481512ce08515">copyData</a>(0, <a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>-&gt;<a class="code" href="class_rexx_buffer.html#a509aff24d9b4e280f35b0beede789e6b">getData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="comment">// replace the old buffer</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <a class="code" href="_rexx_core_8h.html#a6891a93610348b439dd2f121a8b6b02d">OrefSet</a>(<span class="keyword">this</span>, this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>, newBuffer);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="comment">// and update the size....</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">bufferLength</a> = newsize;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> (truncated)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="comment">// If the buffer before truncation was not ASCII, maybe the shorter buffer is ASCII</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>()) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a943fb472b01c90f177459f2784d2c0b6">setIsASCIIChecked</a>(<span class="keyword">false</span>); <span class="comment">// check again</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ac5fd640052ada0108eebf00c89888c1b">  746</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_rexx_mutable_buffer.html#ac5fd640052ada0108eebf00c89888c1b">RexxMutableBuffer::setBufferSize</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *size)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">/* Function:  set the size of the buffer                                      */</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;{</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordtype">size_t</span> newsize = <a class="code" href="_string_class_util_8cpp.html#ad99e836b5f9f0de0b542646ec874b26d">lengthArgument</a>(size, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aabc60d1b350a12607240c9cb3f0240f8">setBufferLength</a>(newsize);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;}</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ab08ef7c1aee41dfd915273f440134b63">  756</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_rexx_mutable_buffer.html#ab08ef7c1aee41dfd915273f440134b63">RexxMutableBuffer::makeString</a>()</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">/* Function:  Handle a REQUEST(&#39;STRING&#39;) request for a mutablebuffer object   */</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;{</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_string_class_8hpp.html#a540f85fd2f7445d342f05f6c8545e60a">new_string</a>(this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">data</a>-&gt;<a class="code" href="class_rexx_buffer.html#a509aff24d9b4e280f35b0beede789e6b">getData</a>(), this-&gt;dataLength);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment"> * Baseclass optimization for handling request array calls.</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment"> * @return The string object converted to an array using default arguments.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00769"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aba3da18db57be5e33ff02e89400de63c">  769</a></span>&#160;<a class="code" href="class_rexx_array.html">RexxArray</a>  *<a class="code" href="class_rexx_mutable_buffer.html#aba3da18db57be5e33ff02e89400de63c">RexxMutableBuffer::makeArray</a>()</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;{</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// forward to the Rexx version with default arguments</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_rexx_object.html#af191cb62a4a48edd91c62e1cdd5a9e83">makeArrayRexx</a>(<a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;}</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment"> * Handle the primitive class makeString optimization.  This</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment"> * is required because MutableBuffer implements a</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment"> * STRING method.</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment"> * @return The string value of the buffer</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ae6fa43ad1760dd35f428b9888d421e68">  782</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_rexx_mutable_buffer.html#ae6fa43ad1760dd35f428b9888d421e68">RexxMutableBuffer::primitiveMakeString</a>()</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;{</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// go straight to the string handler</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#ab08ef7c1aee41dfd915273f440134b63">makeString</a>();</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;}</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">/* Arguments:  String position for substr                                     */</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">/*             requested length of new string                                 */</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">/*             pad character to use, if necessary                             */</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">/*  Returned:  string, sub string of original.                                */</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#af82c719fa8081378f90ca300034ea0b0">  797</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_rexx_mutable_buffer.html#af82c719fa8081378f90ca300034ea0b0">RexxMutableBuffer::substr</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *argposition,</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                      <a class="code" href="class_rexx_integer.html">RexxInteger</a> *arglength,</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                      <a class="code" href="class_rexx_string.html">RexxString</a>  *pad)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;{</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#ae3e80b266802c9a86a874811db463954">StringUtil::substr</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), argposition, arglength, pad);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment"> * Perform a search for a string within the buffer.</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment"> * @param needle The search needle.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment"> * @param pstart the starting position.</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment"> * @return The index of the located string.  Returns 0 if no matches</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment"> *         are found.</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a74c1ef6290ec50e4f37fbbb2ff6a75c5">  815</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#a74c1ef6290ec50e4f37fbbb2ff6a75c5">RexxMutableBuffer::posRexx</a>(<a class="code" href="class_rexx_string.html">RexxString</a>  *needle, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *pstart, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *range)</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;{</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#af9604e4155aff50c4339629ec7222b3d">StringUtil::posRexx</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), needle, pstart, range);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"> * Perform a search for the last position of a string within the</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment"> * buffer.</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"> * @param needle The search needle.</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"> * @param pstart the starting position.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"> * @return The index of the located string.  Returns 0 if no matches</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> *         are found.</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ac86c2b3b9c85b512cb7dbd61935d40b5">  832</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#ac86c2b3b9c85b512cb7dbd61935d40b5">RexxMutableBuffer::lastPos</a>(<a class="code" href="class_rexx_string.html">RexxString</a>  *needle, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *_start, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *_range)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;{</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#a82a411fff5233037bed4f4ba542eddd5">StringUtil::lastPosRexx</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), needle, _start, _range);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment"> * Perform a caseless search for a string within the buffer.</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment"> * @param needle The search needle.</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment"> * @param pstart the starting position.</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment"> * @return The index of the located string.  Returns 0 if no matches</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment"> *         are found.</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00848"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#af0059bddafdc2f92c80ecca74fdbc723">  848</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#af0059bddafdc2f92c80ecca74fdbc723">RexxMutableBuffer::caselessPos</a>(<a class="code" href="class_rexx_string.html">RexxString</a>  *needle, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *pstart, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *range)</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;{</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">/* force needle to a string          */</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    needle = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(needle, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p(needle);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="comment">/* get the starting position         */</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordtype">size_t</span> _start = <a class="code" href="_rexx_core_8h.html#ab021078f301aa1c1c2eb58460ee2392e">optionalPositionArgument</a>(pstart, 1, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordtype">size_t</span> _range = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(range, <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>() - _start + 1, <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">/* pass on to the primitive function */</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">/* and return as an integer object   */</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="keywordtype">size_t</span> result = <a class="code" href="class_string_util.html#a8fde90467591b29e70bb76dfcfc1dc97">StringUtil::caselessPos</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), needle , _start - 1, _range);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(result);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment"> * Perform a caseless search for the last position of a string</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment"> * within the buffer.</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment"> * @param needle The search needle.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment"> * @param pstart the starting position.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment"> * @return The index of the located string.  Returns 0 if no matches</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment"> *         are found.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00874"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a0e59edbe4eb75a9de1b7fc33b7d2d916">  874</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#a0e59edbe4eb75a9de1b7fc33b7d2d916">RexxMutableBuffer::caselessLastPos</a>(<a class="code" href="class_rexx_string.html">RexxString</a>  *needle, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *pstart, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *range)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;{</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">/* force needle to a string          */</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    needle = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(needle, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p(needle);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">/* get the starting position         */</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordtype">size_t</span> _start = <a class="code" href="_rexx_core_8h.html#ab021078f301aa1c1c2eb58460ee2392e">optionalPositionArgument</a>(pstart, <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordtype">size_t</span> _range = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(range, <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">/* pass on to the primitive function */</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">/* and return as an integer object   */</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordtype">size_t</span> result = <a class="code" href="class_string_util.html#a5bda2517ffbaf0c734aac908dbc9afd9">StringUtil::caselessLastPos</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), needle , _start, _range);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(result);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment"> * Extract a single character from a string object.</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment"> * Returns a null string if the specified position is</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment"> * beyond the bounds of the string.</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment"> * @param positionArg</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment"> *               The position of the target  character.  Must be a positive</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment"> *               whole number.</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment"> * @return Returns the single character at the target position.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment"> *         Returns a null string if the position is beyond the end</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment"> *         of the string.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00903"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a2ddb20438a8efb847522774618ba3d5a">  903</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_rexx_mutable_buffer.html#a2ddb20438a8efb847522774618ba3d5a">RexxMutableBuffer::subchar</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *positionArg)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;{</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#ad7e688c33e529b01da2a62abde4ca967">StringUtil::subchar</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), positionArg);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00910"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aa23848f61c292204661bbb1519b157f8">  910</a></span>&#160;<a class="code" href="class_rexx_array.html">RexxArray</a> *<a class="code" href="class_rexx_object.html#af191cb62a4a48edd91c62e1cdd5a9e83">RexxMutableBuffer::makeArrayRexx</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *div)</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">/* Function:  Split string into an array                                      */</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;{</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#aa9078547e73b8e1c5e3dd4170fd02d88">StringUtil::makearray</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), div);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;}</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160; </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160; </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aadbb58b48c282e29d34e9d8340d13ca5">  920</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#aadbb58b48c282e29d34e9d8340d13ca5">RexxMutableBuffer::countStrRexx</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *needle)</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">/* Function:  Count occurrences of one string in another.                     */</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;{</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="comment">/* force needle to a string          */</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    needle = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(needle, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p(needle);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="comment">// delegate the counting to the string util</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(<a class="code" href="class_string_util.html#ab395c7d8506b888db33f85ed9759d830">StringUtil::countStr</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), needle));</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ab2f9c701bc40e3cae7d4ff9e7b9c0352">  933</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#ab2f9c701bc40e3cae7d4ff9e7b9c0352">RexxMutableBuffer::caselessCountStrRexx</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *needle)</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">/* Function:  Count occurrences of one string in another.                     */</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;{</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="comment">/* force needle to a string          */</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    needle = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(needle, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p(needle);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="comment">// delegate the counting to the string util</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(<a class="code" href="class_string_util.html#ab8cee7c7f2128ef0b2f11c58473f8388">StringUtil::caselessCountStr</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), needle));</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;}</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment"> * Do an inplace changeStr operation on a mutablebuffer.</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment"> * @param needle    The search needle.</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment"> * @param newNeedle The replacement string.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment"> * @param countArg  The number of occurrences to replace.</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment"> * @return The target MutableBuffer</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a49d618a161bccb01a7200fa9801a96ac">  955</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#a49d618a161bccb01a7200fa9801a96ac">RexxMutableBuffer::changeStr</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *needle, <a class="code" href="class_rexx_string.html">RexxString</a> *newNeedle, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *countArg)</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;{</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">/* force needle to a string          */</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    needle = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(needle, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p1(needle);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="comment">/* newneedle must be a string two    */</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    newNeedle = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(newNeedle, OREF_positional, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p2(newNeedle);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="comment">// we&#39;ll only change up to a specified count.  If not there, we do everything.</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordtype">size_t</span> count = <a class="code" href="_rexx_core_8h.html#a67132b8a0d66e9b6e58899ecfee48fd4">optionalPositive</a>(countArg, <a class="code" href="class_numerics.html#a41b8bad5e3cb91973bb6143388c98d3c">Numerics::MAX_WHOLENUMBER</a>, OREF_positional, <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="comment">// find the number of matches in the string</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordtype">size_t</span> matches = <a class="code" href="class_string_util.html#ab395c7d8506b888db33f85ed9759d830">StringUtil::countStr</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), needle);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="keywordflow">if</span> (matches &gt; count)                 <span class="comment">// the matches are bounded by the count</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        matches = count;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="comment">// no matches is easy!</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="keywordflow">if</span> (matches == 0)</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordtype">size_t</span> needleLength = needle-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>();  <span class="comment">/* get the length of the needle      */</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="keywordtype">size_t</span> newLength = newNeedle-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>();  <span class="comment">/* and the replacement length        */</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="comment">// calculate the final length and make sure we have enough space</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordtype">size_t</span> resultLength = this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>() - (matches * needleLength) + (matches * newLength);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(resultLength);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="comment">// an inplace update has complications, depending on whether the new string is shorter,</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="comment">// the same length, or longer</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="comment">// simplest case...same length strings.  We can just overlay the existing occurrences</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">if</span> (needleLength == newLength)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *source = <a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordtype">size_t</span> sourceLength = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keywordtype">size_t</span> _start = 0;                          <span class="comment">/* set a zero starting point         */</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; matches; i++)</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <span class="comment">// search for the next occurrence...which should be there because we</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <span class="comment">// already know the count</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordtype">size_t</span> matchPos = <a class="code" href="class_string_util.html#a11ed5ca7b19dfb1728f3e7d60adc7d4e">StringUtil::pos</a>(source, sourceLength, needle, _start, sourceLength);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(matchPos - 1, newNeedle-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>(), newLength);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            <span class="comment">// step to the next search position</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            _start = matchPos + newLength - 1;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="comment">// this will be a shorter thing, so we can do things in place as if we were using two buffers</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (needleLength &gt; newLength)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        <span class="comment">// we start building from the beginning</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordtype">size_t</span> copyOffset = 0;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordtype">size_t</span> _start = 0;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="comment">// get our string bounds</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *source = <a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>();</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordtype">size_t</span> sourceLength = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *newPtr = newNeedle-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>();</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="comment">// this is our scan offset</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; matches; i++)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            <span class="comment">// look for each instance and replace</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <span class="keywordtype">size_t</span> matchPos = <a class="code" href="class_string_util.html#a11ed5ca7b19dfb1728f3e7d60adc7d4e">StringUtil::pos</a>(source, sourceLength, needle, _start, sourceLength);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            <span class="keywordtype">size_t</span> copyLength = (matchPos - 1) - _start;  <span class="comment">/* get the next length to copy       */</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            <span class="comment">// if this skipped over characters, we need to copy those</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            <span class="keywordflow">if</span> (copyLength != 0)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, source + _start, copyLength);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                copyOffset += copyLength;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            }</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <span class="comment">// replacing with a non-null string, copy the replacement string in</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            <span class="keywordflow">if</span> (newLength != 0)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, newPtr, newLength);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                copyOffset += newLength;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            _start = matchPos + needleLength - 1;  <span class="comment">/* step to the next position         */</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        }</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <span class="comment">// we likely have some remainder that needs copying</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <span class="keywordflow">if</span> (_start &lt; sourceLength)</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, source + _start, sourceLength - _start);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">// hardest case...the string gets longer.  We need to shift all of the data</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="comment">// to the end and then pull the pieces back in as we go</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <span class="keywordtype">size_t</span> growth = (newLength - needleLength) * matches;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="comment">// we start building from the beginning</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordtype">size_t</span> copyOffset = 0;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordtype">size_t</span> _start = 0;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="comment">// get our string bounds</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *source = <a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>() + growth;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="keywordtype">size_t</span> sourceLength = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="comment">// this shifts everything to the end of the buffer.  From there,</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="comment">// we pull pieces back into place.</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a3133d12548551861128222304584b607">openGap</a>(0, growth, sourceLength);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *newPtr = newNeedle-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>();</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="comment">// this is our scan offset</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; matches; i++)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="comment">// look for each instance and replace</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            <span class="keywordtype">size_t</span> matchPos = <a class="code" href="class_string_util.html#a11ed5ca7b19dfb1728f3e7d60adc7d4e">StringUtil::pos</a>(source, sourceLength, needle, _start, sourceLength);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            <span class="keywordtype">size_t</span> copyLength = (matchPos - 1) - _start;  <span class="comment">/* get the next length to copy       */</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <span class="comment">// if this skipped over characters, we need to copy those</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="keywordflow">if</span> (copyLength != 0)</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, source + _start, copyLength);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                copyOffset += copyLength;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            <span class="comment">// replacing with a non-null string, copy the replacement string in</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            <span class="keywordflow">if</span> (newLength != 0)</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;            {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, newPtr, newLength);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                copyOffset += newLength;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            _start = matchPos + needleLength - 1;  <span class="comment">/* step to the next position         */</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="comment">// we likely have some remainder that needs copying</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="keywordflow">if</span> (_start &lt; sourceLength)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, source + _start, sourceLength - _start);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    }</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// update the result length, and return</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(resultLength);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordtype">bool</span> newNeedleIsASCII = newNeedle-&gt;<a class="code" href="class_rexx_string.html#a1edacb3c569e1fdaee61cc67c88f5007">checkIsASCII</a>();</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="keywordflow">if</span> (!newNeedleIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="keywordflow">if</span> (newNeedleIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a943fb472b01c90f177459f2784d2c0b6">setIsASCIIChecked</a>(<span class="keyword">false</span>); <span class="comment">// check again, maybe the ASCII newNeedle has replaced all the non-ASCII characters</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160; </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;}</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment"> * Do an inplace caseless changeStr operation on a</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment"> * mutablebuffer.</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment"> * @param needle    The search needle.</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment"> * @param newNeedle The replacement string.</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment"> * @param countArg  The number of occurrences to replace.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment"> * @return The target MutableBuffer</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment">// in beahviour</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a13d13f463c148a06712fc3790662ceb4"> 1107</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#a13d13f463c148a06712fc3790662ceb4">RexxMutableBuffer::caselessChangeStr</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *needle, <a class="code" href="class_rexx_string.html">RexxString</a> *newNeedle, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *countArg)</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;{</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">/* force needle to a string          */</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    needle = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(needle, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p1(needle);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">/* newneedle must be a string two    */</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    newNeedle = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(newNeedle, OREF_positional, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p2(newNeedle);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="comment">// we&#39;ll only change up to a specified count.  If not there, we do everything.</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordtype">size_t</span> count = <a class="code" href="_rexx_core_8h.html#a67132b8a0d66e9b6e58899ecfee48fd4">optionalPositive</a>(countArg, <a class="code" href="class_numerics.html#a41b8bad5e3cb91973bb6143388c98d3c">Numerics::MAX_WHOLENUMBER</a>, OREF_positional, <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="comment">// find the number of matches in the string</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordtype">size_t</span> matches = <a class="code" href="class_string_util.html#ab8cee7c7f2128ef0b2f11c58473f8388">StringUtil::caselessCountStr</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), needle);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">if</span> (matches &gt; count)                 <span class="comment">// the matches are bounded by the count</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        matches = count;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="comment">// no matches is easy!</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">if</span> (matches == 0)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordtype">size_t</span> needleLength = needle-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>();  <span class="comment">/* get the length of the needle      */</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordtype">size_t</span> newLength = newNeedle-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>();  <span class="comment">/* and the replacement length        */</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="comment">// calculate the final length and make sure we have enough space</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="keywordtype">size_t</span> resultLength = this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>() - (matches * needleLength) + (matches * newLength);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(resultLength);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="comment">// an inplace update has complications, depending on whether the new string is shorter,</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="comment">// the same length, or longer</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="comment">// simplest case...same length strings.  We can just overlay the existing occurrences</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">if</span> (needleLength == newLength)</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *source = <a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>();</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="keywordtype">size_t</span> sourceLength = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="keywordtype">size_t</span> _start = 0;                          <span class="comment">/* set a zero starting point         */</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; matches; i++)</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            <span class="comment">// search for the next occurrence...which should be there because we</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            <span class="comment">// already know the count</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            <span class="keywordtype">size_t</span> matchPos = <a class="code" href="class_string_util.html#a8fde90467591b29e70bb76dfcfc1dc97">StringUtil::caselessPos</a>(source, sourceLength, needle, _start, sourceLength);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(matchPos - 1, newNeedle-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>(), newLength);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            <span class="comment">// step to the next search position</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            _start = matchPos + newLength - 1;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="comment">// this will be a shorter thing, so we can do things in place as if we were using two buffers</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (needleLength &gt; newLength)</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="comment">// we start building from the beginning</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordtype">size_t</span> copyOffset = 0;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <span class="keywordtype">size_t</span> _start = 0;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="comment">// get our string bounds</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *source = <a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>();</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="keywordtype">size_t</span> sourceLength = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *newPtr = newNeedle-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>();</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <span class="comment">// this is our scan offset</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; matches; i++)</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <span class="comment">// look for each instance and replace</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordtype">size_t</span> matchPos = <a class="code" href="class_string_util.html#a8fde90467591b29e70bb76dfcfc1dc97">StringUtil::caselessPos</a>(source, sourceLength, needle, _start, sourceLength);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            <span class="keywordtype">size_t</span> copyLength = (matchPos - 1) - _start;  <span class="comment">/* get the next length to copy       */</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            <span class="comment">// if this skipped over characters, we need to copy those</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            <span class="keywordflow">if</span> (copyLength != 0)</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, source + _start, copyLength);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                copyOffset += copyLength;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            <span class="comment">// replacing with a non-null string, copy the replacement string in</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            <span class="keywordflow">if</span> (newLength != 0)</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, newPtr, newLength);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                copyOffset += newLength;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            }</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            _start = matchPos + needleLength - 1;  <span class="comment">/* step to the next position         */</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="comment">// we likely have some remainder that needs copying</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="keywordflow">if</span> (_start &lt; sourceLength)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, source + _start, sourceLength - _start);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="comment">// hardest case...the string gets longer.  We need to shift all of the data</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="comment">// to the end and then pull the pieces back in as we go</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="keywordtype">size_t</span> growth = (newLength - needleLength) * matches;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <span class="comment">// we start building from the beginning</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="keywordtype">size_t</span> copyOffset = 0;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keywordtype">size_t</span> _start = 0;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="comment">// get our string bounds</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *source = <a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>() + growth;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordtype">size_t</span> sourceLength = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="comment">// this shifts everything to the end of the buffer.  From there,</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <span class="comment">// we pull pieces back into place.</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a3133d12548551861128222304584b607">openGap</a>(0, growth, sourceLength);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *newPtr = newNeedle-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>();</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="comment">// this is our scan offset</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; matches; i++)</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            <span class="comment">// look for each instance and replace</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            <span class="keywordtype">size_t</span> matchPos = <a class="code" href="class_string_util.html#a8fde90467591b29e70bb76dfcfc1dc97">StringUtil::caselessPos</a>(source, sourceLength, needle, _start, sourceLength);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            <span class="keywordtype">size_t</span> copyLength = (matchPos - 1) - _start;  <span class="comment">/* get the next length to copy       */</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            <span class="comment">// if this skipped over characters, we need to copy those</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            <span class="keywordflow">if</span> (copyLength != 0)</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;            {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, source + _start, copyLength);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                copyOffset += copyLength;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            }</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <span class="comment">// replacing with a non-null string, copy the replacement string in</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            <span class="keywordflow">if</span> (newLength != 0)</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, newPtr, newLength);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                copyOffset += newLength;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            }</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            _start = matchPos + needleLength - 1;  <span class="comment">/* step to the next position         */</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <span class="comment">// we likely have some remainder that needs copying</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <span class="keywordflow">if</span> (_start &lt; sourceLength)</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(copyOffset, source + _start, sourceLength - _start);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="comment">// update the result length, and return</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(resultLength);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordtype">bool</span> newNeedleIsASCII = newNeedle-&gt;<a class="code" href="class_rexx_string.html#a1edacb3c569e1fdaee61cc67c88f5007">checkIsASCII</a>();</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>())</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        <span class="keywordflow">if</span> (!newNeedleIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    {</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="keywordflow">if</span> (newNeedleIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a943fb472b01c90f177459f2784d2c0b6">setIsASCIIChecked</a>(<span class="keyword">false</span>); <span class="comment">// check again, maybe the ASCII newNeedle has replaced all the non-ASCII characters</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;}</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment"> * Rexx exported method stub for the lower() method.</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="comment"> * @param start  The optional starting location.  Defaults to the first character</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment"> *               if not specified.</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment"> * @param length The length to convert.  Defaults to the segment from the start</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment"> *               position to the end of the string.</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment"> * @return A new string object with the case conversion applied.</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a57f3179def2dfc44fe05fc5ed0ce7986"> 1260</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#a57f3179def2dfc44fe05fc5ed0ce7986">RexxMutableBuffer::lower</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *_start, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *_length)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;{</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordtype">size_t</span> startPos = <a class="code" href="_rexx_core_8h.html#ab021078f301aa1c1c2eb58460ee2392e">optionalPositionArgument</a>(_start, 1, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>) - 1;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordtype">size_t</span> rangeLength = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(_length, <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160; </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="comment">// if we&#39;re starting beyond the end bounds, return unchanged</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">if</span> (startPos &gt;= <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>())</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    rangeLength = <a class="code" href="class_numerics.html#aac02fbb41b0935849e10b1b2ff0f3268">Numerics::minVal</a>(rangeLength, <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>() - startPos);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// a zero length value is also a non-change.</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">if</span> (rangeLength == 0)</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordtype">char</span> *bufferData = <a class="code" href="class_rexx_mutable_buffer.html#abad8a33fb4e53f531727d9df9e0fbbd9">getData</a>() + startPos;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="comment">// now uppercase in place</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; rangeLength; i++)</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;        *bufferData = tolower(*bufferData);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        bufferData++;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;}</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment"> * Rexx exported method stub for the upper() method.</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment"> * @param start  The optional starting location.  Defaults to the first character</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment"> *               if not specified.</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment"> * @param length The length to convert.  Defaults to the segment from the start</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment"> *               position to the end of the string.</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment"> * @return A new string object with the case conversion applied.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">// in beahviour</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aad5452cf3d71f438fe36e1bbeb2f2daf"> 1301</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#aad5452cf3d71f438fe36e1bbeb2f2daf">RexxMutableBuffer::upper</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *_start, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *_length)</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;{</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="keywordtype">size_t</span> startPos = <a class="code" href="_rexx_core_8h.html#ab021078f301aa1c1c2eb58460ee2392e">optionalPositionArgument</a>(_start, 1, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>) - 1;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordtype">size_t</span> rangeLength = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(_length, <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160; </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="comment">// if we&#39;re starting beyond the end bounds, return unchanged</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">if</span> (startPos &gt;= <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>())</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    rangeLength = <a class="code" href="class_numerics.html#aac02fbb41b0935849e10b1b2ff0f3268">Numerics::minVal</a>(rangeLength, <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>() - startPos);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="comment">// a zero length value is also a non-change.</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">if</span> (rangeLength == 0)</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    }</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordtype">char</span> *bufferData = <a class="code" href="class_rexx_mutable_buffer.html#abad8a33fb4e53f531727d9df9e0fbbd9">getData</a>() + startPos;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="comment">// now uppercase in place</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; rangeLength; i++)</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        *bufferData = toupper(*bufferData);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        bufferData++;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    }</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;}</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160; </div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment"> * translate characters in the buffer using a translation table.</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment"> * @param tableo The output table specification</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment"> * @param tablei The input table specification</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment"> * @param pad    An optional padding character (default is a space).</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="comment"> * @param _start The starting position to translate.</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="comment"> * @param _range The length to translate</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="comment"> * @return The target mutable buffer.</span></div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a1756d1bf121dea75ed03532eb2bf16bd"> 1343</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#a1756d1bf121dea75ed03532eb2bf16bd">RexxMutableBuffer::translate</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *tableo, <a class="code" href="class_rexx_string.html">RexxString</a> *tablei, <a class="code" href="class_rexx_string.html">RexxString</a> *pad, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *_start, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *_range)</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;{</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="comment">// just a simple uppercase?</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">if</span> (tableo == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a> &amp;&amp; tablei == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a> &amp;&amp; pad == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aad5452cf3d71f438fe36e1bbeb2f2daf">upper</a>(_start, _range);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                                            <span class="comment">/* validate the tables               */</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    tableo = <a class="code" href="_rexx_core_8h.html#ad988d2bf2a6f2cf10c7efde91eb966cc">optionalStringArgument</a>(tableo, OREF_NULLSTRING, OREF_positional, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p1(tableo);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordtype">size_t</span> outTableLength = tableo-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>();      <span class="comment">/* get the table length              */</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="comment">/* input table too                   */</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    tablei = <a class="code" href="_rexx_core_8h.html#ad988d2bf2a6f2cf10c7efde91eb966cc">optionalStringArgument</a>(tablei, OREF_NULLSTRING, OREF_positional, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p2(tablei);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordtype">size_t</span> inTableLength = tablei-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>();       <span class="comment">/* get the table length              */</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *inTable = tablei-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>();    <span class="comment">/* point at the input table          */</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *outTable = tableo-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>();   <span class="comment">/* and the output table              */</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                                          <span class="comment">/* get the pad character             */</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="rexx_8h.html#a65b60b72458a1b750671d8a23c424dd0">codepoint_t</a> padChar = <a class="code" href="_rexx_core_8h.html#a1174c27be62d7fb604dc8da41da45c52">optionalPadArgument</a>(pad, <span class="charliteral">&#39; &#39;</span>, <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordtype">bool</span> padInserted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordtype">bool</span> padIsASCII = ((padChar &amp; 0x80) == 0);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordtype">size_t</span> startPos = <a class="code" href="_rexx_core_8h.html#ab021078f301aa1c1c2eb58460ee2392e">optionalPositionArgument</a>(_start, 1, <a class="code" href="_rexx_core_8h.html#a3527a3079ee71e7bc3b8636f13711351">ARG_FOUR</a>);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordtype">size_t</span> range = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(_range, <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>() - startPos + 1, <a class="code" href="_rexx_core_8h.html#a3527a3079ee71e7bc3b8636f13711351">ARG_FOUR</a>);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="comment">// if nothing to translate, we can return now</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">if</span> (startPos &gt; <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>() || range == 0)</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="comment">// cape the real range</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    range = <a class="code" href="class_numerics.html#aac02fbb41b0935849e10b1b2ff0f3268">Numerics::minVal</a>(range, <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>() - startPos + 1);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordtype">char</span> *scanPtr = <a class="code" href="class_rexx_mutable_buffer.html#abad8a33fb4e53f531727d9df9e0fbbd9">getData</a>() + startPos - 1;   <span class="comment">/* point to data                     */</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordtype">size_t</span> scanLength = range;                  <span class="comment">/* get the length too                */</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordtype">bool</span> translateIsASCII = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">while</span> (scanLength-- != 0)</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    {                <span class="comment">/* spin thru input                   */</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordtype">char</span> ch = *scanPtr;                      <span class="comment">/* get a character                   */</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keywordtype">size_t</span> position;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">if</span> (tablei != OREF_NULLSTRING)      <span class="comment">/* input table specified?            */</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            <span class="comment">/* search for the character          */</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            position = <a class="code" href="class_string_util.html#a4edd7b3ec383cd81fbce8bf4161cd17d">StringUtil::memPos</a>(inTable, inTableLength, ch);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        {</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            position = ((size_t)ch) &amp; 0xff;     <span class="comment">/* position is the character value   */</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <span class="keywordflow">if</span> (position != (<span class="keywordtype">size_t</span>)(-1))</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        {     <span class="comment">/* found in the table?               */</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            <span class="keywordflow">if</span> (position &lt; outTableLength)    <span class="comment">/* in the output table?              */</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                <span class="comment">/* convert the character             */</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                *scanPtr = *(outTable + position);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                <span class="keywordflow">if</span> (*scanPtr &amp; 0x80) translateIsASCII = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                *scanPtr = (char)padChar;   <span class="comment">/* else use the pad character        */</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                padInserted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        scanPtr++;                          <span class="comment">/* step the pointer                  */</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">if</span> (!translateIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (padInserted &amp;&amp; !padIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="comment">// here we know that the new characters are all ASCII</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <span class="comment">// if the buffer was not ASCII before the translation, maybe it is now, to check again</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>()) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a943fb472b01c90f177459f2784d2c0b6">setIsASCIIChecked</a>(<span class="keyword">false</span>); <span class="comment">// check again</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;}</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160; </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment"> * Test if regions within two strings match.</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment"> * @param start_  The starting compare position within the target string.  This</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment"> *                must be within the bounds of the string.</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment"> * @param other   The other compare string.</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment"> * @param offset_ The starting offset of the compare string.  This must be</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment"> *                within the string bounds.  The default start postion is 1.</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment"> * @param len_    The length of the compare substring.  The length and the</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment"> *                offset must specify a valid substring of other.  If not</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="comment"> *                specified, this defaults to the substring from the</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="comment"> *                offset to the end of the string.</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="comment"> * @return True if the two regions match, false for any mismatch.</span></div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aee2722884c4d2adec2f1711b70ab2d23"> 1435</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#aee2722884c4d2adec2f1711b70ab2d23">RexxMutableBuffer::match</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *start_, <a class="code" href="class_rexx_string.html">RexxString</a> *other, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *offset_, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *len_)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;{</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> _start = <a class="code" href="_string_class_util_8cpp.html#a5a0f27206f3de8d9d4a77f123887a9e6">positionArgument</a>(start_, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="comment">// the start position must be within the string bounds</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (_start &gt; <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>())</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    {</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#a33db0738cd87ec504a2bb4a1c3e240e7">Error_Incorrect_method_position</a>, start_);</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    }</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    other = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(other, OREF_positional, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> offset = <a class="code" href="_rexx_core_8h.html#ab021078f301aa1c1c2eb58460ee2392e">optionalPositionArgument</a>(offset_, 1, <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">if</span> (offset &gt; other-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>())</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#a33db0738cd87ec504a2bb4a1c3e240e7">Error_Incorrect_method_position</a>, offset);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    }</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> len = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(len_, other-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>() - offset + 1, <a class="code" href="_rexx_core_8h.html#a3527a3079ee71e7bc3b8636f13711351">ARG_FOUR</a>);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">if</span> ((offset + len - 1) &gt; other-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>())</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ad1681cd44abeae37c9ecec26aae02ec4">Error_Incorrect_method_length</a>, len);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_rexx_mutable_buffer.html#a8dff6fda1d1d8003c4f4f1bcf6864f79">primitiveMatch</a>(_start, other, offset, len) ? <a class="code" href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a> : <a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a>;</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;}</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment"> * Test if regions within two strings match.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment"> * @param start_  The starting compare position within the target string.  This</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="comment"> *                must be within the bounds of the string.</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="comment"> * @param other   The other compare string.</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="comment"> * @param offset_ The starting offset of the compare string.  This must be</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="comment"> *                within the string bounds.  The default start postion is 1.</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="comment"> * @param len_    The length of the compare substring.  The length and the</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment"> *                offset must specify a valid substring of other.  If not</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment"> *                specified, this defaults to the substring from the</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment"> *                offset to the end of the string.</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment"> * @return True if the two regions match, false for any mismatch.</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aabca08e8c66dccdfeb06a6a70aeebb61"> 1479</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#aabca08e8c66dccdfeb06a6a70aeebb61">RexxMutableBuffer::caselessMatch</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *start_, <a class="code" href="class_rexx_string.html">RexxString</a> *other, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *offset_, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *len_)</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;{</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> _start = <a class="code" href="_string_class_util_8cpp.html#a5a0f27206f3de8d9d4a77f123887a9e6">positionArgument</a>(start_, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="comment">// the start position must be within the string bounds</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordflow">if</span> (_start &gt; <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>())</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#a33db0738cd87ec504a2bb4a1c3e240e7">Error_Incorrect_method_position</a>, start_);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    }</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    other = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(other, OREF_positional, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> offset = <a class="code" href="_rexx_core_8h.html#ab021078f301aa1c1c2eb58460ee2392e">optionalPositionArgument</a>(offset_, 1, <a class="code" href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a>);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">if</span> (offset &gt; other-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>())</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#a33db0738cd87ec504a2bb4a1c3e240e7">Error_Incorrect_method_position</a>, offset);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    }</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160; </div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> len = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(len_, other-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>() - offset + 1, <a class="code" href="_rexx_core_8h.html#a3527a3079ee71e7bc3b8636f13711351">ARG_FOUR</a>);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">if</span> ((offset + len - 1) &gt; other-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>())</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ad1681cd44abeae37c9ecec26aae02ec4">Error_Incorrect_method_length</a>, len);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_rexx_mutable_buffer.html#a2473f3c9d56f5572f832fe982fcd0185">primitiveCaselessMatch</a>(_start, other, offset, len) ? <a class="code" href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a> : <a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;}</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="comment"> * Perform a compare of regions of two string objects.  Returns</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="comment"> * true if the two regions match, returns false for mismatches.</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment"> * @param start  The starting offset within the target string.</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="comment"> * @param other  The source string for the compare.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="comment"> * @param offset The offset of the substring of the other string to use.</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="comment"> * @param len    The length of the substring to compare.</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="comment"> * @return True if the regions match, false otherwise.</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a8dff6fda1d1d8003c4f4f1bcf6864f79"> 1518</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_rexx_mutable_buffer.html#a8dff6fda1d1d8003c4f4f1bcf6864f79">RexxMutableBuffer::primitiveMatch</a>(<a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> _start, <a class="code" href="class_rexx_string.html">RexxString</a> *other, <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> offset, <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> len)</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;{</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    _start--;      <span class="comment">// make the starting point origin zero</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    offset--;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160; </div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="comment">// if the match is not possible in the target string, just return false now.</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span> ((_start + len) &gt; <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>())</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    }</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">return</span> memcmp(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>() + _start, other-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>() + offset, len) == 0;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;}</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160; </div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="comment"> * Perform a caselesee compare of regions of two string objects.</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="comment"> * Returns true if the two regions match, returns false for</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;<span class="comment"> * mismatches.</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<span class="comment"> * @param start  The starting offset within the target string.</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="comment"> * @param other  The source string for the compare.</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment"> * @param offset The offset of the substring of the other string to use.</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment"> * @param len    The length of the substring to compare.</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="comment"> * @return True if the regions match, false otherwise.</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a2473f3c9d56f5572f832fe982fcd0185"> 1545</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_rexx_mutable_buffer.html#a2473f3c9d56f5572f832fe982fcd0185">RexxMutableBuffer::primitiveCaselessMatch</a>(<a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> _start, <a class="code" href="class_rexx_string.html">RexxString</a> *other, <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> offset, <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> len)</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;{</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    _start--;      <span class="comment">// make the starting point origin zero</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    offset--;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="comment">// if the match is not possible in the target string, just return false now.</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">if</span> ((_start + len) &gt; <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>())</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#a7b9cc1f9f5c1fcfa3abe0c78aaae16a1">StringUtil::caselessCompare</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>() + _start, other-&gt;<a class="code" href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">getStringData</a>() + offset, len) == 0;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;}</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160; </div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment"> * Compare a single character at a give position against</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="comment"> * a set of characters to see if any of the characters is</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="comment"> * a match.</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment"> * @param position_ The character position</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment"> * @param matchSet  The set to compare against.</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment"> * @return true if the character at the give position is any of the characters,</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment"> *         false if none of them match.</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aae58e528508266acd90811086ced074d"> 1572</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#aae58e528508266acd90811086ced074d">RexxMutableBuffer::matchChar</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *position_, <a class="code" href="class_rexx_string.html">RexxString</a> *matchSet)</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;{</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> position = <a class="code" href="_string_class_util_8cpp.html#a5a0f27206f3de8d9d4a77f123887a9e6">positionArgument</a>(position_, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="comment">// the start position must be within the string bounds</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">if</span> (position &gt; <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>())</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#a33db0738cd87ec504a2bb4a1c3e240e7">Error_Incorrect_method_position</a>, position);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    matchSet = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(matchSet, OREF_positional, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> _setLength = matchSet-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>();</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <a class="code" href="rexx_8h.html#a65b60b72458a1b750671d8a23c424dd0">codepoint_t</a>         _matchChar = <a class="code" href="class_rexx_mutable_buffer.html#ad3f9c94784cd1c38c7c5cd31749c33db">getCharB</a>(position - 1);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="comment">// iterate through the match set looking for a match</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> i = 0; i &lt; _setLength; i++)</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="keywordflow">if</span> (_matchChar == matchSet-&gt;<a class="code" href="class_rexx_string.html#ae4b2e4cb5504d9e09a3c478856abf0a2">getChar</a>(i))</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a>;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        }</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a>;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;}</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="comment"> * Compare a single character at a give position against</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="comment"> * a set of characters to see if any of the characters is</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment"> * a match.</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment"> * @param position_ The character position</span></div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment"> * @param matchSet  The set to compare against.</span></div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment"> * @return true if the character at the give position is any of the characters,</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment"> *         false if none of them match.</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#acc72bb7b6b07e3dba0b88171cf1af4d1"> 1609</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#acc72bb7b6b07e3dba0b88171cf1af4d1">RexxMutableBuffer::caselessMatchChar</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *position_, <a class="code" href="class_rexx_string.html">RexxString</a> *matchSet)</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;{</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> position = <a class="code" href="_string_class_util_8cpp.html#a5a0f27206f3de8d9d4a77f123887a9e6">positionArgument</a>(position_, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="comment">// the start position must be within the string bounds</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="keywordflow">if</span> (position &gt; <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>())</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#a33db0738cd87ec504a2bb4a1c3e240e7">Error_Incorrect_method_position</a>, position);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    }</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    matchSet = <a class="code" href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a>(matchSet, OREF_positional, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> _setLength = matchSet-&gt;<a class="code" href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">getLength</a>();</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="rexx_8h.html#a65b60b72458a1b750671d8a23c424dd0">codepoint_t</a>         _matchChar = <a class="code" href="class_rexx_mutable_buffer.html#ad3f9c94784cd1c38c7c5cd31749c33db">getCharB</a>(position - 1);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    _matchChar = toupper((<span class="keywordtype">int</span>)_matchChar);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160; </div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="comment">// iterate through the match set looking for a match, using a</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="comment">// caseless compare</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a> i = 0; i &lt; _setLength; i++)</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="keywordflow">if</span> (_matchChar == toupper(matchSet-&gt;<a class="code" href="class_rexx_string.html#ae4b2e4cb5504d9e09a3c478856abf0a2">getChar</a>(i)))</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        {</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a>;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    }</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a>;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;}</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160; </div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment"> * Perform a character verify operation on a mutable buffer.</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment"> * @param ref    The reference string.</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment"> * @param option The match/nomatch option.</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="comment"> * @param _start The start position for the verify.</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment"> * @param range  The range to search</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment"> * @return The offset of the first match/mismatch within the buffer.</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a5466b50c4bb167f1349ed1a4ce9d7afa"> 1647</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#a5466b50c4bb167f1349ed1a4ce9d7afa">RexxMutableBuffer::verify</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *ref, <a class="code" href="class_rexx_string.html">RexxString</a> *option, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *_start, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *range)</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;{</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#ac12cfc6561008f16f49494cebac79403">StringUtil::verify</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), ref, option, _start, range);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;}</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160; </div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment"> * Perform a subword extraction from a mutable buffer.</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="comment"> * @param position The first word to be extracted.</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment"> * @param plength  The number of words to extract.</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<span class="comment"> * @return The substring containing the extacted words.</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#add4c2dffe43169ca00352bce70dbdb21"> 1662</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_rexx_mutable_buffer.html#add4c2dffe43169ca00352bce70dbdb21">RexxMutableBuffer::subWord</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *position, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *plength)</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;{</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#a74b2f973365e5616c8a55bbdc5e86114">StringUtil::subWord</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), position, plength);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;}</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="comment"> * Returns an array of all words contained in the given range</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="comment"> * of the string, using the same extraction rules used</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="comment"> * for subWord() and word().</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;<span class="comment"> * @param position The optional starting position.  If not provided, extraction</span></div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<span class="comment"> *                 starts with the first word.</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<span class="comment"> * @param plength  The number of words to extract.  If omitted, will extract</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="comment"> *                 from the starting postion to the end of the string.</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment"> * @return An array containing the extracted words.  If no words are</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment"> *         available within the given range, this returns an empty</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="comment"> *         array.</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a4061a7b653a714a03389a9f3f35f42fb"> 1682</a></span>&#160;<a class="code" href="class_rexx_array.html">RexxArray</a> *<a class="code" href="class_rexx_mutable_buffer.html#a4061a7b653a714a03389a9f3f35f42fb">RexxMutableBuffer::subWords</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *position, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *plength)</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;{</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#a39146304a18c83b9c331aff075da623c">StringUtil::subWords</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), position, plength);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;}</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160; </div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment"> * Extract a given word from a mutable buffer.</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="comment"> * @param position The target word position.</span></div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="comment"> * @return The extracted word, as a string.</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#af55fc5a5d8d7ff384a9ae21749f91714"> 1696</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_rexx_mutable_buffer.html#af55fc5a5d8d7ff384a9ae21749f91714">RexxMutableBuffer::word</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *position)</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;{</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#ac7531b0494c3a359b4642153a372cd77">StringUtil::word</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), position);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;}</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="comment"> * return the index of a given word position in a mutable buffer</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="comment"> * @param position The target word position.</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="comment"> * @return The position of the target word.</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#ac02672326f2c5555d8509cb2f3d6db4e"> 1711</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#ac02672326f2c5555d8509cb2f3d6db4e">RexxMutableBuffer::wordIndex</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *position)</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;{</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#a313e632cebffd6a4ba5ef007160a8e46">StringUtil::wordIndex</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), position);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;}</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160; </div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;<span class="comment"> * return the length of a given word position in a mutable</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="comment"> * buffer</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;<span class="comment"> * @param position The target word position.</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<span class="comment"> * @return The length of the target word.</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#abdb185f26480b27fb79592e2371cb409"> 1727</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#abdb185f26480b27fb79592e2371cb409">RexxMutableBuffer::wordLength</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *position)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;{</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#aa6b6ba44dcfe0c4c87e21736300ece05">StringUtil::wordLength</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), position);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;}</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment"> * Return the count of words in the buffer.</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="comment"> * @return The buffer word count.</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a9eb6c7e293ee6973405d1d27a7dceae6"> 1738</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#a9eb6c7e293ee6973405d1d27a7dceae6">RexxMutableBuffer::words</a>()</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;{</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordtype">size_t</span> tempCount = <a class="code" href="class_string_util.html#a65bf9d9a8837de2fe0be79d7242f6cee">StringUtil::wordCount</a>(this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>());</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a>(tempCount);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;}</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; </div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;<span class="comment"> * Perform a wordpos search on a mutablebuffer object.</span></div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="comment"> * @param phrase The search phrase</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="comment"> * @param pstart The starting search position.</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="comment"> * @return The index of the match location.</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01754"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a8ba86b7e8c85ae3b4d6cf6a7aa7e721f"> 1754</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#a8ba86b7e8c85ae3b4d6cf6a7aa7e721f">RexxMutableBuffer::wordPos</a>(<a class="code" href="class_rexx_string.html">RexxString</a>  *phrase, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *pstart)</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;{</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#a93c7151c23c92b3e739724212fa8712e">StringUtil::wordPos</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), phrase, pstart);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;}</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160; </div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="comment"> * Perform a caseless wordpos search on a string object.</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="comment"> * @param phrase The search phrase</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="comment"> * @param pstart The starting search position.</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="comment"> * @return The index of the match location.</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#aa6736ce0c83b528cdbb9830a11c928d6"> 1769</a></span>&#160;<a class="code" href="class_rexx_integer.html">RexxInteger</a> *<a class="code" href="class_rexx_mutable_buffer.html#aa6736ce0c83b528cdbb9830a11c928d6">RexxMutableBuffer::caselessWordPos</a>(<a class="code" href="class_rexx_string.html">RexxString</a>  *phrase, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *pstart)</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;{</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_string_util.html#a2f7c5edb81aa1100ba706419cd5c7213">StringUtil::caselessWordPos</a>(<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(), <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>(), phrase, pstart);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;}</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="comment"> * Perform a delword operation on a mutable buffer</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment"> * @param position The position to delete.</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment"> * @param plength  The number of words to delete</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="comment"> * @return Always returns the target mutable buffer.</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="comment">// in behaviour</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a8b815993736fbb0d2830d407601d6087"> 1784</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#a8b815993736fbb0d2830d407601d6087">RexxMutableBuffer::delWord</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *position, <a class="code" href="class_rexx_integer.html">RexxInteger</a> *plength)</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;{</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                                         <span class="comment">/* convert position to binary        */</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordtype">size_t</span> _wordPos = <a class="code" href="_string_class_util_8cpp.html#a5a0f27206f3de8d9d4a77f123887a9e6">positionArgument</a>(position, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="comment">/* get num of words to delete, the   */</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="comment">/* default is &quot;a very large number&quot;  */</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordtype">size_t</span> count = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(plength, <a class="code" href="class_numerics.html#a41b8bad5e3cb91973bb6143388c98d3c">Numerics::MAX_WHOLENUMBER</a>, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <span class="keywordtype">size_t</span> length = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();         <span class="comment">/* get string length                 */</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="keywordflow">if</span> (length == 0)                     <span class="comment">/* null string?                      */</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;                     <span class="comment">/* nothing to delete                 */</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    }</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="keywordflow">if</span> (count == 0)                      <span class="comment">/* deleting zero words?              */</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;                     <span class="comment">/* also very easy                    */</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *_word = <a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>();  <span class="comment">/* point to the string               */</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *nextSite = NULL;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                                       <span class="comment">/* get the first word                */</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="keywordtype">size_t</span> _wordLength = <a class="code" href="class_string_util.html#a908debd8e5ae6b0f38f2296c1ab7e565">StringUtil::nextWord</a>(&amp;_word, &amp;length, &amp;nextSite);</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="keywordflow">while</span> (--_wordPos &gt; 0 &amp;&amp; _wordLength != 0)</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    {  <span class="comment">/* loop until we reach tArget        */</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        _word = nextSite;                <span class="comment">/* copy the start pointer            */</span></div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                                         <span class="comment">/* get the next word                 */</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        _wordLength = <a class="code" href="class_string_util.html#a908debd8e5ae6b0f38f2296c1ab7e565">StringUtil::nextWord</a>(&amp;_word, &amp;length, &amp;nextSite);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordflow">if</span> (_wordPos != 0)                   <span class="comment">/* run out of words first            */</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    {</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">this</span>;                     <span class="comment">/* return the buffer unaltered       */</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="comment">// get the deletion point as an offset</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordtype">size_t</span> deletePosition = _word - this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>();</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">while</span> (--count &gt; 0 &amp;&amp; _wordLength != 0)</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    {  <span class="comment">/* loop until we reach tArget        */</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        _word = nextSite;              <span class="comment">/* copy the start pointer            */</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                                       <span class="comment">/* get the next word                 */</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        _wordLength = <a class="code" href="class_string_util.html#a908debd8e5ae6b0f38f2296c1ab7e565">StringUtil::nextWord</a>(&amp;_word, &amp;length, &amp;nextSite);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    }</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordflow">if</span> (length != 0)                   <span class="comment">/* didn&#39;t use up the string          */</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <a class="code" href="class_string_util.html#a501c5cbea393f2c6b7afd2c92e9c17ab">StringUtil::skipBlanks</a>(&amp;nextSite, &amp;length);<span class="comment">/* skip over trailing blanks         */</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    }</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordtype">size_t</span> gapSize = <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> - (deletePosition + length);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="comment">// close up the delete part</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <a class="code" href="class_rexx_mutable_buffer.html#a22a64dac2ae61208f5fbb4441b5b1006">closeGap</a>(deletePosition, gapSize, length);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="comment">// adjust for the deleted data</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">setLength</a>(<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> - gapSize);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="comment">// The buffer has been truncated</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="comment">// If the buffer before truncation was not ASCII, maybe the shorter buffer is ASCII</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">isASCII</a>()) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a943fb472b01c90f177459f2784d2c0b6">setIsASCIIChecked</a>(<span class="keyword">false</span>); <span class="comment">// check again</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;}</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160; </div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="comment">* Do an inplace space() operation on a mutable buffer.</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="comment">* @param space_count    The number of pad characters between</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="comment">*                       each word</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="comment">* @param pad            The pad character</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<span class="comment">*</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="comment">* @return               The target MutableBuffer</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"><a class="line" href="class_rexx_mutable_buffer.html#a878dbeaaa25764c542a8718dc1b8bc03"> 1851</a></span>&#160;<a class="code" href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a> *<a class="code" href="class_rexx_mutable_buffer.html#a878dbeaaa25764c542a8718dc1b8bc03">RexxMutableBuffer::space</a>(<a class="code" href="class_rexx_integer.html">RexxInteger</a> *space_count, <a class="code" href="class_rexx_string.html">RexxString</a> *pad)</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;{</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordtype">size_t</span> count = 0;                      <span class="comment">/* count word interstices in buffer*/</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160; </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                                           <span class="comment">/* get the spacing count           */</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> padLength = <a class="code" href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a>(space_count, 1, <a class="code" href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a>);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="comment">/* get the pad character           */</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>   padChar   = (char)<a class="code" href="_rexx_core_8h.html#a1174c27be62d7fb604dc8da41da45c52">optionalPadArgument</a>(pad, <span class="charliteral">&#39; &#39;</span>, <a class="code" href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a>);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <span class="keywordtype">bool</span> padInserted = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keywordtype">bool</span> padIsASCII = ((padChar &amp; 0x80) == 0);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160; </div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    <span class="comment">// an inplace update has complications, depending on whether the new string</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="comment">// is shorter or longer than the original.</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="comment">// first execute padC with padLength == 0,1; later expand padC to padLength</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>   padC = <span class="charliteral">&#39; &#39;</span>;               <span class="comment">/* intermediate pad: single space  */</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> padL = 1;                 <span class="comment">/* intermediate pad length: 1      */</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="comment">// With padC the new string is not longer, so we can just overlay in place.</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="comment">// Set write position to start of buffer</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="comment">// Find first word: start position and length</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="comment">// While a word is found:</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="comment">//     Copy word to write position</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="comment">//     update write position</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="comment">//     Find next word: start position and length</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="comment">//     if no next word exists then leave</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    <span class="comment">//     select spacing count:</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="comment">//         when = 1 then append padChar and update write position</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="comment">//         when = 0 then don&#39;t pad</span></div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="comment">//         otherwise append padC and update write position</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <span class="comment">//     increment word interstice count</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="comment">//     iterate</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="comment">// adjust string dataLength to write position</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordtype">size_t</span>      writePos = 0;               <span class="comment">/* offset current write position  */</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *_word    = <a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(); <span class="comment">/* point to the start of string   */</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *nextSite = NULL;            <span class="comment">/* start of the next word         */</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keywordtype">size_t</span>        length = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();     <span class="comment">/* get string data length         */</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160; </div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                                            <span class="comment">/* get the first word             */</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordtype">size_t</span> _wordLength = <a class="code" href="class_string_util.html#a908debd8e5ae6b0f38f2296c1ab7e565">StringUtil::nextWord</a>(&amp;_word, &amp;length, &amp;nextSite);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160; </div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <span class="keywordflow">while</span> (_wordLength != 0)</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    {</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="comment">/* copy first word to writePos    */</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(writePos, _word, _wordLength);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        writePos += _wordLength;            <span class="comment">/* update writePos for next word  */</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        _word = nextSite;                   <span class="comment">/* set start pointer to next word */</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                                            <span class="comment">/* get the next word              */</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        _wordLength = <a class="code" href="class_string_util.html#a908debd8e5ae6b0f38f2296c1ab7e565">StringUtil::nextWord</a>(&amp;_word, &amp;length, &amp;nextSite);</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        <span class="keywordflow">if</span> (_wordLength == 0)               <span class="comment">/* is there no next word coming ? */</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        {</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;            <span class="keywordflow">break</span>;                          <span class="comment">/* don&#39;t pad or count last word   */</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        }</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <span class="keywordflow">switch</span> (padLength)                  <span class="comment">/* handle different padLength     */</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            <span class="keywordflow">case</span> 1:                             <span class="comment">/* more frequent case goes first  */</span></div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(writePos, padChar, padLength); <span class="comment">/* write pad character     */</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                writePos += padLength;         <span class="comment">/* move write position one byte    */</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                padInserted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                <span class="keywordflow">break</span>;                         <span class="comment">/* don&#39;t write pad character       */</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            <span class="keywordflow">default</span>:                           <span class="comment">/* padLength &gt; 1                   */</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(writePos, padC, padL); <span class="comment">/* write padC pad character        */</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                writePos += padL;              <span class="comment">/* move write position one byte    */</span></div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        }</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        count++;                           <span class="comment">/* increment the word count        */</span></div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    }</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> = writePos;           <span class="comment">/* set data length in buffer       */</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">if</span> ( padLength &gt; 1 )                   <span class="comment">/* do we need to expand padC ?     */</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <span class="keywordtype">size_t</span> growth = count * (padLength-1); <span class="comment">/* data grows by so many bytes */</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">ensureCapacity</a>(growth);            <span class="comment">/* make sure we have room for this */</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160; </div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        <span class="comment">// As the string gets longer, we need to shift all data to the end and</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        <span class="comment">// then pull the pieces back in as we go.</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        length = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>();              <span class="comment">/* get current string data length  */</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a3133d12548551861128222304584b607">openGap</a>(0, growth, length);        <span class="comment">/* shift towards end of the buffer */</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        writePos = 0;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;        <span class="keywordflow">while</span> (growth&gt;0)</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(writePos, padC, padL); <span class="comment">/* fill gap with whitespace        */</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;            writePos++;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            growth--;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;        }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;        <a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a> = <a class="code" href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">getLength</a>() + count * (padLength-1);<span class="comment">/*adjust data to size*/</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160; </div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        <span class="comment">// Now we do the last loop over, using padChar and padLength</span></div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        writePos = 0;                      <span class="comment">/* offset current write position   */</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *_word    = <a class="code" href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">getStringData</a>(); <span class="comment">/*point to the start of string*/</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *nextSite = NULL;       <span class="comment">/* start of the next word          */</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        length = this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">dataLength</a>;         <span class="comment">/* get current string data length  */</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                                           <span class="comment">/* get the first word              */</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        _wordLength = <a class="code" href="class_string_util.html#a908debd8e5ae6b0f38f2296c1ab7e565">StringUtil::nextWord</a>(&amp;_word, &amp;length, &amp;nextSite);</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160; </div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;        <span class="keywordflow">while</span> (_wordLength != 0)           <span class="comment">/* while there is a word ...       */</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;            <span class="comment">/* copy first word to writePos     */</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;            <a class="code" href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">copyData</a>(writePos, _word, _wordLength);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;            writePos += _wordLength;       <span class="comment">/* update writePos for next word   */</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            _word = nextSite;              <span class="comment">/* set start pointer to next word  */</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                                           <span class="comment">/* get the next word               */</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            _wordLength = <a class="code" href="class_string_util.html#a908debd8e5ae6b0f38f2296c1ab7e565">StringUtil::nextWord</a>(&amp;_word, &amp;length, &amp;nextSite);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;            <span class="keywordflow">if</span> (_wordLength != 0)          <span class="comment">/* except for the last word        */</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;            {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                <a class="code" href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">setData</a>(writePos, padChar, padLength); <span class="comment">/* write padChar chars */</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                writePos += padLength;     <span class="comment">/* update writePos for next word   */</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                padInserted = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            }</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        }</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    }</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">if</span> (padInserted)</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    {</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        <span class="keywordflow">if</span> (!padIsASCII) this-&gt;<a class="code" href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">setIsASCII</a>(<span class="keyword">false</span>); <span class="comment">// no need to check again, we are sure it&#39;s not ASCII</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160; </div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;                           <span class="comment">/* return the mutable buffer       */</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;}</div>
<div class="ttc" id="a_activity_manager_8hpp_html_a4b24a98df9a8a5f6778c759ecf5d21b0"><div class="ttname"><a href="_activity_manager_8hpp.html#a4b24a98df9a8a5f6778c759ecf5d21b0">reportException</a></div><div class="ttdeci">void reportException(wholenumber_t error)</div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8hpp_source.html#l00139">ActivityManager.hpp:139</a></div></div>
<div class="ttc" id="a_buffer_class_8hpp_html_a4f06f6b50be63ac642946aede80c5a58"><div class="ttname"><a href="_buffer_class_8hpp.html#a4f06f6b50be63ac642946aede80c5a58">new_buffer</a></div><div class="ttdeci">RexxBuffer * new_buffer(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00126">BufferClass.hpp:126</a></div></div>
<div class="ttc" id="a_class_type_codes_8h_html_a9b8ca21e3e1d826b3a2be53bde5c6c02a2b81177d09ebfd69f753da8bedef8fb4"><div class="ttname"><a href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a2b81177d09ebfd69f753da8bedef8fb4">T_MutableBuffer</a></div><div class="ttdeci">@ T_MutableBuffer</div><div class="ttdef"><b>Definition:</b> <a href="_class_type_codes_8h_source.html#l00087">ClassTypeCodes.h:87</a></div></div>
<div class="ttc" id="a_integer_class_8hpp_html_abda515b90956d920c9d93b342771f06b"><div class="ttname"><a href="_integer_class_8hpp.html#abda515b90956d920c9d93b342771f06b">new_integer</a></div><div class="ttdeci">RexxInteger * new_integer(wholenumber_t v)</div><div class="ttdef"><b>Definition:</b> <a href="_integer_class_8hpp_source.html#l00200">IntegerClass.hpp:200</a></div></div>
<div class="ttc" id="a_mutable_buffer_class_8cpp_html_a4b4dd47f6f610b079af40c4b0f6874a4"><div class="ttname"><a href="_mutable_buffer_class_8cpp.html#a4b4dd47f6f610b079af40c4b0f6874a4">DEFAULT_BUFFER_LENGTH</a></div><div class="ttdeci">#define DEFAULT_BUFFER_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00069">MutableBufferClass.cpp:69</a></div></div>
<div class="ttc" id="a_mutable_buffer_class_8hpp_html"><div class="ttname"><a href="_mutable_buffer_class_8hpp.html">MutableBufferClass.hpp</a></div></div>
<div class="ttc" id="a_protected_object_8hpp_html"><div class="ttname"><a href="_protected_object_8hpp.html">ProtectedObject.hpp</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html"><div class="ttname"><a href="_rexx_core_8h.html">RexxCore.h</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a1174c27be62d7fb604dc8da41da45c52"><div class="ttname"><a href="_rexx_core_8h.html#a1174c27be62d7fb604dc8da41da45c52">optionalPadArgument</a></div><div class="ttdeci">codepoint_t optionalPadArgument(RexxObject *o, codepoint_t d, size_t p)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00370">RexxCore.h:370</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a181a36438ba4535dd7d22ab63239d1e1"><div class="ttname"><a href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a></div><div class="ttdeci">#define OREF_NULL</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00061">RexxCore.h:61</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a24d5273b1c34c509c259dab428f58217"><div class="ttname"><a href="_rexx_core_8h.html#a24d5273b1c34c509c259dab428f58217">stringArgument</a></div><div class="ttdeci">RexxString * stringArgument(RexxObject *object, RexxString *kind, size_t position)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00315">RexxCore.h:315</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a3527a3079ee71e7bc3b8636f13711351"><div class="ttname"><a href="_rexx_core_8h.html#a3527a3079ee71e7bc3b8636f13711351">ARG_FOUR</a></div><div class="ttdeci">const int ARG_FOUR</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00086">RexxCore.h:86</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a6186595f66d606ab8108eecb82f3d63e"><div class="ttname"><a href="_rexx_core_8h.html#a6186595f66d606ab8108eecb82f3d63e">ARG_THREE</a></div><div class="ttdeci">const int ARG_THREE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00085">RexxCore.h:85</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a67132b8a0d66e9b6e58899ecfee48fd4"><div class="ttname"><a href="_rexx_core_8h.html#a67132b8a0d66e9b6e58899ecfee48fd4">optionalPositive</a></div><div class="ttdeci">size_t optionalPositive(RexxObject *o, size_t d, RexxString *kind, size_t p)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00387">RexxCore.h:387</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a6891a93610348b439dd2f121a8b6b02d"><div class="ttname"><a href="_rexx_core_8h.html#a6891a93610348b439dd2f121a8b6b02d">OrefSet</a></div><div class="ttdeci">#define OrefSet(o, r, v)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00101">RexxCore.h:101</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a713339025a2128136bc45fe1699db8b1"><div class="ttname"><a href="_rexx_core_8h.html#a713339025a2128136bc45fe1699db8b1">TheTrueObject</a></div><div class="ttdeci">#define TheTrueObject</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00196">RexxCore.h:196</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a733862a4e1e5d1a218a6cf26238e57d1"><div class="ttname"><a href="_rexx_core_8h.html#a733862a4e1e5d1a218a6cf26238e57d1">ARG_TWO</a></div><div class="ttdeci">const int ARG_TWO</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00084">RexxCore.h:84</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a8e5a8afee36d288749ecd95ca5709003"><div class="ttname"><a href="_rexx_core_8h.html#a8e5a8afee36d288749ecd95ca5709003">optionalNonNegative</a></div><div class="ttdeci">size_t optionalNonNegative(RexxObject *o, size_t d, RexxString *kind, size_t p)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00382">RexxCore.h:382</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_aa07d222c9a8c6b2598cf238d7d042330"><div class="ttname"><a href="_rexx_core_8h.html#aa07d222c9a8c6b2598cf238d7d042330">optionalLengthArgument</a></div><div class="ttdeci">size_t optionalLengthArgument(RexxObject *o, size_t d, size_t p)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00355">RexxCore.h:355</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_ab021078f301aa1c1c2eb58460ee2392e"><div class="ttname"><a href="_rexx_core_8h.html#ab021078f301aa1c1c2eb58460ee2392e">optionalPositionArgument</a></div><div class="ttdeci">size_t optionalPositionArgument(RexxObject *o, size_t d, size_t p)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00363">RexxCore.h:363</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_ab2b6f2d4baaa56192825d47e225ea2f5"><div class="ttname"><a href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a></div><div class="ttdeci">#define TheFalseObject</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00195">RexxCore.h:195</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_acaa47d77e086aeec2a2ba0162af387b2"><div class="ttname"><a href="_rexx_core_8h.html#acaa47d77e086aeec2a2ba0162af387b2">ARG_ONE</a></div><div class="ttdeci">const int ARG_ONE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00083">RexxCore.h:83</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_ad988d2bf2a6f2cf10c7efde91eb966cc"><div class="ttname"><a href="_rexx_core_8h.html#ad988d2bf2a6f2cf10c7efde91eb966cc">optionalStringArgument</a></div><div class="ttdeci">RexxString * optionalStringArgument(RexxObject *o, RexxString *d, RexxString *kind, size_t p)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00340">RexxCore.h:340</a></div></div>
<div class="ttc" id="a_rexx_error_codes_8h_html_a33db0738cd87ec504a2bb4a1c3e240e7"><div class="ttname"><a href="_rexx_error_codes_8h.html#a33db0738cd87ec504a2bb4a1c3e240e7">Error_Incorrect_method_position</a></div><div class="ttdeci">#define Error_Incorrect_method_position</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_error_codes_8h_source.html#l00544">RexxErrorCodes.h:544</a></div></div>
<div class="ttc" id="a_rexx_error_codes_8h_html_ad1681cd44abeae37c9ecec26aae02ec4"><div class="ttname"><a href="_rexx_error_codes_8h.html#ad1681cd44abeae37c9ecec26aae02ec4">Error_Incorrect_method_length</a></div><div class="ttdeci">#define Error_Incorrect_method_length</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_error_codes_8h_source.html#l00543">RexxErrorCodes.h:543</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a10ca07add5704523d065b7f2d2637f7d"><div class="ttname"><a href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a></div><div class="ttdeci">#define memory_mark(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00450">RexxMemory.hpp:450</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a44c6760e82c805ec69688a682fb2d9da"><div class="ttname"><a href="_rexx_memory_8hpp.html#a44c6760e82c805ec69688a682fb2d9da">new_object</a></div><div class="ttdeci">RexxObject * new_object(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00436">RexxMemory.hpp:436</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a45f80ba16f04f487ccbdad6fe84602ed"><div class="ttname"><a href="_rexx_memory_8hpp.html#a45f80ba16f04f487ccbdad6fe84602ed">flatten_reference</a></div><div class="ttdeci">#define flatten_reference(oref, envel)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00498">RexxMemory.hpp:498</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_aba2cafd4a6d850f4e6c9e52313daf88c"><div class="ttname"><a href="_rexx_memory_8hpp.html#aba2cafd4a6d850f4e6c9e52313daf88c">CLASS_CREATE</a></div><div class="ttdeci">#define CLASS_CREATE(name, id, className)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00503">RexxMemory.hpp:503</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_ad740c29e8223b639f6f3fcbb910ce21a"><div class="ttname"><a href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a></div><div class="ttdeci">#define memory_mark_general(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00451">RexxMemory.hpp:451</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_ae08cb30e42b8369ad75710ff7defa70d"><div class="ttname"><a href="_rexx_memory_8hpp.html#ae08cb30e42b8369ad75710ff7defa70d">cleanUpFlatten</a></div><div class="ttdeci">#define cleanUpFlatten</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00484">RexxMemory.hpp:484</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_af339a57b7eca39790add6e6d712c2e95"><div class="ttname"><a href="_rexx_memory_8hpp.html#af339a57b7eca39790add6e6d712c2e95">setUpFlatten</a></div><div class="ttdeci">#define setUpFlatten(type)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00478">RexxMemory.hpp:478</a></div></div>
<div class="ttc" id="a_string_class_8hpp_html"><div class="ttname"><a href="_string_class_8hpp.html">StringClass.hpp</a></div></div>
<div class="ttc" id="a_string_class_8hpp_html_a540f85fd2f7445d342f05f6c8545e60a"><div class="ttname"><a href="_string_class_8hpp.html#a540f85fd2f7445d342f05f6c8545e60a">new_string</a></div><div class="ttdeci">RexxString * new_string(const char *s, stringsize_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00600">StringClass.hpp:600</a></div></div>
<div class="ttc" id="a_string_class_util_8cpp_html_a5a0f27206f3de8d9d4a77f123887a9e6"><div class="ttname"><a href="_string_class_util_8cpp.html#a5a0f27206f3de8d9d4a77f123887a9e6">positionArgument</a></div><div class="ttdeci">stringsize_t positionArgument(RexxObject *argument, size_t position)</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_util_8cpp_source.html#l00082">StringClassUtil.cpp:82</a></div></div>
<div class="ttc" id="a_string_class_util_8cpp_html_ad99e836b5f9f0de0b542646ec874b26d"><div class="ttname"><a href="_string_class_util_8cpp.html#ad99e836b5f9f0de0b542646ec874b26d">lengthArgument</a></div><div class="ttdeci">stringsize_t lengthArgument(RexxObject *argument, size_t position)</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_util_8cpp_source.html#l00058">StringClassUtil.cpp:58</a></div></div>
<div class="ttc" id="a_string_util_8hpp_html"><div class="ttname"><a href="_string_util_8hpp.html">StringUtil.hpp</a></div></div>
<div class="ttc" id="aclass_numerics_html_a41b8bad5e3cb91973bb6143388c98d3c"><div class="ttname"><a href="class_numerics.html#a41b8bad5e3cb91973bb6143388c98d3c">Numerics::MAX_WHOLENUMBER</a></div><div class="ttdeci">static const wholenumber_t MAX_WHOLENUMBER</div><div class="ttdef"><b>Definition:</b> <a href="_numerics_8hpp_source.html#l00062">Numerics.hpp:62</a></div></div>
<div class="ttc" id="aclass_numerics_html_aac02fbb41b0935849e10b1b2ff0f3268"><div class="ttname"><a href="class_numerics.html#aac02fbb41b0935849e10b1b2ff0f3268">Numerics::minVal</a></div><div class="ttdeci">static wholenumber_t minVal(wholenumber_t n1, wholenumber_t n2)</div><div class="ttdef"><b>Definition:</b> <a href="_numerics_8hpp_source.html#l00116">Numerics.hpp:116</a></div></div>
<div class="ttc" id="aclass_protected_object_html"><div class="ttname"><a href="class_protected_object.html">ProtectedObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_protected_object_8hpp_source.html#l00046">ProtectedObject.hpp:47</a></div></div>
<div class="ttc" id="aclass_rexx_array_html"><div class="ttname"><a href="class_rexx_array.html">RexxArray</a></div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00100">ArrayClass.hpp:100</a></div></div>
<div class="ttc" id="aclass_rexx_buffer_base_html_a59a841e9feadf958c48320e5c9bfc82b"><div class="ttname"><a href="class_rexx_buffer_base.html#a59a841e9feadf958c48320e5c9bfc82b">RexxBufferBase::setDataLength</a></div><div class="ttdeci">void setDataLength(size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00055">BufferClass.hpp:55</a></div></div>
<div class="ttc" id="aclass_rexx_buffer_base_html_a7ae83283dd07c9711f3481512ce08515"><div class="ttname"><a href="class_rexx_buffer_base.html#a7ae83283dd07c9711f3481512ce08515">RexxBufferBase::copyData</a></div><div class="ttdeci">void copyData(size_t offset, const char *string, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00057">BufferClass.hpp:57</a></div></div>
<div class="ttc" id="aclass_rexx_buffer_base_html_a82d626d98d1430bca4202143e1cb5cc3"><div class="ttname"><a href="class_rexx_buffer_base.html#a82d626d98d1430bca4202143e1cb5cc3">RexxBufferBase::getDataLength</a></div><div class="ttdeci">size_t getDataLength()</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00053">BufferClass.hpp:53</a></div></div>
<div class="ttc" id="aclass_rexx_buffer_html"><div class="ttname"><a href="class_rexx_buffer.html">RexxBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00101">BufferClass.hpp:102</a></div></div>
<div class="ttc" id="aclass_rexx_buffer_html_a509aff24d9b4e280f35b0beede789e6b"><div class="ttname"><a href="class_rexx_buffer.html#a509aff24d9b4e280f35b0beede789e6b">RexxBuffer::getData</a></div><div class="ttdeci">virtual char * getData()</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00115">BufferClass.hpp:115</a></div></div>
<div class="ttc" id="aclass_rexx_class_html"><div class="ttname"><a href="class_rexx_class.html">RexxClass</a></div><div class="ttdef"><b>Definition:</b> <a href="_class_class_8hpp_source.html#l00049">ClassClass.hpp:49</a></div></div>
<div class="ttc" id="aclass_rexx_class_html_a5307b434d0752d5e5712d6201cb88bcf"><div class="ttname"><a href="class_rexx_class.html#a5307b434d0752d5e5712d6201cb88bcf">RexxClass::checkAbstract</a></div><div class="ttdeci">void checkAbstract()</div><div class="ttdef"><b>Definition:</b> <a href="_class_class_8cpp_source.html#l01695">ClassClass.cpp:1695</a></div></div>
<div class="ttc" id="aclass_rexx_envelope_html"><div class="ttname"><a href="class_rexx_envelope.html">RexxEnvelope</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_envelope_8hpp_source.html#l00053">RexxEnvelope.hpp:54</a></div></div>
<div class="ttc" id="aclass_rexx_integer_html"><div class="ttname"><a href="class_rexx_integer.html">RexxInteger</a></div><div class="ttdef"><b>Definition:</b> <a href="_integer_class_8hpp_source.html#l00056">IntegerClass.hpp:56</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a154bb75847091becfebd0c3259a1a92c"><div class="ttname"><a href="class_rexx_internal_object.html#a154bb75847091becfebd0c3259a1a92c">RexxInternalObject::setBehaviour</a></div><div class="ttdeci">void setBehaviour(RexxBehaviour *b)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00284">ObjectClass.hpp:284</a></div></div>
<div class="ttc" id="aclass_rexx_internal_object_html_a721ec593555b3a0fbfc77945b462a147"><div class="ttname"><a href="class_rexx_internal_object.html#a721ec593555b3a0fbfc77945b462a147">RexxInternalObject::clone</a></div><div class="ttdeci">RexxObject * clone()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l02714">ObjectClass.cpp:2714</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_class_html_a5e7ad0e780cdf687882017aa390a229f"><div class="ttname"><a href="class_rexx_mutable_buffer_class.html#a5e7ad0e780cdf687882017aa390a229f">RexxMutableBufferClass::newRexx</a></div><div class="ttdeci">RexxMutableBuffer * newRexx(RexxObject **, size_t, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00072">MutableBufferClass.cpp:72</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html"><div class="ttname"><a href="class_rexx_mutable_buffer.html">RexxMutableBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00061">MutableBufferClass.hpp:61</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a05c8d0a63b69b0bb09fa062a13a838e6"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a05c8d0a63b69b0bb09fa062a13a838e6">RexxMutableBuffer::isASCIIRexx</a></div><div class="ttdeci">RexxInteger * isASCIIRexx()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00368">MutableBufferClass.cpp:368</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a08b92e6c2c9475e62d484d199e1927c3"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a08b92e6c2c9475e62d484d199e1927c3">RexxMutableBuffer::getLength</a></div><div class="ttdeci">size_t getLength()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00125">MutableBufferClass.hpp:125</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a0e59edbe4eb75a9de1b7fc33b7d2d916"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a0e59edbe4eb75a9de1b7fc33b7d2d916">RexxMutableBuffer::caselessLastPos</a></div><div class="ttdeci">RexxInteger * caselessLastPos(RexxString *needle, RexxInteger *_start, RexxInteger *_range)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00874">MutableBufferClass.cpp:874</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a13d13f463c148a06712fc3790662ceb4"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a13d13f463c148a06712fc3790662ceb4">RexxMutableBuffer::caselessChangeStr</a></div><div class="ttdeci">RexxMutableBuffer * caselessChangeStr(RexxString *needle, RexxString *newNeedle, RexxInteger *countArg)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01107">MutableBufferClass.cpp:1107</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a1756d1bf121dea75ed03532eb2bf16bd"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a1756d1bf121dea75ed03532eb2bf16bd">RexxMutableBuffer::translate</a></div><div class="ttdeci">RexxMutableBuffer * translate(RexxString *tableo, RexxString *tablei, RexxString *pad, RexxInteger *, RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01343">MutableBufferClass.cpp:1343</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a1be0d5df6a8a351427ab635324691a1f"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a1be0d5df6a8a351427ab635324691a1f">RexxMutableBuffer::defaultSize</a></div><div class="ttdeci">size_t defaultSize</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00179">MutableBufferClass.hpp:179</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a1fcc0633d9b66c4fed7525e79112d910"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a1fcc0633d9b66c4fed7525e79112d910">RexxMutableBuffer::appendCstring</a></div><div class="ttdeci">RexxMutableBuffer * appendCstring(const char *, size_t blength)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00396">MutableBufferClass.cpp:396</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a22a64dac2ae61208f5fbb4441b5b1006"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a22a64dac2ae61208f5fbb4441b5b1006">RexxMutableBuffer::closeGap</a></div><div class="ttdeci">void closeGap(size_t offset, size_t _size, size_t tailSize)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00132">MutableBufferClass.hpp:132</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a2473f3c9d56f5572f832fe982fcd0185"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a2473f3c9d56f5572f832fe982fcd0185">RexxMutableBuffer::primitiveCaselessMatch</a></div><div class="ttdeci">bool primitiveCaselessMatch(stringsize_t start, RexxString *other, stringsize_t offset, stringsize_t len)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01545">MutableBufferClass.cpp:1545</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a283c1f39157f0d83376cc35f350e8f44"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a283c1f39157f0d83376cc35f350e8f44">RexxMutableBuffer::getCapacity</a></div><div class="ttdeci">size_t getCapacity()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00137">MutableBufferClass.hpp:137</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a2ddb20438a8efb847522774618ba3d5a"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a2ddb20438a8efb847522774618ba3d5a">RexxMutableBuffer::subchar</a></div><div class="ttdeci">RexxString * subchar(RexxInteger *startPosition)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00903">MutableBufferClass.cpp:903</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a2e8f1d507df19b6516f6b047e8fe2e14"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a2e8f1d507df19b6516f6b047e8fe2e14">RexxMutableBuffer::setData</a></div><div class="ttdeci">void setData(size_t offset, codepoint_t character, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00134">MutableBufferClass.hpp:134</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a3133d12548551861128222304584b607"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a3133d12548551861128222304584b607">RexxMutableBuffer::openGap</a></div><div class="ttdeci">void openGap(size_t offset, size_t _size, size_t tailSize)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00131">MutableBufferClass.hpp:131</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a37b915e88ceabbb1562853e775682d63"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a37b915e88ceabbb1562853e775682d63">RexxMutableBuffer::setIsASCII</a></div><div class="ttdeci">void setIsASCII(bool value=true)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00155">MutableBufferClass.hpp:155</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a3e1e08ade6c844632265ddcf2aeb57fa"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a3e1e08ade6c844632265ddcf2aeb57fa">RexxMutableBuffer::mydelete</a></div><div class="ttdeci">RexxMutableBuffer * mydelete(RexxObject *, RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00671">MutableBufferClass.cpp:671</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a4061a7b653a714a03389a9f3f35f42fb"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a4061a7b653a714a03389a9f3f35f42fb">RexxMutableBuffer::subWords</a></div><div class="ttdeci">RexxArray * subWords(RexxInteger *, RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01682">MutableBufferClass.cpp:1682</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a469182dd6ac51ddfcc50266f8b44dee6"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a469182dd6ac51ddfcc50266f8b44dee6">RexxMutableBuffer::checkIsASCII</a></div><div class="ttdeci">bool checkIsASCII()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00358">MutableBufferClass.cpp:358</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a49d618a161bccb01a7200fa9801a96ac"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a49d618a161bccb01a7200fa9801a96ac">RexxMutableBuffer::changeStr</a></div><div class="ttdeci">RexxMutableBuffer * changeStr(RexxString *needle, RexxString *newNeedle, RexxInteger *countArg)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00955">MutableBufferClass.cpp:955</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a49e8adb4c0fca53b17088aefad3dc13a"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a49e8adb4c0fca53b17088aefad3dc13a">RexxMutableBuffer::liveGeneral</a></div><div class="ttdeci">void liveGeneral(int reason)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00219">MutableBufferClass.cpp:219</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a5466b50c4bb167f1349ed1a4ce9d7afa"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a5466b50c4bb167f1349ed1a4ce9d7afa">RexxMutableBuffer::verify</a></div><div class="ttdeci">RexxInteger * verify(RexxString *, RexxString *, RexxInteger *, RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01647">MutableBufferClass.cpp:1647</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a547d8ef734852ecdd02847329a4910de"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a547d8ef734852ecdd02847329a4910de">RexxMutableBuffer::isASCIIChecked</a></div><div class="ttdeci">bool isASCIIChecked()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00142">MutableBufferClass.hpp:142</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a57f3179def2dfc44fe05fc5ed0ce7986"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a57f3179def2dfc44fe05fc5ed0ce7986">RexxMutableBuffer::lower</a></div><div class="ttdeci">RexxMutableBuffer * lower(RexxInteger *_start, RexxInteger *_length)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01260">MutableBufferClass.cpp:1260</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a5972fc7e09b5222ac5709f5d1d0eecc3"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a5972fc7e09b5222ac5709f5d1d0eecc3">RexxMutableBuffer::createInstance</a></div><div class="ttdeci">static void createInstance()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00063">MutableBufferClass.cpp:63</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a5c0074e17b3f7f36b698261a6f55daf4"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a5c0074e17b3f7f36b698261a6f55daf4">RexxMutableBuffer::flatten</a></div><div class="ttdeci">void flatten(RexxEnvelope *envelope)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00229">MutableBufferClass.cpp:229</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a60f128ce01035738d2586977ea2ddda0"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a60f128ce01035738d2586977ea2ddda0">RexxMutableBuffer::getStringData</a></div><div class="ttdeci">const char * getStringData()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00124">MutableBufferClass.hpp:124</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a6b13707638bc2b55018aba7de68a606c"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a6b13707638bc2b55018aba7de68a606c">RexxMutableBuffer::dataLength</a></div><div class="ttdeci">size_t dataLength</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00180">MutableBufferClass.hpp:180</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a6ec852595502763b26cea75dd4129922"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a6ec852595502763b26cea75dd4129922">RexxMutableBuffer::append</a></div><div class="ttdeci">RexxMutableBuffer * append(RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00375">MutableBufferClass.cpp:375</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a74c1ef6290ec50e4f37fbbb2ff6a75c5"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a74c1ef6290ec50e4f37fbbb2ff6a75c5">RexxMutableBuffer::posRexx</a></div><div class="ttdeci">RexxInteger * posRexx(RexxString *needle, RexxInteger *_start, RexxInteger *_range)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00815">MutableBufferClass.cpp:815</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a7ad8181e76755aeb96c161bd26512beb"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a7ad8181e76755aeb96c161bd26512beb">RexxMutableBuffer::RexxMutableBuffer</a></div><div class="ttdeci">RexxMutableBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00147">MutableBufferClass.cpp:147</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a878dbeaaa25764c542a8718dc1b8bc03"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a878dbeaaa25764c542a8718dc1b8bc03">RexxMutableBuffer::space</a></div><div class="ttdeci">RexxMutableBuffer * space(RexxInteger *space_count, RexxString *pad)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01851">MutableBufferClass.cpp:1851</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a88b7e9df030e108d44b8dcf5fb7818ab"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a88b7e9df030e108d44b8dcf5fb7818ab">RexxMutableBuffer::bufferLength</a></div><div class="ttdeci">size_t bufferLength</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00178">MutableBufferClass.hpp:178</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a8b815993736fbb0d2830d407601d6087"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a8b815993736fbb0d2830d407601d6087">RexxMutableBuffer::delWord</a></div><div class="ttdeci">RexxMutableBuffer * delWord(RexxInteger *position, RexxInteger *plength)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01784">MutableBufferClass.cpp:1784</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a8ba86b7e8c85ae3b4d6cf6a7aa7e721f"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a8ba86b7e8c85ae3b4d6cf6a7aa7e721f">RexxMutableBuffer::wordPos</a></div><div class="ttdeci">RexxInteger * wordPos(RexxString *, RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01754">MutableBufferClass.cpp:1754</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a8dff6fda1d1d8003c4f4f1bcf6864f79"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a8dff6fda1d1d8003c4f4f1bcf6864f79">RexxMutableBuffer::primitiveMatch</a></div><div class="ttdeci">bool primitiveMatch(stringsize_t start, RexxString *other, stringsize_t offset, stringsize_t len)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01518">MutableBufferClass.cpp:1518</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a943fb472b01c90f177459f2784d2c0b6"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a943fb472b01c90f177459f2784d2c0b6">RexxMutableBuffer::setIsASCIIChecked</a></div><div class="ttdeci">void setIsASCIIChecked(bool value=true)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00143">MutableBufferClass.hpp:143</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a96dd4052a26561623923ed3d843e3370"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a96dd4052a26561623923ed3d843e3370">RexxMutableBuffer::setDataLength</a></div><div class="ttdeci">size_t setDataLength(size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00299">MutableBufferClass.cpp:299</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_a9eb6c7e293ee6973405d1d27a7dceae6"><div class="ttname"><a href="class_rexx_mutable_buffer.html#a9eb6c7e293ee6973405d1d27a7dceae6">RexxMutableBuffer::words</a></div><div class="ttdeci">RexxInteger * words()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01738">MutableBufferClass.cpp:1738</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aa6736ce0c83b528cdbb9830a11c928d6"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aa6736ce0c83b528cdbb9830a11c928d6">RexxMutableBuffer::caselessWordPos</a></div><div class="ttdeci">RexxInteger * caselessWordPos(RexxString *, RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01769">MutableBufferClass.cpp:1769</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aabc60d1b350a12607240c9cb3f0240f8"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aabc60d1b350a12607240c9cb3f0240f8">RexxMutableBuffer::setBufferLength</a></div><div class="ttdeci">RexxObject * setBufferLength(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00704">MutableBufferClass.cpp:704</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aabca08e8c66dccdfeb06a6a70aeebb61"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aabca08e8c66dccdfeb06a6a70aeebb61">RexxMutableBuffer::caselessMatch</a></div><div class="ttdeci">RexxInteger * caselessMatch(RexxInteger *start_, RexxString *other, RexxInteger *offset_, RexxInteger *len_)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01479">MutableBufferClass.cpp:1479</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aad5452cf3d71f438fe36e1bbeb2f2daf"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aad5452cf3d71f438fe36e1bbeb2f2daf">RexxMutableBuffer::upper</a></div><div class="ttdeci">RexxMutableBuffer * upper(RexxInteger *_start, RexxInteger *_length)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01301">MutableBufferClass.cpp:1301</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aadbb58b48c282e29d34e9d8340d13ca5"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aadbb58b48c282e29d34e9d8340d13ca5">RexxMutableBuffer::countStrRexx</a></div><div class="ttdeci">RexxInteger * countStrRexx(RexxString *needle)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00920">MutableBufferClass.cpp:920</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aadc9c9bbff8a57c101d5877e6993b945"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aadc9c9bbff8a57c101d5877e6993b945">RexxMutableBuffer::copy</a></div><div class="ttdeci">RexxObject * copy()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00242">MutableBufferClass.cpp:242</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aae58e528508266acd90811086ced074d"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aae58e528508266acd90811086ced074d">RexxMutableBuffer::matchChar</a></div><div class="ttdeci">RexxInteger * matchChar(RexxInteger *position_, RexxString *matchSet)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01572">MutableBufferClass.cpp:1572</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aaeac60c880f578821c15a74fa76dcfa6"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aaeac60c880f578821c15a74fa76dcfa6">RexxMutableBuffer::live</a></div><div class="ttdeci">void live(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00210">MutableBufferClass.cpp:210</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aaece76ea5106cff3eacf0be5a3752e0d"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aaece76ea5106cff3eacf0be5a3752e0d">RexxMutableBuffer::isASCII</a></div><div class="ttdeci">bool isASCII()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00154">MutableBufferClass.hpp:154</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aafc5bd1b0d5f58f68eb2d1f6c85f65ed"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aafc5bd1b0d5f58f68eb2d1f6c85f65ed">RexxMutableBuffer::copyData</a></div><div class="ttdeci">void copyData(size_t offset, const char *string, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00130">MutableBufferClass.hpp:130</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ab08ef7c1aee41dfd915273f440134b63"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ab08ef7c1aee41dfd915273f440134b63">RexxMutableBuffer::makeString</a></div><div class="ttdeci">RexxString * makeString()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00756">MutableBufferClass.cpp:756</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ab119a3c727dc9c1c0ef10014086f8ee3"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ab119a3c727dc9c1c0ef10014086f8ee3">RexxMutableBuffer::adjustGap</a></div><div class="ttdeci">void adjustGap(size_t offset, size_t _size, size_t _newSize)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00133">MutableBufferClass.hpp:133</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ab21d864a4fde02c4279e1bf89a7eed7e"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ab21d864a4fde02c4279e1bf89a7eed7e">RexxMutableBuffer::lengthRexx</a></div><div class="ttdeci">RexxObject * lengthRexx()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00352">MutableBufferClass.cpp:352</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ab2f9c701bc40e3cae7d4ff9e7b9c0352"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ab2f9c701bc40e3cae7d4ff9e7b9c0352">RexxMutableBuffer::caselessCountStrRexx</a></div><div class="ttdeci">RexxInteger * caselessCountStrRexx(RexxString *needle)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00933">MutableBufferClass.cpp:933</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aba3da18db57be5e33ff02e89400de63c"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aba3da18db57be5e33ff02e89400de63c">RexxMutableBuffer::makeArray</a></div><div class="ttdeci">RexxArray * makeArray()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00769">MutableBufferClass.cpp:769</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_abad8a33fb4e53f531727d9df9e0fbbd9"><div class="ttname"><a href="class_rexx_mutable_buffer.html#abad8a33fb4e53f531727d9df9e0fbbd9">RexxMutableBuffer::getData</a></div><div class="ttdeci">char * getData()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00129">MutableBufferClass.hpp:129</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_abdb185f26480b27fb79592e2371cb409"><div class="ttname"><a href="class_rexx_mutable_buffer.html#abdb185f26480b27fb79592e2371cb409">RexxMutableBuffer::wordLength</a></div><div class="ttdeci">RexxInteger * wordLength(RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01727">MutableBufferClass.cpp:1727</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ac02672326f2c5555d8509cb2f3d6db4e"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ac02672326f2c5555d8509cb2f3d6db4e">RexxMutableBuffer::wordIndex</a></div><div class="ttdeci">RexxInteger * wordIndex(RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01711">MutableBufferClass.cpp:1711</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ac5fd640052ada0108eebf00c89888c1b"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ac5fd640052ada0108eebf00c89888c1b">RexxMutableBuffer::setBufferSize</a></div><div class="ttdeci">RexxObject * setBufferSize(RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00746">MutableBufferClass.cpp:746</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ac6478046e1611c7eadb8110df9f7d79d"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ac6478046e1611c7eadb8110df9f7d79d">RexxMutableBuffer::classInstance</a></div><div class="ttdeci">static RexxClass * classInstance</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00175">MutableBufferClass.hpp:175</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ac7a8e1fd86063f2e57e53b7090b2315d"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ac7a8e1fd86063f2e57e53b7090b2315d">RexxMutableBuffer::ensureCapacity</a></div><div class="ttdeci">void ensureCapacity(size_t addedLength)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00261">MutableBufferClass.cpp:261</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ac86c2b3b9c85b512cb7dbd61935d40b5"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ac86c2b3b9c85b512cb7dbd61935d40b5">RexxMutableBuffer::lastPos</a></div><div class="ttdeci">RexxInteger * lastPos(RexxString *needle, RexxInteger *_start, RexxInteger *_range)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00832">MutableBufferClass.cpp:832</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_acad57c2b7866b030b497b4d4ccee63a8"><div class="ttname"><a href="class_rexx_mutable_buffer.html#acad57c2b7866b030b497b4d4ccee63a8">RexxMutableBuffer::overlay</a></div><div class="ttdeci">RexxMutableBuffer * overlay(RexxObject *, RexxObject *, RexxObject *, RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00503">MutableBufferClass.cpp:503</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_acc72bb7b6b07e3dba0b88171cf1af4d1"><div class="ttname"><a href="class_rexx_mutable_buffer.html#acc72bb7b6b07e3dba0b88171cf1af4d1">RexxMutableBuffer::caselessMatchChar</a></div><div class="ttdeci">RexxInteger * caselessMatchChar(RexxInteger *position_, RexxString *matchSet)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01609">MutableBufferClass.cpp:1609</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_acd7d96e5a2642b76d6e88bc960f46abf"><div class="ttname"><a href="class_rexx_mutable_buffer.html#acd7d96e5a2642b76d6e88bc960f46abf">RexxMutableBuffer::setCapacity</a></div><div class="ttdeci">char * setCapacity(size_t newLength)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00333">MutableBufferClass.cpp:333</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ad2c6bf2d25a96601085afb8e31c0e2be"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ad2c6bf2d25a96601085afb8e31c0e2be">RexxMutableBuffer::replaceAt</a></div><div class="ttdeci">RexxMutableBuffer * replaceAt(RexxObject *str, RexxObject *pos, RexxObject *len, RexxObject *pad)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00582">MutableBufferClass.cpp:582</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ad3f9c94784cd1c38c7c5cd31749c33db"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ad3f9c94784cd1c38c7c5cd31749c33db">RexxMutableBuffer::getCharB</a></div><div class="ttdeci">char getCharB(size_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00135">MutableBufferClass.hpp:135</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_add4c2dffe43169ca00352bce70dbdb21"><div class="ttname"><a href="class_rexx_mutable_buffer.html#add4c2dffe43169ca00352bce70dbdb21">RexxMutableBuffer::subWord</a></div><div class="ttdeci">RexxString * subWord(RexxInteger *, RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01662">MutableBufferClass.cpp:1662</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ade09625a624cf3a7aed82e8bbdcc5b2c"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ade09625a624cf3a7aed82e8bbdcc5b2c">RexxMutableBuffer::data</a></div><div class="ttdeci">RexxBuffer * data</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00183">MutableBufferClass.hpp:183</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_ae6fa43ad1760dd35f428b9888d421e68"><div class="ttname"><a href="class_rexx_mutable_buffer.html#ae6fa43ad1760dd35f428b9888d421e68">RexxMutableBuffer::primitiveMakeString</a></div><div class="ttdeci">RexxString * primitiveMakeString()</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00782">MutableBufferClass.cpp:782</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aee2722884c4d2adec2f1711b70ab2d23"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aee2722884c4d2adec2f1711b70ab2d23">RexxMutableBuffer::match</a></div><div class="ttdeci">RexxInteger * match(RexxInteger *start_, RexxString *other, RexxInteger *offset_, RexxInteger *len_)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01435">MutableBufferClass.cpp:1435</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_af0059bddafdc2f92c80ecca74fdbc723"><div class="ttname"><a href="class_rexx_mutable_buffer.html#af0059bddafdc2f92c80ecca74fdbc723">RexxMutableBuffer::caselessPos</a></div><div class="ttdeci">RexxInteger * caselessPos(RexxString *needle, RexxInteger *_start, RexxInteger *_range)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00848">MutableBufferClass.cpp:848</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_af55fc5a5d8d7ff384a9ae21749f91714"><div class="ttname"><a href="class_rexx_mutable_buffer.html#af55fc5a5d8d7ff384a9ae21749f91714">RexxMutableBuffer::word</a></div><div class="ttdeci">RexxString * word(RexxInteger *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l01696">MutableBufferClass.cpp:1696</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_af82c719fa8081378f90ca300034ea0b0"><div class="ttname"><a href="class_rexx_mutable_buffer.html#af82c719fa8081378f90ca300034ea0b0">RexxMutableBuffer::substr</a></div><div class="ttdeci">RexxString * substr(RexxInteger *startPosition, RexxInteger *len, RexxString *pad)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00797">MutableBufferClass.cpp:797</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_afc404b5a5afab3e935d158de39727b8d"><div class="ttname"><a href="class_rexx_mutable_buffer.html#afc404b5a5afab3e935d158de39727b8d">RexxMutableBuffer::setLength</a></div><div class="ttdeci">void setLength(size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8hpp_source.html#l00126">MutableBufferClass.hpp:126</a></div></div>
<div class="ttc" id="aclass_rexx_mutable_buffer_html_aff428e1357f8d6fadca2517e3cf49993"><div class="ttname"><a href="class_rexx_mutable_buffer.html#aff428e1357f8d6fadca2517e3cf49993">RexxMutableBuffer::insert</a></div><div class="ttdeci">RexxMutableBuffer * insert(RexxObject *, RexxObject *, RexxObject *, RexxObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_mutable_buffer_class_8cpp_source.html#l00417">MutableBufferClass.cpp:417</a></div></div>
<div class="ttc" id="aclass_rexx_object_html"><div class="ttname"><a href="class_rexx_object.html">RexxObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00335">ObjectClass.hpp:335</a></div></div>
<div class="ttc" id="aclass_rexx_object_html_a923d3513dca2e99c1f2341b25a210551"><div class="ttname"><a href="class_rexx_object.html#a923d3513dca2e99c1f2341b25a210551">RexxObject::sendMessage</a></div><div class="ttdeci">void sendMessage(RexxString *, RexxArray *, RexxDirectory *, ProtectedObject &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l00719">ObjectClass.cpp:719</a></div></div>
<div class="ttc" id="aclass_rexx_object_html_aa391a7ab1ef09e457d4df307df372d11"><div class="ttname"><a href="class_rexx_object.html#aa391a7ab1ef09e457d4df307df372d11">RexxObject::messageSend</a></div><div class="ttdeci">bool messageSend(RexxString *, RexxObject **, size_t, size_t, ProtectedObject &amp;, bool processUnknown=true, bool dynamicTarget=true)</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l00830">ObjectClass.cpp:830</a></div></div>
<div class="ttc" id="aclass_rexx_object_html_af191cb62a4a48edd91c62e1cdd5a9e83"><div class="ttname"><a href="class_rexx_object.html#af191cb62a4a48edd91c62e1cdd5a9e83">RexxObject::makeArrayRexx</a></div><div class="ttdeci">RexxObject * makeArrayRexx()</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8cpp_source.html#l02894">ObjectClass.cpp:2894</a></div></div>
<div class="ttc" id="aclass_rexx_string_html"><div class="ttname"><a href="class_rexx_string.html">RexxString</a></div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00122">StringClass.hpp:122</a></div></div>
<div class="ttc" id="aclass_rexx_string_html_a12dc92198dad915c6d9e9239dc773841"><div class="ttname"><a href="class_rexx_string.html#a12dc92198dad915c6d9e9239dc773841">RexxString::getLength</a></div><div class="ttdeci">size_t getLength()</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00341">StringClass.hpp:341</a></div></div>
<div class="ttc" id="aclass_rexx_string_html_a1edacb3c569e1fdaee61cc67c88f5007"><div class="ttname"><a href="class_rexx_string.html#a1edacb3c569e1fdaee61cc67c88f5007">RexxString::checkIsASCII</a></div><div class="ttdeci">bool checkIsASCII()</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8cpp_source.html#l01826">StringClass.cpp:1826</a></div></div>
<div class="ttc" id="aclass_rexx_string_html_a415b63389bdcfb493cb97cb4cf9daa6e"><div class="ttname"><a href="class_rexx_string.html#a415b63389bdcfb493cb97cb4cf9daa6e">RexxString::getStringData</a></div><div class="ttdeci">const char * getStringData()</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00344">StringClass.hpp:344</a></div></div>
<div class="ttc" id="aclass_rexx_string_html_ae4b2e4cb5504d9e09a3c478856abf0a2"><div class="ttname"><a href="class_rexx_string.html#ae4b2e4cb5504d9e09a3c478856abf0a2">RexxString::getChar</a></div><div class="ttdeci">char getChar(size_t p)</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00349">StringClass.hpp:349</a></div></div>
<div class="ttc" id="aclass_string_util_html_a11ed5ca7b19dfb1728f3e7d60adc7d4e"><div class="ttname"><a href="class_string_util.html#a11ed5ca7b19dfb1728f3e7d60adc7d4e">StringUtil::pos</a></div><div class="ttdeci">static size_t pos(const char *stringData, size_t haystack_length, RexxString *needle, size_t _start, size_t _range)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l00155">StringUtil.cpp:155</a></div></div>
<div class="ttc" id="aclass_string_util_html_a2f7c5edb81aa1100ba706419cd5c7213"><div class="ttname"><a href="class_string_util.html#a2f7c5edb81aa1100ba706419cd5c7213">StringUtil::caselessWordPos</a></div><div class="ttdeci">static RexxInteger * caselessWordPos(const char *data, size_t length, RexxString *phrase, RexxInteger *pstart)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01865">StringUtil.cpp:1865</a></div></div>
<div class="ttc" id="aclass_string_util_html_a313e632cebffd6a4ba5ef007160a8e46"><div class="ttname"><a href="class_string_util.html#a313e632cebffd6a4ba5ef007160a8e46">StringUtil::wordIndex</a></div><div class="ttdeci">static RexxInteger * wordIndex(const char *data, size_t length, RexxInteger *position)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01696">StringUtil.cpp:1696</a></div></div>
<div class="ttc" id="aclass_string_util_html_a39146304a18c83b9c331aff075da623c"><div class="ttname"><a href="class_string_util.html#a39146304a18c83b9c331aff075da623c">StringUtil::subWords</a></div><div class="ttdeci">static RexxArray * subWords(const char *data, size_t length, RexxInteger *position, RexxInteger *plength)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01571">StringUtil.cpp:1571</a></div></div>
<div class="ttc" id="aclass_string_util_html_a40087f5538fc770d738dcf01a9496d73"><div class="ttname"><a href="class_string_util.html#a40087f5538fc770d738dcf01a9496d73">StringUtil::checkIsASCII</a></div><div class="ttdeci">static bool checkIsASCII(const char *s, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01969">StringUtil.cpp:1969</a></div></div>
<div class="ttc" id="aclass_string_util_html_a4edd7b3ec383cd81fbce8bf4161cd17d"><div class="ttname"><a href="class_string_util.html#a4edd7b3ec383cd81fbce8bf4161cd17d">StringUtil::memPos</a></div><div class="ttdeci">static size_t memPos(const char *string, size_t length, char target)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01399">StringUtil.cpp:1399</a></div></div>
<div class="ttc" id="aclass_string_util_html_a501c5cbea393f2c6b7afd2c92e9c17ab"><div class="ttname"><a href="class_string_util.html#a501c5cbea393f2c6b7afd2c92e9c17ab">StringUtil::skipBlanks</a></div><div class="ttdeci">static void skipBlanks(const char **String, size_t *StringLength)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01235">StringUtil.cpp:1235</a></div></div>
<div class="ttc" id="aclass_string_util_html_a5bda2517ffbaf0c734aac908dbc9afd9"><div class="ttname"><a href="class_string_util.html#a5bda2517ffbaf0c734aac908dbc9afd9">StringUtil::caselessLastPos</a></div><div class="ttdeci">static size_t caselessLastPos(const char *stringData, size_t haystackLen, RexxString *needle, size_t _start, size_t range)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l00360">StringUtil.cpp:360</a></div></div>
<div class="ttc" id="aclass_string_util_html_a65bf9d9a8837de2fe0be79d7242f6cee"><div class="ttname"><a href="class_string_util.html#a65bf9d9a8837de2fe0be79d7242f6cee">StringUtil::wordCount</a></div><div class="ttdeci">static size_t wordCount(const char *String, size_t StringLength)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01294">StringUtil.cpp:1294</a></div></div>
<div class="ttc" id="aclass_string_util_html_a74b2f973365e5616c8a55bbdc5e86114"><div class="ttname"><a href="class_string_util.html#a74b2f973365e5616c8a55bbdc5e86114">StringUtil::subWord</a></div><div class="ttdeci">static RexxString * subWord(const char *data, size_t length, RexxInteger *position, RexxInteger *plength)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01517">StringUtil.cpp:1517</a></div></div>
<div class="ttc" id="aclass_string_util_html_a7b9cc1f9f5c1fcfa3abe0c78aaae16a1"><div class="ttname"><a href="class_string_util.html#a7b9cc1f9f5c1fcfa3abe0c78aaae16a1">StringUtil::caselessCompare</a></div><div class="ttdeci">static int caselessCompare(const char *, const char *, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l00580">StringUtil.cpp:580</a></div></div>
<div class="ttc" id="aclass_string_util_html_a82a411fff5233037bed4f4ba542eddd5"><div class="ttname"><a href="class_string_util.html#a82a411fff5233037bed4f4ba542eddd5">StringUtil::lastPosRexx</a></div><div class="ttdeci">static RexxInteger * lastPosRexx(const char *stringData, size_t haystackLen, RexxString *needle, RexxInteger *_start, RexxInteger *_range)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l00255">StringUtil.cpp:255</a></div></div>
<div class="ttc" id="aclass_string_util_html_a8fde90467591b29e70bb76dfcfc1dc97"><div class="ttname"><a href="class_string_util.html#a8fde90467591b29e70bb76dfcfc1dc97">StringUtil::caselessPos</a></div><div class="ttdeci">static size_t caselessPos(const char *stringData, size_t haystack_length, RexxString *needle, size_t _start, size_t _range)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l00205">StringUtil.cpp:205</a></div></div>
<div class="ttc" id="aclass_string_util_html_a908debd8e5ae6b0f38f2296c1ab7e565"><div class="ttname"><a href="class_string_util.html#a908debd8e5ae6b0f38f2296c1ab7e565">StringUtil::nextWord</a></div><div class="ttdeci">static size_t nextWord(const char **String, size_t *StringLength, const char **NextString)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01329">StringUtil.cpp:1329</a></div></div>
<div class="ttc" id="aclass_string_util_html_a93c7151c23c92b3e739724212fa8712e"><div class="ttname"><a href="class_string_util.html#a93c7151c23c92b3e739724212fa8712e">StringUtil::wordPos</a></div><div class="ttdeci">static RexxInteger * wordPos(const char *data, size_t length, RexxString *phrase, RexxInteger *pstart)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01759">StringUtil.cpp:1759</a></div></div>
<div class="ttc" id="aclass_string_util_html_aa6b6ba44dcfe0c4c87e21736300ece05"><div class="ttname"><a href="class_string_util.html#aa6b6ba44dcfe0c4c87e21736300ece05">StringUtil::wordLength</a></div><div class="ttdeci">static RexxInteger * wordLength(const char *data, size_t length, RexxInteger *position)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01730">StringUtil.cpp:1730</a></div></div>
<div class="ttc" id="aclass_string_util_html_aa9078547e73b8e1c5e3dd4170fd02d88"><div class="ttname"><a href="class_string_util.html#aa9078547e73b8e1c5e3dd4170fd02d88">StringUtil::makearray</a></div><div class="ttdeci">static RexxArray * makearray(const char *start, size_t length, RexxString *separator)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l00493">StringUtil.cpp:493</a></div></div>
<div class="ttc" id="aclass_string_util_html_ab395c7d8506b888db33f85ed9759d830"><div class="ttname"><a href="class_string_util.html#ab395c7d8506b888db33f85ed9759d830">StringUtil::countStr</a></div><div class="ttdeci">static size_t countStr(const char *hayStack, size_t hayStackLength, RexxString *needle)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01359">StringUtil.cpp:1359</a></div></div>
<div class="ttc" id="aclass_string_util_html_ab8cee7c7f2128ef0b2f11c58473f8388"><div class="ttname"><a href="class_string_util.html#ab8cee7c7f2128ef0b2f11c58473f8388">StringUtil::caselessCountStr</a></div><div class="ttdeci">static size_t caselessCountStr(const char *hayStack, size_t hayStackLength, RexxString *needle)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01384">StringUtil.cpp:1384</a></div></div>
<div class="ttc" id="aclass_string_util_html_ac12cfc6561008f16f49494cebac79403"><div class="ttname"><a href="class_string_util.html#ac12cfc6561008f16f49494cebac79403">StringUtil::verify</a></div><div class="ttdeci">static RexxInteger * verify(const char *data, size_t stringLen, RexxString *ref, RexxString *option, RexxInteger *_start, RexxInteger *range)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01432">StringUtil.cpp:1432</a></div></div>
<div class="ttc" id="aclass_string_util_html_ac7531b0494c3a359b4642153a372cd77"><div class="ttname"><a href="class_string_util.html#ac7531b0494c3a359b4642153a372cd77">StringUtil::word</a></div><div class="ttdeci">static RexxString * word(const char *data, size_t length, RexxInteger *position)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l01629">StringUtil.cpp:1629</a></div></div>
<div class="ttc" id="aclass_string_util_html_ad7e688c33e529b01da2a62abde4ca967"><div class="ttname"><a href="class_string_util.html#ad7e688c33e529b01da2a62abde4ca967">StringUtil::subchar</a></div><div class="ttdeci">static RexxString * subchar(const char *stringData, size_t stringLength, RexxInteger *positionArg)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l00442">StringUtil.cpp:442</a></div></div>
<div class="ttc" id="aclass_string_util_html_ae3e80b266802c9a86a874811db463954"><div class="ttname"><a href="class_string_util.html#ae3e80b266802c9a86a874811db463954">StringUtil::substr</a></div><div class="ttdeci">static RexxString * substr(const char *, size_t, RexxInteger *, RexxInteger *, RexxString *)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l00066">StringUtil.cpp:66</a></div></div>
<div class="ttc" id="aclass_string_util_html_af9604e4155aff50c4339629ec7222b3d"><div class="ttname"><a href="class_string_util.html#af9604e4155aff50c4339629ec7222b3d">StringUtil::posRexx</a></div><div class="ttdeci">static RexxInteger * posRexx(const char *stringData, size_t length, RexxString *needle, RexxInteger *pstart, RexxInteger *range)</div><div class="ttdef"><b>Definition:</b> <a href="_string_util_8cpp_source.html#l00130">StringUtil.cpp:130</a></div></div>
<div class="ttc" id="arexx_8h_html_a65b60b72458a1b750671d8a23c424dd0"><div class="ttname"><a href="rexx_8h.html#a65b60b72458a1b750671d8a23c424dd0">codepoint_t</a></div><div class="ttdeci">ssize_t codepoint_t</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00232">rexx.h:232</a></div></div>
<div class="ttc" id="arexx_8h_html_aebaaee111319541a721e954c64e4423c"><div class="ttname"><a href="rexx_8h.html#aebaaee111319541a721e954c64e4423c">stringsize_t</a></div><div class="ttdeci">size_t stringsize_t</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00228">rexx.h:228</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b8d323c7289fed1299e6f1b6909d41b.html">oorexx</a></li><li class="navelem"><a class="el" href="dir_8b29bd360d363874c010699c0e4edfe4.html">executor</a></li><li class="navelem"><a class="el" href="dir_b12c9cdd073ecc75d378afe044a8807c.html">sandbox</a></li><li class="navelem"><a class="el" href="dir_6f8e204b311fad1e21be914fb6af8fc9.html">jlf</a></li><li class="navelem"><a class="el" href="dir_4796bfee7d29ff8f3ba63e631cf48035.html">trunk</a></li><li class="navelem"><a class="el" href="dir_568b253ddbf98cea92a6c65945d41c59.html">interpreter</a></li><li class="navelem"><a class="el" href="dir_9c0629a057c47d09e79c8c4edc7e27b5.html">classes</a></li><li class="navelem"><a class="el" href="_mutable_buffer_class_8cpp.html">MutableBufferClass.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<!-- javascript code to insert the title in the condensed index (tabs) -->
<!-- See the function initMenu in menu.js:
     The condensed index is a list <ul> of several items <li>: Main Page, Classes, Files.
     I append a new item <li> which display the project name. -->
<script type="text/javascript">
$(function() {
  $('#main-menu').append('<li class="title" style="margin-left:3mm">executor.master</li>')
});
</script>
<!-- end of javascript code -->
</body>
</html>
