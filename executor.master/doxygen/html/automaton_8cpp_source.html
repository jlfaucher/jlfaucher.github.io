<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>executor.master: automaton.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!--
    Removed completely the TITLEAREA because I don't like the loss of space.
    I want the title in the condensed index (tabs) at top of each HTML page.
    The insertion of the title is managed by javascript code in the footer,
    because this code must be executed AFTER the creation of the condensed index.
    Must have this setting to display the condensed index:
    DISABLE_INDEX = NO
-->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('automaton_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">automaton.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="automaton_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* Copyright (c) 1995, 2004 IBM Corporation. All rights reserved.             */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/* Copyright (c) 2005-2017 Rexx Language Association. All rights reserved.    */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/* This program and the accompanying materials are made available under       */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/* the terms of the Common Public License v1.0 which accompanies this         */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/* distribution. A copy is also available at the following address:           */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/* https://www.oorexx.org/license.html                         */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/* Redistribution and use in source and binary forms, with or                 */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* without modification, are permitted provided that the following            */</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/* conditions are met:                                                        */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/* Redistributions of source code must retain the above copyright             */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer.              */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* Redistributions in binary form must reproduce the above copyright          */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer in            */</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/* the documentation and/or other materials provided with the distribution.   */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/* Neither the name of Rexx Language Association nor the names                */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* of its contributors may be used to endorse or promote products             */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/* derived from this software without specific prior written permission.      */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS        */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT          */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS          */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/* FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT   */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,      */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED   */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/* TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,        */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY     */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING    */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS         */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.               */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/* Object REXX Support                                         automaton.cpp  */</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/* Regular Expression Utility functions                                       */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="automaton_8hpp.html">automaton.hpp</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="regexp_8hpp.html">regexp.hpp</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//#define MYDEBUG</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// constructor: initialize automaton</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classautomaton.html#a272dc862222cf7f19c8852ca9b0917df">   53</a></span>&#160;<a class="code" href="classautomaton.html#a272dc862222cf7f19c8852ca9b0917df">automaton::automaton</a>() : ch(NULL), next1(NULL), next2(NULL), final(-1), regexp(NULL),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                         setArray(NULL), setSize(0), size(16), freeState(1), currentPos(0), minimal(false)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">int</span> bytes = <span class="keyword">sizeof</span>(int)*<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>    = (<span class="keywordtype">int</span>*) malloc(bytes);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a> = (<span class="keywordtype">int</span>*) malloc(bytes);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a> = (<span class="keywordtype">int</span>*) malloc(bytes);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">// destructor: free memory</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classautomaton.html#a7e33ef6ee9390af2795a1e4f76077354">   64</a></span>&#160;<a class="code" href="classautomaton.html#a7e33ef6ee9390af2795a1e4f76077354">automaton::~automaton</a>()</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        free(<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        free(<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        free(<a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>;i++)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            free(<a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>[i]);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        free(<a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/*************************************************************/</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">/* automaton::setMinimal                                     */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/*                                                           */</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/* make the automaton match minimal or maximal               */</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/* this influences the state machine.                        */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">/*************************************************************/</span></div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classautomaton.html#afbffc8f64f306cd96f2b39a1553f09ae">   90</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classautomaton.html#afbffc8f64f306cd96f2b39a1553f09ae">automaton::setMinimal</a>(<span class="keywordtype">bool</span> f)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span> (f != this-&gt;<a class="code" href="classautomaton.html#a60a2dff2566ed1ad7dbd19d8c8795eaf">minimal</a>)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<span class="keyword">final</span> != -1)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="keywordflow">if</span> (f == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(this-&gt;<span class="keyword">final</span>, 0x00, this-&gt;<span class="keyword">final</span>+1, this-&gt;<span class="keyword">final</span>+1);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(this-&gt;<span class="keyword">final</span>, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, <a class="code" href="regexp_8hpp.html#a734579b908509b57151ac02b946056d1">EOP</a>, <a class="code" href="regexp_8hpp.html#a734579b908509b57151ac02b946056d1">EOP</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        this-&gt;<a class="code" href="classautomaton.html#a60a2dff2566ed1ad7dbd19d8c8795eaf">minimal</a> = f;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">/*************************************************************/</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">/* automaton::parse                                          */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/*                                                           */</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/* creates the automaton from the regular expression. if an  */</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">/* error occurs during parsing, the error number is returned */</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">/* and the automaton will match any pattern.                 */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/* parsing is recursive.                                     */</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">/*************************************************************/</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">We parse a regular expression pattern to create a finite-state</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">machine (FSM) that later match() can use to efficiently determine</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">whether a string matches the pattern or not.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">The FSM&#39;s main part are three arrays, where the array index is the</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">state number.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">  ch[]    holds one of the following:</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">          a specific character which this state must consume</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">          EPSILON, indicating that this state doesn&#39;t consume a character</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">          ANY, indicating that this state consumes any character</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">          SET, indicating that this state consumes a character from a set</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">  next1[] the state to transition to for the next step</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">  next2[] if next2[] is not equal to next1[], it specifies an alternative</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">          state to transition to</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">  freeState keeps track of the first yet unused state.  </span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">  setState() is used to set a new or modify an existing state.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">Parsing is done in a single pass.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">Here&#39;s an example.  After parsing the pattern &quot;ABC&quot;, the FSM will look</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">like this:</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">state   ch      next1   next2</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">0       eps     1</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">1       A       2</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">2       B       3</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">3       C       4</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">Starting in state 0, we transition to state 1 without consuming anything.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">In state 1 we consume &quot;A&quot; and transition to state 2.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">In state 2 we consume &quot;B&quot; and transition to state 3.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">In state 3 we consume the final &quot;C&quot;, and transition to the terminal state 4.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">Now let&#39;s see what happens if we change the pattern to e. g. &quot;ABC*&quot;.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">Having parsed &quot;ABC&quot;, the FSM is as shown above.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">When the parser sees the asterisk, it will modify the FSM as follows</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">(see factor() function, block regexp[currentPos] == &#39;*&#39;):</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">(1)     setState(freeState, EPSILON, freeState+1, t2);</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">(2)     next1[t1-1] = freeState;</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">(1) adds a new epsilon-state that allows to either transition to the new</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">terminal state (freeState+1), or to the start of the last expression, which</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">in our example is state 3, which consumes &quot;C&quot;.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">(2) modifies the existing state t1-1, the state before our last expression,</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">in our case state 2, consuming &quot;B&quot;, to alternatively transition to state 4. </span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">state   ch      next1   next2</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">0       eps     1</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">1       A       2</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">2       B       4       3</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">3       C       4</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">4       eps     5       3</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">Following the state transitions, we find that this will - as expected -</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">allow AB, ABC, ABCC, ABCCC.. to be successfully matched.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">Parsing is done (roughly) according to this regular expression BNF:</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">   expression ::= term | term &quot;|&quot; expression</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">   term ::= factor | factor term</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">   factor ::= atom | atom metacharacter</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">   atom ::= &quot;?&quot; | &quot;[&quot; set &quot;]&quot; | &quot;(&quot; expression &quot;)&quot; | character </span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">   metacharacter ::= &quot;*&quot; | &quot;+&quot; | &quot;{&quot; times &quot;}&quot;</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classautomaton.html#aad114b2cf57b397c09c3731b0a6f2d2a">  191</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classautomaton.html#aad114b2cf57b397c09c3731b0a6f2d2a">automaton::parse</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *regexp)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordtype">int</span> temp;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    this-&gt;regexp = <a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a> = 0;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>  = 1;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    memset(<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>,    0x00, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    memset(<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>, 0x00, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    memset(<a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a>, 0x00, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)*<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>;i++)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            free(<a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>[i]);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        free(<a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a> = 0;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a> = NULL;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">// parse expression recursively by splitting it up</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        temp = <a class="code" href="classautomaton.html#a2f0e4fb6c068dfc681972026d43d5526">expression</a>();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="comment">// using a temporary place to store the start state</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="comment">// is needed since next1 may change during reallocation</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[0] = temp;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">catch</span> (<a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03">RE_ERROR</a> err)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        this-&gt;regexp = NULL;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="comment">// an error occured!</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(0, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, 0, 0);  <span class="comment">// make automaton match anything</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">return</span>(<span class="keywordtype">int</span>) err;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// set start state</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(0, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[0], <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[0]);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    this-&gt;<span class="keyword">final</span> = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a60a2dff2566ed1ad7dbd19d8c8795eaf">minimal</a> == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="comment">// zero-terminate the expression...</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, 0x00, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">// this ends the pattern, but we need a dummy</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="comment">// show the regexp be switched between min and max matching</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, <a class="code" href="regexp_8hpp.html#a734579b908509b57151ac02b946056d1">EOP</a>, <a class="code" href="regexp_8hpp.html#a734579b908509b57151ac02b946056d1">EOP</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// ...and set epsilon transition to end state</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, <a class="code" href="regexp_8hpp.html#a734579b908509b57151ac02b946056d1">EOP</a>, <a class="code" href="regexp_8hpp.html#a734579b908509b57151ac02b946056d1">EOP</a>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">// in debug mode, print out the automaton</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#ifdef MYDEBUG</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    printf(<span class="stringliteral">&quot;state\tch\tnext1\tnext2\n&quot;</span>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a> &amp;&amp; <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[i] != <a class="code" href="regexp_8hpp.html#a734579b908509b57151ac02b946056d1">EOP</a>;i++)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[i] &lt; 32000)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            printf(<span class="stringliteral">&quot;%d\t&quot;</span>,i);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[i] &amp; <a class="code" href="regexp_8hpp.html#a7b114f85cab70531adc738c2e499df6a">SCAN</a>)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="regexp_8hpp.html#a756cb5435a9a4479ee2066ab9da0dbae">ANY</a>:</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                    printf(<span class="stringliteral">&quot;any\t&quot;</span>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="regexp_8hpp.html#a59da1d65e87a723efe808dbabb4fc205">SET</a>:</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                    printf(<span class="stringliteral">&quot;set %d\t&quot;</span>,(<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[i] &amp; 0x0fff0000) &gt;&gt; 16);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="regexp_8hpp.html#a59da1d65e87a723efe808dbabb4fc205">SET</a>|<a class="code" href="regexp_8hpp.html#ad3e9fe0ec59d2dbb3982ababa042720c">NOT</a>:</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    printf(<span class="stringliteral">&quot;nset %d\t&quot;</span>,(<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[i] &amp; 0x0fff0000) &gt;&gt; 16);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>:</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    printf(<span class="stringliteral">&quot;eps\t&quot;</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    printf(<span class="stringliteral">&quot;%c\t&quot;</span>,<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[i]);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[i] != <a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a>[i])</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                printf(<span class="stringliteral">&quot;%d\t%d\n&quot;</span>,<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[i],<a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a>[i]);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                printf(<span class="stringliteral">&quot;%d\n&quot;</span>,<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[i]);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    this-&gt;regexp = NULL;  <span class="comment">// contents only guaranteed during</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                          <span class="comment">// runtime of this method</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">/***********************************************************/</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">/* automaton::letter                                       */</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/*                                                         */</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">/* check if the given character is a letter or a operator. */</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">/***********************************************************/</span></div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classautomaton.html#a7e18446cec1c93ba66c3bf5c62d1483b">  293</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classautomaton.html#a7e18446cec1c93ba66c3bf5c62d1483b">automaton::letter</a>(<span class="keywordtype">int</span> c)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">switch</span> (c) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;(&#39;</span>:</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;)&#39;</span>:</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;{&#39;</span>:</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;}&#39;</span>:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;|&#39;</span>:</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>:</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;+&#39;</span>:</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;[&#39;</span>:</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;]&#39;</span>:</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">//case &#39;?&#39;:</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordflow">case</span> 0x00:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    r=0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    r=1;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">/**************************************************************/</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">/* automaton::expression                                      */</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">/*                                                            */</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">/* expression ::= term | term &quot;|&quot; expression                  */</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">/*                                                            */</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">/* dissect expression into smaller parts (expression =&gt; term) */</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">/* and insert fitting states into the automaton.              */</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">/**************************************************************/</span></div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classautomaton.html#a2f0e4fb6c068dfc681972026d43d5526">  325</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classautomaton.html#a2f0e4fb6c068dfc681972026d43d5526">automaton::expression</a>()</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">int</span> t1, t2;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    t1 = <a class="code" href="classautomaton.html#ab910003eef744e394fa984b357e999fe">term</a>();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    r = t1;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// is the current character an &#39;or&#39; operator?</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>] == <span class="charliteral">&#39;|&#39;</span>)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        r = t2 = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="comment">// set epsilon transitions, evaluate right expression</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="comment">// (left one has already been processed at this point)</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(t2, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, <a class="code" href="classautomaton.html#a2f0e4fb6c068dfc681972026d43d5526">expression</a>(), t1);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(t2-1, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(t1-1, <a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[t1-1], t2, <a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a>[t1-1]);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">/*********************************/</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">/* automaton::term               */</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">/*                               */</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">/* term ::= factor | factor term */</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">/*                               */</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">/* parse a term.                 */</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/*********************************/</span></div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classautomaton.html#ab910003eef744e394fa984b357e999fe">  355</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classautomaton.html#ab910003eef744e394fa984b357e999fe">automaton::term</a>()</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    r = <a class="code" href="classautomaton.html#aee4530dc29cab926facfc5bde8bca2af">factor</a>();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// another term following?</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> ( (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>] == <span class="charliteral">&#39;(&#39;</span>) ||</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;         (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>] == <span class="charliteral">&#39;[&#39;</span>) ||</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          <a class="code" href="classautomaton.html#a7e18446cec1c93ba66c3bf5c62d1483b">letter</a>(<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>]))</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <a class="code" href="classautomaton.html#ab910003eef744e394fa984b357e999fe">term</a>();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/***************************************************************/</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">/* automaton::factor                                           */</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">/*                                                             */</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">/* factor ::= atom | atom metacharacter                        */</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">/*                                                             */</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">/* atom ::= &quot;?&quot; | &quot;[&quot; set &quot;]&quot; | &quot;(&quot; expression &quot;)&quot; | character */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">/*                                                             */</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">/* metacharacter ::= &quot;*&quot; | &quot;+&quot; | &quot;{&quot; times &quot;}&quot;                 */</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">/*                                                             */</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">/* create new states for the automaton according to meaning of */</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">/* single characters.                                          */</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">/* known operators are &#39;?&#39;, &#39;\&#39;, &#39;[&#39;, &#39;(&#39;, &#39;{&#39;, &#39;*&#39;, &#39;+&#39;       */</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">/*                                                             */</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">/* returns the start state for this factor                     */</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">/***************************************************************/</span></div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="classautomaton.html#aee4530dc29cab926facfc5bde8bca2af">  387</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classautomaton.html#aee4530dc29cab926facfc5bde8bca2af">automaton::factor</a>()</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;{</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">int</span> t1, t2;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    t1 = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>])</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="comment">// match any single character</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;?&#39;</span>:</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="comment">// consume any character and transition to the following state</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="regexp_8hpp.html#a756cb5435a9a4479ee2066ab9da0dbae">ANY</a>, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            r = t2 = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <span class="comment">// escape operator, use next character literally</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;\\&#39;</span>:</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>] == 0x00) <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03a0f546d14f8c23f69d8391f2b91be33da">E_UNEXPECTED_EOP</a>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="comment">// consume the current character and transition to the following state</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>], <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            t2 = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="comment">// set definition</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;[&#39;</span>:</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            t2 = <a class="code" href="classautomaton.html#a1876a03373fb8600f220e8a509effe03">set</a>();</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>] == <span class="charliteral">&#39;]&#39;</span>) <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03af8fe51852d2729d26708946d7c55e79f">E_ILLEGAL_SET</a>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="comment">// an expression in parenthesis</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;(&#39;</span>:</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;              <span class="comment">// step over &quot;(&quot;</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="comment">// parenthesis need an extra leading epsilon transition so that | works correctly</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;               <span class="comment">// reserve space for leading epsilon transition</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            t2 = <a class="code" href="classautomaton.html#a2f0e4fb6c068dfc681972026d43d5526">expression</a>();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(t1, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, t2, t2);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="comment">// we also require an extra closing epsilon transition to make &quot;(A|B)x*&quot; work</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a> + 1, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a> + 1);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>] == <span class="charliteral">&#39;)&#39;</span>) <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03aba48ec67c3ab41f2f3800b45f913ca65">E_MISSING_PAREN_CLOSE</a>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="comment">// only a letter is valid at this position</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a7e18446cec1c93ba66c3bf5c62d1483b">letter</a>(<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>]))</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <span class="comment">// consume the letter and transition to the following state</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>], <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                t2 = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03a87ddf213c6ba9335a8c566d6b9e305c8">E_UNEXPECTED_SYMBOL</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">// the next statements are left out of the switch-block because</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// they are all postfix operators.</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">// if they are used without operands, E_UNEXPECTED_SYMBOL is</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">// caused in the switch-block</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">// match previous expression zero or more times</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>] == <span class="charliteral">&#39;*&#39;</span>)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1, t2);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        r = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[t1-1] = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">// match previous expression one or more times</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>] == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="comment">// consume the letter and transition to the following state</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, t1, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        r = t1;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>++;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// match previous expression exactly n times</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>] == <span class="charliteral">&#39;{&#39;</span>)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordtype">char</span> stringBuffer[64];</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordtype">int</span> tempPos = <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>+1;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordtype">int</span> j,k, <a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordtype">bool</span> orExpression = t1!=t2;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        r = t2;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="comment">// get n</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[tempPos] &amp;&amp; <a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[tempPos] != <span class="charliteral">&#39;}&#39;</span>)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            stringBuffer[i] = <a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[tempPos];</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            tempPos++;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">if</span> (i&lt;62) i++;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>[tempPos] == 0x00)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03a0f546d14f8c23f69d8391f2b91be33da">E_UNEXPECTED_EOP</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        stringBuffer[i] = 0x00;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        i = atoi(stringBuffer) - 1;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">if</span> (i &lt;= 0)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;           <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03afd97b610fcdbfcd001ab7ee05ee50b30">E_ILLEGAL_NUMBER</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="comment">// the previous expression will be copied and insert</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="comment">// n times into the automaton</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a> = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a> - t1;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">if</span> (orExpression)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>++;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">while</span> (i--)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            k = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">if</span> (orExpression)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                t2 += <a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++, <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>, t2, t2);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">for</span> (j=t1;j&lt;k;j++,<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, <a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[j], <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[j]+<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>, <a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a>[j]+<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            t1 += <a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a> = tempPos + 1;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        r = t2;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;}</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">/**********************************************************/</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">/* automaton::set                                         */</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">/*                                                        */</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">/* process a set definition.                              */</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">/* this parses the the definition and creates a character */</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">/* array that contains all specified characters.          */</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">/* if this is an exclusive match, the NOT bit of the SET  */</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">/* transition will be set.                                */</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">/**********************************************************/</span></div>
<div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="classautomaton.html#a1876a03373fb8600f220e8a509effe03">  545</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classautomaton.html#a1876a03373fb8600f220e8a509effe03">automaton::set</a>()</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;{</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordtype">int</span> i=0;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordtype">int</span> transition = <a class="code" href="regexp_8hpp.html#a59da1d65e87a723efe808dbabb4fc205">SET</a>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordtype">int</span> length = 257;                 <span class="comment">// pre-allocation length is 257 bytes</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                                    <span class="comment">// if more are need, reallocation is used</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr = <a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>+<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordtype">char</span> *range = (<span class="keywordtype">char</span>*) malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>)*length);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  int (__cdecl *func)(int) = NULL;     <span class="comment">// function pointer for symbolic names</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  int (*func)(int) = NULL;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">// is this an exclusive definition?</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;^&#39;</span>) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    transition |= <a class="code" href="regexp_8hpp.html#ad3e9fe0ec59d2dbb3982ababa042720c">NOT</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    ptr++;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// parse the set definition</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">while</span> (*ptr &amp;&amp; *ptr != <span class="charliteral">&#39;]&#39;</span>) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// &#39;-&#39; operator: go from last specified character</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="comment">// to next specified character (fill in all in-between)</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">// (a &#39;-&#39; at the beginning is interpreted as a simple character)</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;-&#39;</span> &amp;&amp; i) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordtype">char</span> b=ptr[-1], e=ptr[1];</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">if</span> (e == 0x00 || e == <span class="charliteral">&#39;]&#39;</span>) <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03af8fe51852d2729d26708946d7c55e79f">E_ILLEGAL_SET</a>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      ptr+=2;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="comment">// start character &gt; end character? then swap them</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">if</span> (b&gt;e) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordtype">char</span> t=b;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        b=e; e=t;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="comment">// fill up the range</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">char</span> c=b+1;c&lt;=e;c++) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a1b6d533fd63b7de280f22b585d0f7b2c">checkRange</a>(range,i,c)) range[i++] = c;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span> (i == length) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;          range = (<span class="keywordtype">char</span>*) realloc(range,length*2);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;          length *= 2;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// escape operator</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      ptr++;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">if</span> (*ptr == 0x00) <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03af8fe51852d2729d26708946d7c55e79f">E_ILLEGAL_SET</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a1b6d533fd63b7de280f22b585d0f7b2c">checkRange</a>(range,i,*ptr)) range[i++] = *ptr;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">if</span> (i == length) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        range = (<span class="keywordtype">char</span>*) realloc(range,length*2);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        length *= 2;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      ptr++;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// symbolic name?</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*ptr == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="keywordtype">int</span> len=0;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordtype">char</span> buffer[16];</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      ptr++;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">while</span> (len&lt;15 &amp;&amp; *ptr &amp;&amp; *ptr != <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        buffer[len++] = *ptr++;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      buffer[len] = 0x00;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">if</span> (*ptr != <span class="charliteral">&#39;:&#39;</span>) <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03a53c1528ea3ce0d37d81076dafe09ad1a">E_ILLEGAL_SYMBOLIC_NAME</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      ptr++;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="comment">// make symbolic name uppercase</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">while</span> (len&gt;=0) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        buffer[len] = toupper((<span class="keywordtype">int</span>) buffer[len]);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        len--;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="comment">// keyword ALPHA</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;ALPHA&quot;</span>))</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        func = isalpha;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="comment">// keyword LOWER</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;LOWER&quot;</span>))</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        func = islower;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="comment">// keyword UPPER</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;UPPER&quot;</span>))</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        func = isupper;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      <span class="comment">// keyword ALNUM</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;ALNUM&quot;</span>))</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        func = isalnum;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="comment">// keyword DIGIT</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;DIGIT&quot;</span>))</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        func = isdigit;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="comment">// keyword XDIGIT</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;XDIGIT&quot;</span>))</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        func = isxdigit;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="comment">// keyword BLANK</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;BLANK&quot;</span>)) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">// whitespace...</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a1b6d533fd63b7de280f22b585d0f7b2c">checkRange</a>(range,i,<span class="charliteral">&#39; &#39;</span>)) range[i++] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">if</span> (i == length) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;          range = (<span class="keywordtype">char</span>*) realloc(range,length*2);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;          length *= 2;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="comment">// ...or tab</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a1b6d533fd63b7de280f22b585d0f7b2c">checkRange</a>(range,i,0x09)) range[i++] = 0x09;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">if</span> (i == length) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;          range = (<span class="keywordtype">char</span>*) realloc(range,length*2);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;          length *= 2;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      <span class="comment">// keyword SPACE</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;SPACE&quot;</span>))</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        func = isspace;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <span class="comment">// keyword CNTRL</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;CNTRL&quot;</span>))</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        func = iscntrl;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="comment">// keyword PRINT</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;PRINT&quot;</span>))</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        func = isprint;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">// keyword PUNCT</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;PUNCT&quot;</span>))</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        func = ispunct;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="comment">// keyword GRAPH</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(buffer,<span class="stringliteral">&quot;GRAPH&quot;</span>))</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        func = isgraph;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="comment">// unknown symbolic name?</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03a53c1528ea3ce0d37d81076dafe09ad1a">E_ILLEGAL_SYMBOLIC_NAME</a>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; </div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">if</span> (func) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordtype">int</span> j;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="comment">// go over all ASCII characters and use the specified</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="comment">// function...</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">for</span> (j=0;j&lt;256;j++)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;          <span class="keywordflow">if</span> ( (*func)(j) ) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a1b6d533fd63b7de280f22b585d0f7b2c">checkRange</a>(range,i,j)) range[i++] = j;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <span class="keywordflow">if</span> (i == length) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;              range = (<span class="keywordtype">char</span>*) realloc(range,length*2);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;              length *= 2;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// simple character</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a1b6d533fd63b7de280f22b585d0f7b2c">checkRange</a>(range,i,*ptr)) range[i++] = *ptr;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      ptr++;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">if</span> (i == length) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        range = (<span class="keywordtype">char</span>*) realloc(range,length*2);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        length *= 2;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    }</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="comment">// empty sets are not allowed</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordflow">if</span> (i == 0) <span class="keywordflow">throw</span> <a class="code" href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03af8fe51852d2729d26708946d7c55e79f">E_ILLEGAL_SET</a>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>+=(int)(ptr-(<a class="code" href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">regexp</a>+<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a>));</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="comment">// set SET transition (bits 16 to 27 contain the set number)</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="comment">// that is created by insertSet</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="comment">// consume a character from/not from the set and transition to the following state</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">setState</a>(<a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>, transition | (<a class="code" href="classautomaton.html#a4c9ac209887045d8ef2ba19d2f6d5784">insertSet</a>(range, i)&lt;&lt;16), <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1, <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>+1);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  i = <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <a class="code" href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">freeState</a>++;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  free(range);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">/******************************************************************/</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">/* automaton::setState                                            */</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">/*                                                                */</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">/* insert a state into the automaton.                             */</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">/* if the given position is too large for the currently allocated */</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">/* arrays, reallocation will occur.                               */</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">/******************************************************************/</span></div>
<div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">  714</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">automaton::setState</a>(<span class="keywordtype">int</span> position, <span class="keywordtype">int</span> transition, <span class="keywordtype">int</span> state1, <span class="keywordtype">int</span> state2)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;{</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">// insert an element not yet settable?</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// yes, then get enough memory for that</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a> &lt;= position) {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>&lt;&lt;=1;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>    = (<span class="keywordtype">int</span>*) realloc(<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>,<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a> = (<span class="keywordtype">int</span>*) realloc(<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>,<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a> = (<span class="keywordtype">int</span>*) realloc(<a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a>,<a class="code" href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">size</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[position]    = transition;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[position] = state1;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a>[position] = state2;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">/************************************************************/</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">/* automaton::checkRange                                    */</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">/*                                                          */</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">/* small helper function to check if a character is already */</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">/* in the range (avoid multiple entries).                   */</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">/* returns 1 if character not in range, zero otherwise.     */</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">/************************************************************/</span></div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="classautomaton.html#a1b6d533fd63b7de280f22b585d0f7b2c">  737</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classautomaton.html#a1b6d533fd63b7de280f22b585d0f7b2c">automaton::checkRange</a>(<span class="keywordtype">char</span> *range, <span class="keywordtype">int</span> length, <span class="keywordtype">char</span> c)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;{</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordtype">int</span> rc = 1;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0;i&lt;length;i++)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">if</span> (range[i] == c) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      rc = 0;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">return</span> rc;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">/***************************************************************/</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">/* automaton::insertSet                                        */</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">/*                                                             */</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">/* create a set and return the set number.                     */</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">/* the set is an array of characters, the first element of the */</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">/* set specifies the number of elements in the array.          */</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">/* the setArray containing pointers to the sets will be re-    */</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">/* allocated on each call. it is assumed that performance is   */</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">/* secondary because parsing takes place only once and usually */</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">/* there are only a few set definitions at all.                */</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">/***************************************************************/</span></div>
<div class="line"><a name="l00759"></a><span class="lineno"><a class="line" href="classautomaton.html#a4c9ac209887045d8ef2ba19d2f6d5784">  759</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classautomaton.html#a4c9ac209887045d8ef2ba19d2f6d5784">automaton::insertSet</a>(<span class="keywordtype">char</span> *range, <span class="keywordtype">int</span> rangeSize)</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;{</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>++;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="comment">// enlarge setArray</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a> = (<span class="keywordtype">int</span>**) realloc(<a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>,<a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>*<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>*));</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// get memory for set array</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>[<a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>-1] = (<span class="keywordtype">int</span>*) malloc((rangeSize+1)*<span class="keyword">sizeof</span>(int));</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="comment">// fill in elements</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0; i&lt;rangeSize; i++)</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>[<a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>-1][i+1] = (<span class="keywordtype">int</span>) range[i];</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>[<a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>-1][0] = rangeSize;  <span class="comment">// set length</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">setSize</a>-1;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;}</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">/*************************************************/</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">/* automaton::match                              */</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">/*                                               */</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">/* try to match a string with the automaton.     */</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">/* returns 1 on success and 0 on failure.        */</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">/* matching is non-recursively done with a queue */</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">/* that has a push, put and pop method.          */</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">/*************************************************/</span></div>
<div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="classautomaton.html#a1fa05c864d2d3a046dfdaf02ab4af0a7">  783</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classautomaton.html#a1fa05c864d2d3a046dfdaf02ab4af0a7">automaton::match</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *a, <span class="keywordtype">int</span> N)  <span class="comment">// string length passed in</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                                      <span class="comment">// instead of strlen</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;{</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordtype">int</span> n1, n2;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordtype">int</span> j = 0;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordtype">int</span> state = <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[0];  <span class="comment">// get start state</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="classdouble_queue.html">doubleQueue</a> dq(64);    <span class="comment">// create a double queue</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                         <span class="comment">// one SCAN symbol will be put into the queue</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classautomaton.html#a1876a03373fb8600f220e8a509effe03">set</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordtype">int</span> len;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordtype">bool</span> found;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="comment">// terminates when end state (==0) is reached</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordflow">while</span> (state) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="preprocessor">#ifdef MYDEBUG</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    printf(<span class="stringliteral">&quot;          &quot;</span>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    dq.dump();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">// go to next character</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">if</span> (state == <a class="code" href="regexp_8hpp.html#a7b114f85cab70531adc738c2e499df6a">SCAN</a>) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a60a2dff2566ed1ad7dbd19d8c8795eaf">minimal</a> == <span class="keyword">true</span> &amp;&amp; j == N) <span class="keywordflow">break</span>; <span class="comment">// for minimal match</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="preprocessor">#ifdef MYDEBUG</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      printf(<span class="stringliteral">&quot;consume %2d %c\n&quot;</span>,j,a[j]);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      j++;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      dq.<a class="code" href="classdouble_queue.html#a50e9641f969877112c69918448ab3247">put</a>(<a class="code" href="regexp_8hpp.html#a7b114f85cab70531adc738c2e499df6a">SCAN</a>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    }</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[state] &amp; <a class="code" href="regexp_8hpp.html#a7b114f85cab70531adc738c2e499df6a">SCAN</a>) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>:        <span class="comment">// epsilon transition</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      n1 = <a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[state];</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      n2 = <a class="code" href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">next2</a>[state];</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      dq.<a class="code" href="classdouble_queue.html#aecb2131c5bc89990083397e78090b284">push</a>(n1);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">if</span> (n1 != n2) dq.<a class="code" href="classdouble_queue.html#aecb2131c5bc89990083397e78090b284">push</a>(n2);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="regexp_8hpp.html#a59da1d65e87a723efe808dbabb4fc205">SET</a>:            <span class="comment">// inclusive set</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="regexp_8hpp.html#a59da1d65e87a723efe808dbabb4fc205">SET</a>|<a class="code" href="regexp_8hpp.html#ad3e9fe0ec59d2dbb3982ababa042720c">NOT</a>:        <span class="comment">// exclusive set</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <a class="code" href="classautomaton.html#a1876a03373fb8600f220e8a509effe03">set</a> = (<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[state] &amp; 0x0fff0000)&gt;&gt;16;   <span class="comment">// get set number</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      len = <a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>[<a class="code" href="classautomaton.html#a1876a03373fb8600f220e8a509effe03">set</a>][0];               <span class="comment">// get number of elements in set</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      found = (<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[state]&amp;<a class="code" href="regexp_8hpp.html#ad3e9fe0ec59d2dbb3982ababa042720c">NOT</a>)?<span class="keyword">true</span>:<span class="keyword">false</span>;   <span class="comment">// set default value</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <span class="keywordflow">for</span> (i=1; i&lt;=len; i++) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">setArray</a>[<a class="code" href="classautomaton.html#a1876a03373fb8600f220e8a509effe03">set</a>][i] == (<span class="keywordtype">int</span>) a[j]) {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;          found = !found;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keywordflow">if</span> (found) {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        dq.<a class="code" href="classdouble_queue.html#a50e9641f969877112c69918448ab3247">put</a>(<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[state]);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="regexp_8hpp.html#a756cb5435a9a4479ee2066ab9da0dbae">ANY</a>:            <span class="comment">// just match any character</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      dq.<a class="code" href="classdouble_queue.html#a50e9641f969877112c69918448ab3247">put</a>(<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[state]);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;      <span class="keywordflow">if</span> (j &lt; N) { <span class="comment">// freeState: we can&#39;t read past end of string</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="comment">// normal character?</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[state] == (<span class="keywordtype">int</span>) a[j]) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;          dq.<a class="code" href="classdouble_queue.html#a50e9641f969877112c69918448ab3247">put</a>(<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[state]);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (j == N) {  <span class="comment">// simulate zero-terminated string in any case</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">ch</a>[state] == (<span class="keywordtype">int</span>) 0) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;          dq.<a class="code" href="classdouble_queue.html#a50e9641f969877112c69918448ab3247">put</a>(<a class="code" href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">next1</a>[state]);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    }</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="preprocessor">#ifdef MYDEBUG</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    printf(<span class="stringliteral">&quot;%s&quot;</span>,dq.<a class="code" href="classdouble_queue.html#a6b26291db8841a0163210e9df5da3445">isEmpty</a>()?<span class="stringliteral">&quot;    empty &quot;</span>:<span class="stringliteral">&quot;NOT empty &quot;</span>);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    dq.dump();</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="comment">// break out if we&#39;ve reached the end of the string</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// or no more states are available</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">if</span> (dq.<a class="code" href="classdouble_queue.html#a6b26291db8841a0163210e9df5da3445">isEmpty</a>() || (j&gt;(N+1)) ) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    state = dq.<a class="code" href="classdouble_queue.html#aa6c37c726a77f7a6145884d992707bb6">pop</a>();</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a> = j;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a> &gt; N) <a class="code" href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">currentPos</a> = N;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160; </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="comment">// return 1 if end state (EOP) has been reached</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">return</span> state==<a class="code" href="regexp_8hpp.html#a734579b908509b57151ac02b946056d1">EOP</a>?1:0;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;}</div>
<div class="ttc" id="aautomaton_8hpp_html"><div class="ttname"><a href="automaton_8hpp.html">automaton.hpp</a></div></div>
<div class="ttc" id="aclassautomaton_html_a1876a03373fb8600f220e8a509effe03"><div class="ttname"><a href="classautomaton.html#a1876a03373fb8600f220e8a509effe03">automaton::set</a></div><div class="ttdeci">int set()</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00545">automaton.cpp:545</a></div></div>
<div class="ttc" id="aclassautomaton_html_a1b6d533fd63b7de280f22b585d0f7b2c"><div class="ttname"><a href="classautomaton.html#a1b6d533fd63b7de280f22b585d0f7b2c">automaton::checkRange</a></div><div class="ttdeci">int checkRange(char *, int, char)</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00737">automaton.cpp:737</a></div></div>
<div class="ttc" id="aclassautomaton_html_a1fa05c864d2d3a046dfdaf02ab4af0a7"><div class="ttname"><a href="classautomaton.html#a1fa05c864d2d3a046dfdaf02ab4af0a7">automaton::match</a></div><div class="ttdeci">int match(const char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00783">automaton.cpp:783</a></div></div>
<div class="ttc" id="aclassautomaton_html_a272dc862222cf7f19c8852ca9b0917df"><div class="ttname"><a href="classautomaton.html#a272dc862222cf7f19c8852ca9b0917df">automaton::automaton</a></div><div class="ttdeci">automaton()</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00053">automaton.cpp:53</a></div></div>
<div class="ttc" id="aclassautomaton_html_a2f0e4fb6c068dfc681972026d43d5526"><div class="ttname"><a href="classautomaton.html#a2f0e4fb6c068dfc681972026d43d5526">automaton::expression</a></div><div class="ttdeci">int expression()</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00325">automaton.cpp:325</a></div></div>
<div class="ttc" id="aclassautomaton_html_a2fa309badc8a2f9bacc2b8eadd466f79"><div class="ttname"><a href="classautomaton.html#a2fa309badc8a2f9bacc2b8eadd466f79">automaton::regexp</a></div><div class="ttdeci">const char * regexp</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00087">automaton.hpp:87</a></div></div>
<div class="ttc" id="aclassautomaton_html_a3557b64912b964cc3e5a5b73faacbe04"><div class="ttname"><a href="classautomaton.html#a3557b64912b964cc3e5a5b73faacbe04">automaton::currentPos</a></div><div class="ttdeci">int currentPos</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00094">automaton.hpp:94</a></div></div>
<div class="ttc" id="aclassautomaton_html_a4b7e45c43e3728f9c1da51054129da81"><div class="ttname"><a href="classautomaton.html#a4b7e45c43e3728f9c1da51054129da81">automaton::setSize</a></div><div class="ttdeci">int setSize</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00090">automaton.hpp:90</a></div></div>
<div class="ttc" id="aclassautomaton_html_a4c9ac209887045d8ef2ba19d2f6d5784"><div class="ttname"><a href="classautomaton.html#a4c9ac209887045d8ef2ba19d2f6d5784">automaton::insertSet</a></div><div class="ttdeci">int insertSet(char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00759">automaton.cpp:759</a></div></div>
<div class="ttc" id="aclassautomaton_html_a5922f73d0a619e0cc5855fdaea366c9e"><div class="ttname"><a href="classautomaton.html#a5922f73d0a619e0cc5855fdaea366c9e">automaton::setState</a></div><div class="ttdeci">void setState(int, int, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00714">automaton.cpp:714</a></div></div>
<div class="ttc" id="aclassautomaton_html_a60a2dff2566ed1ad7dbd19d8c8795eaf"><div class="ttname"><a href="classautomaton.html#a60a2dff2566ed1ad7dbd19d8c8795eaf">automaton::minimal</a></div><div class="ttdeci">bool minimal</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00095">automaton.hpp:95</a></div></div>
<div class="ttc" id="aclassautomaton_html_a723b880be8520f60c836378fbe4e015e"><div class="ttname"><a href="classautomaton.html#a723b880be8520f60c836378fbe4e015e">automaton::ch</a></div><div class="ttdeci">int * ch</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00081">automaton.hpp:81</a></div></div>
<div class="ttc" id="aclassautomaton_html_a7e18446cec1c93ba66c3bf5c62d1483b"><div class="ttname"><a href="classautomaton.html#a7e18446cec1c93ba66c3bf5c62d1483b">automaton::letter</a></div><div class="ttdeci">int letter(int)</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00293">automaton.cpp:293</a></div></div>
<div class="ttc" id="aclassautomaton_html_a7e33ef6ee9390af2795a1e4f76077354"><div class="ttname"><a href="classautomaton.html#a7e33ef6ee9390af2795a1e4f76077354">automaton::~automaton</a></div><div class="ttdeci">~automaton()</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00064">automaton.cpp:64</a></div></div>
<div class="ttc" id="aclassautomaton_html_a8ac4f37e3b88cd8be851f25a60672d87"><div class="ttname"><a href="classautomaton.html#a8ac4f37e3b88cd8be851f25a60672d87">automaton::freeState</a></div><div class="ttdeci">int freeState</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00093">automaton.hpp:93</a></div></div>
<div class="ttc" id="aclassautomaton_html_a9e2cfa1a521de44dbb2dbfe6f8e01450"><div class="ttname"><a href="classautomaton.html#a9e2cfa1a521de44dbb2dbfe6f8e01450">automaton::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00092">automaton.hpp:92</a></div></div>
<div class="ttc" id="aclassautomaton_html_aa631dd7889748f350b2de3c25b8906a1"><div class="ttname"><a href="classautomaton.html#aa631dd7889748f350b2de3c25b8906a1">automaton::next1</a></div><div class="ttdeci">int * next1</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00082">automaton.hpp:82</a></div></div>
<div class="ttc" id="aclassautomaton_html_aad114b2cf57b397c09c3731b0a6f2d2a"><div class="ttname"><a href="classautomaton.html#aad114b2cf57b397c09c3731b0a6f2d2a">automaton::parse</a></div><div class="ttdeci">int parse(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00191">automaton.cpp:191</a></div></div>
<div class="ttc" id="aclassautomaton_html_ab910003eef744e394fa984b357e999fe"><div class="ttname"><a href="classautomaton.html#ab910003eef744e394fa984b357e999fe">automaton::term</a></div><div class="ttdeci">int term()</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00355">automaton.cpp:355</a></div></div>
<div class="ttc" id="aclassautomaton_html_abea46b7096d14e3d28cc3a24394fa574"><div class="ttname"><a href="classautomaton.html#abea46b7096d14e3d28cc3a24394fa574">automaton::next2</a></div><div class="ttdeci">int * next2</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00083">automaton.hpp:83</a></div></div>
<div class="ttc" id="aclassautomaton_html_aee4530dc29cab926facfc5bde8bca2af"><div class="ttname"><a href="classautomaton.html#aee4530dc29cab926facfc5bde8bca2af">automaton::factor</a></div><div class="ttdeci">int factor()</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00387">automaton.cpp:387</a></div></div>
<div class="ttc" id="aclassautomaton_html_afb80eec563f0993d0eca089197f1e5f2"><div class="ttname"><a href="classautomaton.html#afb80eec563f0993d0eca089197f1e5f2">automaton::setArray</a></div><div class="ttdeci">int ** setArray</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8hpp_source.html#l00089">automaton.hpp:89</a></div></div>
<div class="ttc" id="aclassautomaton_html_afbffc8f64f306cd96f2b39a1553f09ae"><div class="ttname"><a href="classautomaton.html#afbffc8f64f306cd96f2b39a1553f09ae">automaton::setMinimal</a></div><div class="ttdeci">void setMinimal(bool)</div><div class="ttdef"><b>Definition:</b> <a href="automaton_8cpp_source.html#l00090">automaton.cpp:90</a></div></div>
<div class="ttc" id="aclassdouble_queue_html"><div class="ttname"><a href="classdouble_queue.html">doubleQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="dblqueue_8hpp_source.html#l00044">dblqueue.hpp:44</a></div></div>
<div class="ttc" id="aclassdouble_queue_html_a50e9641f969877112c69918448ab3247"><div class="ttname"><a href="classdouble_queue.html#a50e9641f969877112c69918448ab3247">doubleQueue::put</a></div><div class="ttdeci">void put(int value)</div><div class="ttdef"><b>Definition:</b> <a href="dblqueue_8cpp_source.html#l00074">dblqueue.cpp:74</a></div></div>
<div class="ttc" id="aclassdouble_queue_html_a6b26291db8841a0163210e9df5da3445"><div class="ttname"><a href="classdouble_queue.html#a6b26291db8841a0163210e9df5da3445">doubleQueue::isEmpty</a></div><div class="ttdeci">bool isEmpty()</div><div class="ttdef"><b>Definition:</b> <a href="dblqueue_8hpp_source.html#l00052">dblqueue.hpp:52</a></div></div>
<div class="ttc" id="aclassdouble_queue_html_aa6c37c726a77f7a6145884d992707bb6"><div class="ttname"><a href="classdouble_queue.html#aa6c37c726a77f7a6145884d992707bb6">doubleQueue::pop</a></div><div class="ttdeci">int pop()</div><div class="ttdef"><b>Definition:</b> <a href="dblqueue_8cpp_source.html#l00087">dblqueue.cpp:87</a></div></div>
<div class="ttc" id="aclassdouble_queue_html_aecb2131c5bc89990083397e78090b284"><div class="ttname"><a href="classdouble_queue.html#aecb2131c5bc89990083397e78090b284">doubleQueue::push</a></div><div class="ttdeci">void push(int value)</div><div class="ttdef"><b>Definition:</b> <a href="dblqueue_8cpp_source.html#l00062">dblqueue.cpp:62</a></div></div>
<div class="ttc" id="aregexp_8hpp_html"><div class="ttname"><a href="regexp_8hpp.html">regexp.hpp</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a002b2f4894492820fe708b1b7e7c5e70"><div class="ttname"><a href="regexp_8hpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a></div><div class="ttdeci">#define EPSILON</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00045">regexp.hpp:45</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a2ccbc82dccfaffb76eec576416cbaf03"><div class="ttname"><a href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03">RE_ERROR</a></div><div class="ttdeci">RE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00052">regexp.hpp:52</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a2ccbc82dccfaffb76eec576416cbaf03a0f546d14f8c23f69d8391f2b91be33da"><div class="ttname"><a href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03a0f546d14f8c23f69d8391f2b91be33da">E_UNEXPECTED_EOP</a></div><div class="ttdeci">@ E_UNEXPECTED_EOP</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00053">regexp.hpp:53</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a2ccbc82dccfaffb76eec576416cbaf03a53c1528ea3ce0d37d81076dafe09ad1a"><div class="ttname"><a href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03a53c1528ea3ce0d37d81076dafe09ad1a">E_ILLEGAL_SYMBOLIC_NAME</a></div><div class="ttdeci">@ E_ILLEGAL_SYMBOLIC_NAME</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00053">regexp.hpp:53</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a2ccbc82dccfaffb76eec576416cbaf03a87ddf213c6ba9335a8c566d6b9e305c8"><div class="ttname"><a href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03a87ddf213c6ba9335a8c566d6b9e305c8">E_UNEXPECTED_SYMBOL</a></div><div class="ttdeci">@ E_UNEXPECTED_SYMBOL</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00052">regexp.hpp:52</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a2ccbc82dccfaffb76eec576416cbaf03aba48ec67c3ab41f2f3800b45f913ca65"><div class="ttname"><a href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03aba48ec67c3ab41f2f3800b45f913ca65">E_MISSING_PAREN_CLOSE</a></div><div class="ttdeci">@ E_MISSING_PAREN_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00052">regexp.hpp:52</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a2ccbc82dccfaffb76eec576416cbaf03af8fe51852d2729d26708946d7c55e79f"><div class="ttname"><a href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03af8fe51852d2729d26708946d7c55e79f">E_ILLEGAL_SET</a></div><div class="ttdeci">@ E_ILLEGAL_SET</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00052">regexp.hpp:52</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a2ccbc82dccfaffb76eec576416cbaf03afd97b610fcdbfcd001ab7ee05ee50b30"><div class="ttname"><a href="regexp_8hpp.html#a2ccbc82dccfaffb76eec576416cbaf03afd97b610fcdbfcd001ab7ee05ee50b30">E_ILLEGAL_NUMBER</a></div><div class="ttdeci">@ E_ILLEGAL_NUMBER</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00053">regexp.hpp:53</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a59da1d65e87a723efe808dbabb4fc205"><div class="ttname"><a href="regexp_8hpp.html#a59da1d65e87a723efe808dbabb4fc205">SET</a></div><div class="ttdeci">#define SET</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00048">regexp.hpp:48</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a734579b908509b57151ac02b946056d1"><div class="ttname"><a href="regexp_8hpp.html#a734579b908509b57151ac02b946056d1">EOP</a></div><div class="ttdeci">#define EOP</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00049">regexp.hpp:49</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a756cb5435a9a4479ee2066ab9da0dbae"><div class="ttname"><a href="regexp_8hpp.html#a756cb5435a9a4479ee2066ab9da0dbae">ANY</a></div><div class="ttdeci">#define ANY</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00047">regexp.hpp:47</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_a7b114f85cab70531adc738c2e499df6a"><div class="ttname"><a href="regexp_8hpp.html#a7b114f85cab70531adc738c2e499df6a">SCAN</a></div><div class="ttdeci">#define SCAN</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00044">regexp.hpp:44</a></div></div>
<div class="ttc" id="aregexp_8hpp_html_ad3e9fe0ec59d2dbb3982ababa042720c"><div class="ttname"><a href="regexp_8hpp.html#ad3e9fe0ec59d2dbb3982ababa042720c">NOT</a></div><div class="ttdeci">#define NOT</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8hpp_source.html#l00046">regexp.hpp:46</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b8d323c7289fed1299e6f1b6909d41b.html">oorexx</a></li><li class="navelem"><a class="el" href="dir_8b29bd360d363874c010699c0e4edfe4.html">executor</a></li><li class="navelem"><a class="el" href="dir_b12c9cdd073ecc75d378afe044a8807c.html">sandbox</a></li><li class="navelem"><a class="el" href="dir_6f8e204b311fad1e21be914fb6af8fc9.html">jlf</a></li><li class="navelem"><a class="el" href="dir_4796bfee7d29ff8f3ba63e631cf48035.html">trunk</a></li><li class="navelem"><a class="el" href="dir_810b14902c641731e177eb53eeb0aca8.html">extensions</a></li><li class="navelem"><a class="el" href="dir_ec2bfeacbe2237b3c3cdef922641b38c.html">rxregexp</a></li><li class="navelem"><a class="el" href="automaton_8cpp.html">automaton.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<!-- javascript code to insert the title in the condensed index (tabs) -->
<!-- See the function initMenu in menu.js:
     The condensed index is a list <ul> of several items <li>: Main Page, Classes, Files.
     I append a new item <li> which display the project name. -->
<script type="text/javascript">
$(function() {
  $('#main-menu').append('<li class="title" style="margin-left:3mm">executor.master</li>')
});
</script>
<!-- end of javascript code -->
</body>
</html>
