<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ooRexx: PackageManager.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!--
    Removed completely the TITLEAREA because I don't like the loss of space.
    I want the title in the condensed index (tabs) at top of each HTML page.
    The insertion of the title is managed by javascript code in the footer,
    because this code must be executed AFTER the creation of the condensed index.
    Must have this setting to display the condensed index:
    DISABLE_INDEX = NO
-->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_package_manager_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">PackageManager.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_package_manager_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* Copyright (c) 1995, 2004 IBM Corporation. All rights reserved.             */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/* Copyright (c) 2005-2020 Rexx Language Association. All rights reserved.    */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/* This program and the accompanying materials are made available under       */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/* the terms of the Common Public License v1.0 which accompanies this         */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/* distribution. A copy is also available at the following address:           */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/* https://www.oorexx.org/license.html                                        */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/* Redistribution and use in source and binary forms, with or                 */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* without modification, are permitted provided that the following            */</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/* conditions are met:                                                        */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/* Redistributions of source code must retain the above copyright             */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer.              */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* Redistributions in binary form must reproduce the above copyright          */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer in            */</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/* the documentation and/or other materials provided with the distribution.   */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/* Neither the name of Rexx Language Association nor the names                */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* of its contributors may be used to endorse or promote products             */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/* derived from this software without specific prior written permission.      */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS        */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT          */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS          */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/* FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT   */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,      */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED   */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/* TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,        */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY     */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING    */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS         */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.               */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/* REXX Kernel                                                                */</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/* Primitive Package management                                               */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_core_8h.html">RexxCore.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_package_manager_8hpp.html">PackageManager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_library_package_8hpp.html">LibraryPackage.hpp</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_interpreter_8hpp.html">Interpreter.hpp</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_native_code_8hpp.html">NativeCode.hpp</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_string_table_class_8hpp.html">StringTableClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_activity_manager_8hpp.html">ActivityManager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_routine_class_8hpp.html">RoutineClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_internal_apis_8h.html">RexxInternalApis.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_protected_object_8hpp.html">ProtectedObject.hpp</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_security_manager_8hpp.html">SecurityManager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_weak_reference_class_8hpp.html">WeakReferenceClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_activation_8hpp.html">RexxActivation.hpp</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_package_class_8hpp.html">PackageClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_language_parser_8hpp.html">LanguageParser.hpp</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_buffer_class_8hpp.html">BufferClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_string_table_class_8hpp.html">StringTableClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_method_arguments_8hpp.html">MethodArguments.hpp</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// this first set is the inital image set, which we preserve the references</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">// to in order to reset the package loads when the Rexx environment shuts down</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<a class="code" href="class_string_table.html">StringTable</a> *<a class="code" href="class_package_manager.html#abb45eecd8a017e63ff531b1e92dd4f3d">PackageManager::imagePackages</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<a class="code" href="class_string_table.html">StringTable</a> *<a class="code" href="class_package_manager.html#a6eef69f593934f25e90b5c67a24bb148">PackageManager::imagePackageRoutines</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<a class="code" href="class_string_table.html">StringTable</a> *<a class="code" href="class_package_manager.html#a2b7e8762901bb0518088181b5f4c5605">PackageManager::imageRegisteredRoutines</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<a class="code" href="class_string_table.html">StringTable</a> *<a class="code" href="class_package_manager.html#a4e0321dfc94f490d1f44afd2293fc86d">PackageManager::imageLoadedRequires</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<a class="code" href="class_string_table.html">StringTable</a> *<a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">PackageManager::packages</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;        <span class="comment">// our loaded packages</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<a class="code" href="class_string_table.html">StringTable</a> *<a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">PackageManager::packageRoutines</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;     <span class="comment">// table of functions loaded from packages</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<a class="code" href="class_string_table.html">StringTable</a> *<a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">PackageManager::registeredRoutines</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<a class="code" href="class_string_table.html">StringTable</a> *<a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">PackageManager::loadedRequires</a> = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"> * Initialize the package manager global state.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="class_package_manager.html#abb5152192ca8efea552fe5d4c033d96f">   79</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_package_manager.html#abb5152192ca8efea552fe5d4c033d96f">PackageManager::initialize</a>()</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a> = <a class="code" href="_string_table_class_8hpp.html#af069ff82b58c2e2dc12f5b58aec940fe">new_string_table</a>();             <span class="comment">// create the tables for the manager</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">packageRoutines</a> = <a class="code" href="_string_table_class_8hpp.html#af069ff82b58c2e2dc12f5b58aec940fe">new_string_table</a>();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a> = <a class="code" href="_string_table_class_8hpp.html#af069ff82b58c2e2dc12f5b58aec940fe">new_string_table</a>();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">loadedRequires</a> = <a class="code" href="_string_table_class_8hpp.html#af069ff82b58c2e2dc12f5b58aec940fe">new_string_table</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// load the internal library first</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="class_package_manager.html#ad447b66601a8f8cdc328c3778092ccf4">loadInternalPackage</a>(GlobalNames::REXX, <a class="code" href="class_package_manager.html#a88a18dfb39307507805fe56fc1c5ba83">rexxPackage</a>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// REXXUTIL is also an internally contained package</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="class_package_manager.html#ad447b66601a8f8cdc328c3778092ccf4">loadInternalPackage</a>(GlobalNames::REXXUTIL, <a class="code" href="class_package_manager.html#a3dd50298cc0bb32a1b286805c7b093a3">rexxutilPackage</a>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"> * Return the information that needs to be saved in the saved</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"> * image.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"> * @return An array of the items added to the saved image.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="class_package_manager.html#a80b2f28e153b17b971edd9cbc74d92cc">   98</a></span>&#160;<a class="code" href="class_array_class.html">ArrayClass</a> *<a class="code" href="class_package_manager.html#a80b2f28e153b17b971edd9cbc74d92cc">PackageManager::getImageData</a>()</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="class_array_class.html">ArrayClass</a> *imageArray = <a class="code" href="_array_class_8hpp.html#a8a4a1e6f379984082fb1e193428cbd33">new_array</a>(<a class="code" href="class_package_manager.html#abc6a2116898952176836ef61da856413a0989e710ee3e34f323dab59b2b2a579f">IMAGE_ARRAY_SIZE</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    imageArray-&gt;<a class="code" href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">put</a>(<a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a>, <a class="code" href="class_package_manager.html#abc6a2116898952176836ef61da856413aa4a93bbc31e64b628051aec5ef48bbbb">IMAGE_PACKAGES</a>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    imageArray-&gt;<a class="code" href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">put</a>(<a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">packageRoutines</a>, <a class="code" href="class_package_manager.html#abc6a2116898952176836ef61da856413ad07cb8845ae038347e8f0d6472571616">IMAGE_PACKAGE_ROUTINES</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    imageArray-&gt;<a class="code" href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">put</a>(<a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a>, <a class="code" href="class_package_manager.html#abc6a2116898952176836ef61da856413a6494a0b342c11fa5a8e2633b62e40704">IMAGE_REGISTERED_ROUTINES</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    imageArray-&gt;<a class="code" href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">put</a>(<a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">loadedRequires</a>, <a class="code" href="class_package_manager.html#abc6a2116898952176836ef61da856413a8b9eec0f1321702e71222ade061f4d5b">IMAGE_REQUIRES</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> imageArray;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"> * Restore the saved image data.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> * @param imageArray The array we placed in the save image originally.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="class_package_manager.html#a38fd420130745a576424e1dcc4856ec5">  115</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_package_manager.html#aa645c856de83f81800b151638806509b">PackageManager::restore</a>(<a class="code" href="class_array_class.html">ArrayClass</a> *imageArray)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// The memory manager is not initialized yet, so we just store the references</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// at this point.  A little later, we&#39;ll replace these with copies.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="class_package_manager.html#abb45eecd8a017e63ff531b1e92dd4f3d">imagePackages</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)imageArray-&gt;<a class="code" href="class_array_class.html#ac9ff63dbacda2000a4f783568b5428f2">get</a>(<a class="code" href="class_package_manager.html#abc6a2116898952176836ef61da856413aa4a93bbc31e64b628051aec5ef48bbbb">IMAGE_PACKAGES</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="class_package_manager.html#a6eef69f593934f25e90b5c67a24bb148">imagePackageRoutines</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)imageArray-&gt;<a class="code" href="class_array_class.html#ac9ff63dbacda2000a4f783568b5428f2">get</a>(<a class="code" href="class_package_manager.html#abc6a2116898952176836ef61da856413ad07cb8845ae038347e8f0d6472571616">IMAGE_PACKAGE_ROUTINES</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="class_package_manager.html#a2b7e8762901bb0518088181b5f4c5605">imageRegisteredRoutines</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)imageArray-&gt;<a class="code" href="class_array_class.html#ac9ff63dbacda2000a4f783568b5428f2">get</a>(<a class="code" href="class_package_manager.html#abc6a2116898952176836ef61da856413a6494a0b342c11fa5a8e2633b62e40704">IMAGE_REGISTERED_ROUTINES</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="class_package_manager.html#a4e0321dfc94f490d1f44afd2293fc86d">imageLoadedRequires</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)imageArray-&gt;<a class="code" href="class_array_class.html#ac9ff63dbacda2000a4f783568b5428f2">get</a>(<a class="code" href="class_package_manager.html#abc6a2116898952176836ef61da856413a8b9eec0f1321702e71222ade061f4d5b">IMAGE_REQUIRES</a>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"> * Restore the saved image data to operational status</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="class_package_manager.html#aa645c856de83f81800b151638806509b">  129</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_package_manager.html#aa645c856de83f81800b151638806509b">PackageManager::restore</a>()</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// we use copies of the image directories to avoid old-to-new image problems.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// this also allows us to restore the environment after interpreter shutdown</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)<a class="code" href="class_package_manager.html#abb45eecd8a017e63ff531b1e92dd4f3d">imagePackages</a>-&gt;<a class="code" href="class_hash_collection.html#a64b17ab3fe299a5831337e2beadbe9c0">copy</a>();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">packageRoutines</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)<a class="code" href="class_package_manager.html#a6eef69f593934f25e90b5c67a24bb148">imagePackageRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a64b17ab3fe299a5831337e2beadbe9c0">copy</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)<a class="code" href="class_package_manager.html#a2b7e8762901bb0518088181b5f4c5605">imageRegisteredRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a64b17ab3fe299a5831337e2beadbe9c0">copy</a>();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">loadedRequires</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)<a class="code" href="class_package_manager.html#a4e0321dfc94f490d1f44afd2293fc86d">imageLoadedRequires</a>-&gt;<a class="code" href="class_hash_collection.html#a64b17ab3fe299a5831337e2beadbe9c0">copy</a>();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="class_hash_contents_1_1_table_iterator.html">HashContents::TableIterator</a> iterator = <a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a>-&gt;<a class="code" href="class_hash_collection.html#a6285c71e9b6c942221416b24357f54cf">iterator</a>(); iterator.<a class="code" href="class_hash_contents_1_1_table_iterator.html#a80cdc1b019c46132d3da6b6377266a63">isAvailable</a>(); iterator.next())</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="comment">// get the next package</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= (LibraryPackage *)iterator.value();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="comment">// not one of the internal packages, so reload.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">if</span> (!package-&gt;isInternal())</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            package-&gt;<a class="code" href="class_library_package.html#a54b069b217a90225ce3a2d035b84d74e">reload</a>();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            package-&gt;makeInternal();   <span class="comment">// make this part of the persistent set now</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="comment">// we just have two internal packages to worry about</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">if</span> (package-&gt;isPackage(GlobalNames::REXX))</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="comment">// the main REXX package</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                package-&gt;reload(<a class="code" href="class_package_manager.html#a88a18dfb39307507805fe56fc1c5ba83">rexxPackage</a>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="comment">// the only other choice is the REXXUTIL package</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                package-&gt;reload(<a class="code" href="class_package_manager.html#a3dd50298cc0bb32a1b286805c7b093a3">rexxutilPackage</a>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"> * Normal live marking.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="class_package_manager.html#a55c7e781fc85f5cb845b903236d2f895">  169</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_package_manager.html#a55c7e781fc85f5cb845b903236d2f895">PackageManager::live</a>(<span class="keywordtype">size_t</span> liveMark)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// These variables reference objects that reside inside the loaded</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// image, which never gets marked or swept, so it is not necessary</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="comment">// for these to be marked:</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">// imagePackages</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// imagePackageRoutines</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// imageRegisteredRoutines</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// imageLoadedRequires</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">packageRoutines</a>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">loadedRequires</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"> * Generalized live marking.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="class_package_manager.html#af7550e88fe9f0a57d5123b728c07cca2">  188</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_package_manager.html#af7550e88fe9f0a57d5123b728c07cca2">PackageManager::liveGeneral</a>(<a class="code" href="_object_class_8hpp.html#a09453535aa429cceaa131b911d4caa73">MarkReason</a> reason)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">packageRoutines</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">loadedRequires</a>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"> * Resolve a named package, dynamically loading the package</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"> * if not already in the table.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"> * @param name   The name of the library associated with this package.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> * @return A resolved package...throws an exception if the package</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"> *         is not loadable.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="class_package_manager.html#acf83ebaf96c734bfe990a5c617b9545a">  206</a></span>&#160;<a class="code" href="class_library_package.html">LibraryPackage</a> *<a class="code" href="class_package_manager.html#acf83ebaf96c734bfe990a5c617b9545a">PackageManager::getLibrary</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// have we already loaded this package?</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// may need to bootstrap it up first.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= loadLibrary(name);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">if</span> (package == NULL)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">// this is an error</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a17ec13719330fe6bc650a733157d162b">Error_Execution_library</a>, name);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"> * Attempt to load a library without raising an error.  Returns</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"> * a LibraryPackage object for the library if the load was successful.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"> * @param name   The target library name.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> * @return A LibraryPackage object for the library, or OREF_NULL if was</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"> *         not resolvable.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="class_package_manager.html#a9cfc528726bb97eb4ff6c9a799a10f61">  229</a></span>&#160;<a class="code" href="class_library_package.html">LibraryPackage</a> *<a class="code" href="class_package_manager.html#a9cfc528726bb97eb4ff6c9a799a10f61">PackageManager::loadLibrary</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// have we already loaded this package?</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">// may need to bootstrap it up first.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= (LibraryPackage *)packages-&gt;get(name);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (package == NULL)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keyword">package </span>= new LibraryPackage(name);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">// add this to our package list.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a>-&gt;<a class="code" href="class_hash_collection.html#a67e856fccd5e11840cc1eb099339b712">put</a>(package, name);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="comment">// now force the package to load.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">if</span> (!package-&gt;load())</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;             <span class="comment">// unable to load the library, so remove this and return NULL.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;             <a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a>-&gt;<a class="code" href="class_hash_collection.html#a84396af38c85e233f51ea11249bcb6e5">remove</a>(name);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;             <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"> * Create a Native method from a registered package.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"> * @param packageName</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"> *                   The name of the package the library is loaded from.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"> * @param methodName The name of the procedure to resolve from the package.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"> * @return A Native method that represents this package entry.  Returns</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> *         NULL if not found.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="class_package_manager.html#abcdb985fb134f133436dbf1667a76c1e">  262</a></span>&#160;<a class="code" href="class_native_method.html">NativeMethod</a> *<a class="code" href="class_package_manager.html#abcdb985fb134f133436dbf1667a76c1e">PackageManager::resolveMethod</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *packageName, <a class="code" href="class_rexx_string.html">RexxString</a> *methodName)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// have we already loaded this package?</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// may need to bootstrap it up first.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= getLibrary(packageName);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">// now see if this can be resolved.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">return</span> package-&gt;<a class="code" href="class_library_package.html#a833e38fe4c1e7b1ce52cb776eecfce47">resolveMethod</a>(methodName);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"> * Quietly create a Native method from a registered package.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"> * @param packageName</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"> *                   The name of the package the library is loaded from.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"> * @param methodName The name of the procedure to resolve from the package.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"> * @return A Native method that represents this package entry.  Returns</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"> *         NULL if not found.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="class_package_manager.html#a85fade742f45aa2447b0cfb32bd3e8bd">  284</a></span>&#160;<a class="code" href="class_native_method.html">NativeMethod</a> *<a class="code" href="class_package_manager.html#a85fade742f45aa2447b0cfb32bd3e8bd">PackageManager::loadMethod</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *packageName, <a class="code" href="class_rexx_string.html">RexxString</a> *methodName)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="comment">// have we already loaded this package?</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// may need to bootstrap it up first.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= loadLibrary(packageName);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// silently fail this if it couldn&#39;t load</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">if</span> (package == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">// now see if this can be resolved.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> package-&gt;resolveMethod(methodName);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"> * Resolve a package function activator.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"> * @param function  The function name.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"> * @param package   The package/library name.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"> * @param procedure Procedure name.  Only used if directly loaded from a library</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"> *                  file.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"> * @return A function activator for this function, if it can be</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> *         resolved.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="class_package_manager.html#a191ffb68dc9b9376ee7af030efac6bf8">  312</a></span>&#160;<a class="code" href="class_routine_class.html">RoutineClass</a> *<a class="code" href="class_package_manager.html#a191ffb68dc9b9376ee7af030efac6bf8">PackageManager::resolveRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *<span class="keyword">function</span>, <a class="code" href="class_rexx_string.html">RexxString</a> *packageName, <a class="code" href="class_rexx_string.html">RexxString</a> *procedure)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="comment">// see if we have this one already</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="class_routine_class.html">RoutineClass</a> *func = (<a class="code" href="class_routine_class.html">RoutineClass</a> *)<a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a18f0ca003684a40904245b0193b90d9a">get</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">// if we have this, then we can return it directly.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (func != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">return</span> func;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *functionName = <span class="keyword">function</span>-&gt;getStringData();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *libraryName = packageName-&gt;<a class="code" href="class_rexx_string.html#aaf47ec1ef2009a65092c14cea082a7f9">getStringData</a>();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *procedureName = procedure-&gt;<a class="code" href="class_rexx_string.html#aaf47ec1ef2009a65092c14cea082a7f9">getStringData</a>();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <a class="code" href="class_unsafe_block.html">UnsafeBlock</a> releaser;   <span class="comment">// don&#39;t hold the block while making the API call</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">// go register this (unconditionally....at this point, we don&#39;t care if this fails)</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="rexx_8h.html#a7b170e31cb9a226f63bb016394f490d0">RexxRegisterFunctionDll</a>(functionName, libraryName, procedureName);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">// resolve a registered entry, if we can and add it to the cache</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_package_manager.html#afe8db714ed1e8bb68ba726d90daf055d">createRegisteredRoutine</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"> * Resolve a registered function.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"> * @param function  The function name.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"> * @return A function activator for this function, if it can be</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"> *         resolved.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="class_package_manager.html#a7aa25b9845f189ff6c2a3ce1fabdac5e">  347</a></span>&#160;<a class="code" href="class_routine_class.html">RoutineClass</a> *<a class="code" href="class_package_manager.html#a191ffb68dc9b9376ee7af030efac6bf8">PackageManager::resolveRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *<span class="keyword">function</span>)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;{</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">// see if we have this one already as a package function</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="class_routine_class.html">RoutineClass</a> *func = <a class="code" href="class_package_manager.html#ad588a09de020bd07870404182a2cf57c">getLoadedRoutine</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">// if we have this, then we can return it directly.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (func != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordflow">return</span> func;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// resolve a registered entry, if we can and add it to the cache</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_package_manager.html#afe8db714ed1e8bb68ba726d90daf055d">createRegisteredRoutine</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"> * Resolve a package function.  This goes explicitly to a loaded</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> * package to resolve the name rather than relying on the global</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> * cache.  This will resolve to the same routine object as the</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"> * global cache, but this prevents us from picking one a</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> * different one in case of a name conflict.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> * @param packageName</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> *                 The package name.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> * @param function The function name.</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> * @return A routine object for this function.</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="class_package_manager.html#a5152c8ac4dc7d444d46514c53aee778d">  376</a></span>&#160;<a class="code" href="class_routine_class.html">RoutineClass</a> *<a class="code" href="class_package_manager.html#a191ffb68dc9b9376ee7af030efac6bf8">PackageManager::resolveRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *packageName, <a class="code" href="class_rexx_string.html">RexxString</a> *<span class="keyword">function</span>)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// have we already loaded this package?</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// may need to bootstrap it up first.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= getLibrary(packageName);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// now see if this can be resolved.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">return</span> package-&gt;<a class="code" href="class_library_package.html#a0c4d580879ab3e8738118292170469ba">resolveRoutine</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment"> * Quietly load a package function.  This goes explicitly to a</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"> * loaded package to resolve the name rather than relying on the</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment"> * global cache.  This will resolve to the same routine object</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment"> * as the global cache, but this prevents us from picking one a</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"> * different one in case of a name conflict.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"> * @param packageName</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"> *                 The package name.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"> * @param function The function name.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"> * @return A routine object for this function.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="class_package_manager.html#af4198cefa18518b7429b9d3afad3785d">  400</a></span>&#160;<a class="code" href="class_routine_class.html">RoutineClass</a> *<a class="code" href="class_package_manager.html#af4198cefa18518b7429b9d3afad3785d">PackageManager::loadRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *packageName, <a class="code" href="class_rexx_string.html">RexxString</a> *<span class="keyword">function</span>)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;{</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">// have we already loaded this package?</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// may need to bootstrap it up first.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= loadLibrary(packageName);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (package == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="comment">// now see if this can be resolved.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">return</span> package-&gt;resolveRoutine(<span class="keyword">function</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"> * Locate an already loaded function.</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"> * @param function  The function name.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> * @return A function activator for this function, if it can be</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"> *         resolved.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="class_package_manager.html#ad588a09de020bd07870404182a2cf57c">  424</a></span>&#160;<a class="code" href="class_routine_class.html">RoutineClass</a> *<a class="code" href="class_package_manager.html#ad588a09de020bd07870404182a2cf57c">PackageManager::getLoadedRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *<span class="keyword">function</span>)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// see if we have this one already as a package function</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="class_routine_class.html">RoutineClass</a> *func = (<a class="code" href="class_routine_class.html">RoutineClass</a> *)<a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">packageRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a18f0ca003684a40904245b0193b90d9a">get</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// if we have this, then we can return it directly.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span> (func != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">return</span> func;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// see if we have this one already as a registered function</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="class_routine_class.html">RoutineClass</a> *)<a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a18f0ca003684a40904245b0193b90d9a">get</a>(<span class="keyword">function</span>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> * Create a new registered function entry and add to the</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"> * function cache.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"> * @param function</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment"> * @return</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="class_package_manager.html#afe8db714ed1e8bb68ba726d90daf055d">  448</a></span>&#160;<a class="code" href="class_routine_class.html">RoutineClass</a> *<a class="code" href="class_package_manager.html#afe8db714ed1e8bb68ba726d90daf055d">PackageManager::createRegisteredRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *<span class="keyword">function</span>)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;{</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="unix_2rexxapitypes_8h.html#a5212c3741a3e463415430503c49e2147">REXXPFN</a> entry = NULL;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *functionName = <span class="keyword">function</span>-&gt;getStringData();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <a class="code" href="class_unsafe_block.html">UnsafeBlock</a> releaser;    <span class="comment">// don&#39;t hold the lock while calling</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="comment">// now go resolve this entry pointer</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <a class="code" href="_rexx_internal_apis_8h.html#ab4e61a9c55b47e23f4824da125b2cfd2">RexxResolveRoutine</a>(functionName, &amp;entry);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">// this is a failure</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (entry == NULL)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">// create a code handler and add to the cache</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="class_routine_class.html">RoutineClass</a> *func = <span class="keyword">new</span> <a class="code" href="class_routine_class.html">RoutineClass</a>(<span class="keyword">function</span>, <span class="keyword">new</span> <a class="code" href="class_registered_routine.html">RegisteredRoutine</a>(<span class="keyword">function</span>, (<a class="code" href="rexx_8h.html#a2d6d87e2795f7473acbd0f29acb0c26e">RexxRoutineHandler</a> *)entry));</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a67e856fccd5e11840cc1eb099339b712">put</a>(func, function-&gt;upper());</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">// we got this</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">return</span> func;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment"> * Load an internal package into our list.  This does not</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"> * load a library, but links package routines ones already</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment"> * contained inside the interpreter.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"> * @param name   Name of the package...this is probably &quot;REXX&quot; or &quot;REXXUTIL&quot;.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"> * @param p      The package descriptor with the method and function list.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="class_package_manager.html#ad447b66601a8f8cdc328c3778092ccf4">  482</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_package_manager.html#ad447b66601a8f8cdc328c3778092ccf4">PackageManager::loadInternalPackage</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name, <a class="code" href="struct___rexx_package_entry.html">RexxPackageEntry</a> *p)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// load up the package and add it to our cache</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= new LibraryPackage(name, p);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">// have we already loaded this package?</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a>-&gt;<a class="code" href="class_hash_collection.html#a67e856fccd5e11840cc1eb099339b712">put</a>(package, name);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// now process the package loading after we add this to the table.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">// This avoids a multi-threaded race condition resulting from the fact</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="comment">// we release the global resource lock when we call out to the package loader.</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    package-&gt;loadPackage();</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"> * Register an in-process library package.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"> * @param name   The name to register under.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment"> * @param p      The package table information.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"> * @return true if this was successfully registered, false if a package</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment"> *         is already registered under the name.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="class_package_manager.html#aca91b9f11485165c49f117277616e698">  504</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_package_manager.html#aca91b9f11485165c49f117277616e698">PackageManager::registerPackage</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name, <a class="code" href="struct___rexx_package_entry.html">RexxPackageEntry</a> *p)</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;{</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// don&#39;t replace any already loaded packages</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a>-&gt;<a class="code" href="class_hash_collection.html#a18f0ca003684a40904245b0193b90d9a">get</a>(name) != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// handle like an internal package</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="class_package_manager.html#ad447b66601a8f8cdc328c3778092ccf4">loadInternalPackage</a>(name, p);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"> * Add a function to the package-defined functions table.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"> * @param name   The name of the function.</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment"> * @param func</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="class_package_manager.html#a6a766aee7eed87d7edf204ef8dab445c">  524</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_package_manager.html#a6a766aee7eed87d7edf204ef8dab445c">PackageManager::addPackageRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name, <a class="code" href="class_routine_class.html">RoutineClass</a> *func)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">packageRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a67e856fccd5e11840cc1eb099339b712">put</a>(func, name);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment"> * Process the basics of RxFuncAdd().  This will return 0 if the function can be</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"> * resolved and is callable, 1 otherwise.  If the target function is not in a</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment"> * loadable package file, this will also do the global registration.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> * @param name   The name of the registered function.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> * @param module The name of the library containing the function.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"> * @param proc   The target procedure name (ignored if the target library</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> *               is a self-loading one).</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"> * @return 0 if the function registration worked and the function is callable.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"> *         1 otherwise.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> * @remarks  Note that we return TheFalseObject (0) if the function is resolved</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> *           and callable and TheTrueObject (1) for failure.  This is because</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> *           RxFuncAdd() directly returns this result. RxFuncAdd() is documented</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> *           to return 0 on success and 1 on failure.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="class_package_manager.html#aeba106e69698a096e1295889d9f79690">  548</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_package_manager.html#aeba106e69698a096e1295889d9f79690">PackageManager::addRegisteredRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name, <a class="code" href="class_rexx_string.html">RexxString</a> *module, <a class="code" href="class_rexx_string.html">RexxString</a> *proc)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">// make sure we&#39;re using uppercase name versions here.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    name = name-&gt;<a class="code" href="class_rexx_string.html#ac1f37af57b13d68232ce7c6d5889f5e8">upper</a>();</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p1(name);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">// see if we have this one already, either from a package or previously loaded</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="class_routine_class.html">RoutineClass</a> *func = <a class="code" href="class_package_manager.html#ad588a09de020bd07870404182a2cf57c">getLoadedRoutine</a>(name);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// if we have this, then we can return it directly.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (func != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// see if this package is resolveable/loadable.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= loadLibrary(module);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (package != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="comment">// See if this is resolvable in this context.  If we got it,</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="comment">// return 0, the false object.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_method_arguments_8hpp.html#a14f1430e6bf0e034a85ec628356a4714">booleanObject</a>(<a class="code" href="class_package_manager.html#ad588a09de020bd07870404182a2cf57c">getLoadedRoutine</a>(name) == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// ok, this is not a converted new-style package.  Now try registering the function and</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// resolving it in this process.  This will also add this to the local cache</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_method_arguments_8hpp.html#a14f1430e6bf0e034a85ec628356a4714">booleanObject</a>(<a class="code" href="class_package_manager.html#a191ffb68dc9b9376ee7af030efac6bf8">resolveRoutine</a>(name, module, proc) == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"> * Drop a registered function.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> * @param name   Name of the registered function.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"> * @return True if this was deregistered from the global table, false</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment"> *         otherwise.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="class_package_manager.html#a0782252ffb2464fbae0f235701962343">  586</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_package_manager.html#a0782252ffb2464fbae0f235701962343">PackageManager::dropRegisteredRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;{</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// we register this using the uppercase name, so make sure we uppercase it</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="comment">// before looking in the tables.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    name = name-&gt;<a class="code" href="class_rexx_string.html#ac1f37af57b13d68232ce7c6d5889f5e8">upper</a>();</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// remove this from the local cache, then remove it from the global function</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// registration.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a84396af38c85e233f51ea11249bcb6e5">remove</a>(name);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *functionName = name-&gt;<a class="code" href="class_rexx_string.html#aaf47ec1ef2009a65092c14cea082a7f9">getStringData</a>();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <a class="code" href="class_unsafe_block.html">UnsafeBlock</a> releaser;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="comment">// if this is a registered routine, removed it from the registered table</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a84396af38c85e233f51ea11249bcb6e5">remove</a>(name);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="comment">// just allow this to pass through to Rexxapi.  If this was truely registered</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="comment">// instead of loaded implicitly, this will remove the entry.  Otherwise, it will</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="comment">// return false.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_method_arguments_8hpp.html#a14f1430e6bf0e034a85ec628356a4714">booleanObject</a>(<a class="code" href="rexx_8h.html#a0124466c0c3cc0b324bc5e71e4237803">RexxDeregisterFunction</a>(functionName) != 0);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment"> * The query method backing RxFuncQuery().  This checks both</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"> * our local tables and the global tables to see if something</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"> * has been registered.</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"> * @param name   Target name.</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"> * @return True if the external function exists in our local tables or</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"> *         in the global registry.</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="class_package_manager.html#a86b2aaedcc6a1f32d5ebff4b04806213">  618</a></span>&#160;<a class="code" href="class_rexx_object.html">RexxObject</a> *<a class="code" href="class_package_manager.html#a86b2aaedcc6a1f32d5ebff4b04806213">PackageManager::queryRegisteredRoutine</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;{</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// we register this using the uppercase name, so make sure we uppercase it</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// before looking in the tables.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    name = name-&gt;<a class="code" href="class_rexx_string.html#ac1f37af57b13d68232ce7c6d5889f5e8">upper</a>();</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="comment">// does this name exist in our table?</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_package_manager.html#ad588a09de020bd07870404182a2cf57c">getLoadedRoutine</a>(name) != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *functionName = name-&gt;<a class="code" href="class_rexx_string.html#aaf47ec1ef2009a65092c14cea082a7f9">getStringData</a>();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <a class="code" href="class_unsafe_block.html">UnsafeBlock</a> releaser;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment">// just allow this to pass through to Rexxapi.  If this was truly registered</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">// instead of loaded implicitly, it will find it.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_method_arguments_8hpp.html#a14f1430e6bf0e034a85ec628356a4714">booleanObject</a>(<a class="code" href="rexx_8h.html#a38072ce84cb6ddac3fe689dcb415a243">RexxQueryFunction</a>(functionName) != 0);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment"> * Unload all of the libraries loaded in this Rexx process.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="class_package_manager.html#a94c5341ea32fa7747a960dfad8135b36">  642</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_package_manager.html#a94c5341ea32fa7747a960dfad8135b36">PackageManager::unload</a>()</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;{</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">// traverse the package table, and force an unload for each library we&#39;ve loaded up.</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="class_hash_contents_1_1_table_iterator.html">HashContents::TableIterator</a> iterator = <a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a>-&gt;<a class="code" href="class_hash_collection.html#a6285c71e9b6c942221416b24357f54cf">iterator</a>(); iterator.<a class="code" href="class_hash_contents_1_1_table_iterator.html#a80cdc1b019c46132d3da6b6377266a63">isAvailable</a>(); iterator.next())</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="comment">// get the next package</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= (LibraryPackage *)iterator.value();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        package-&gt;<a class="code" href="class_library_package.html#a5da34a3a020c706c4156a1d6d506076d">unload</a>();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="comment">// now roll back to a copy of the image versions of these directories so we only</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="comment">// have the orignal image set once again</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">packages</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)<a class="code" href="class_package_manager.html#abb45eecd8a017e63ff531b1e92dd4f3d">imagePackages</a>-&gt;<a class="code" href="class_hash_collection.html#a64b17ab3fe299a5831337e2beadbe9c0">copy</a>();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">packageRoutines</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)<a class="code" href="class_package_manager.html#a6eef69f593934f25e90b5c67a24bb148">imagePackageRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a64b17ab3fe299a5831337e2beadbe9c0">copy</a>();</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <a class="code" href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">registeredRoutines</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)<a class="code" href="class_package_manager.html#a2b7e8762901bb0518088181b5f4c5605">imageRegisteredRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a64b17ab3fe299a5831337e2beadbe9c0">copy</a>();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">loadedRequires</a> = (<a class="code" href="class_string_table.html">StringTable</a> *)<a class="code" href="class_package_manager.html#a4e0321dfc94f490d1f44afd2293fc86d">imageLoadedRequires</a>-&gt;<a class="code" href="class_hash_collection.html#a64b17ab3fe299a5831337e2beadbe9c0">copy</a>();</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment"> * Attempt to call a native code function.  This will call either</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"> * new-style package functions or old-style registered functions.</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment"> * @param activity  The activity we&#39;re running under.</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment"> * @param name      The target name of the routine.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment"> * @param arguments The function arguments.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment"> * @param argcount  The argument count.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"> * @param result    The return result.</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment"> * @return true if we located and successfully called this function.  false</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment"> *         means the function is not located as a native function.</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00674"></a><span class="lineno"><a class="line" href="class_package_manager.html#a40186185d422eb5bbc229b25631811bc">  674</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_package_manager.html#a40186185d422eb5bbc229b25631811bc">PackageManager::callNativeRoutine</a>(<a class="code" href="class_activity.html">Activity</a> *activity, <a class="code" href="class_rexx_string.html">RexxString</a> *name,</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> **arguments, <span class="keywordtype">size_t</span> argcount, <a class="code" href="class_protected_object.html">ProtectedObject</a> &amp;result)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;{</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// all of our tables use uppercase names...make this a case-insensitive lookup</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    name = name-&gt;<a class="code" href="class_rexx_string.html#ac1f37af57b13d68232ce7c6d5889f5e8">upper</a>();</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// package functions come first</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="class_routine_class.html">RoutineClass</a> *<span class="keyword">function</span> = (<a class="code" href="class_routine_class.html">RoutineClass</a> *)<a class="code" href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">packageRoutines</a>-&gt;<a class="code" href="class_hash_collection.html#a18f0ca003684a40904245b0193b90d9a">get</a>(name);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">function</span> != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keyword">function</span>-&gt;call(activity, name, arguments, argcount, result);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="comment">// now check for registered functions.  This will either return a cached value,</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">// or resolve a routine for the first time and return the cached value.</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keyword">function</span> = <a class="code" href="class_package_manager.html#a191ffb68dc9b9376ee7af030efac6bf8">resolveRoutine</a>(name);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">function</span> != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keyword">function</span>-&gt;call(activity, name, arguments, argcount, result);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="comment">// not one of these</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment"> * Retrieve a ::REQUIRES file.  This will cache the entries so</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment"> * that the same requires entry is returned for every request.</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment"> * @param activity  The current activity.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment"> * @param shortName The short name of the package.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment"> * @param resolvedName</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment"> *                  The fully resolved name of a potential package file.  The short</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment"> *                  name is used for checking in the MacroSpace, the long name</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"> *                  is used for file searches.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment"> * @param result    The return package routine.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment"> * @return The package routine (also returned in the result protected object).</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="class_package_manager.html#ad849bb0b59236c1c8e9c2de58e1d2dd6">  716</a></span>&#160;<a class="code" href="class_package_class.html">PackageClass</a> *<a class="code" href="class_package_manager.html#ad849bb0b59236c1c8e9c2de58e1d2dd6">PackageManager::loadRequires</a>(<a class="code" href="class_activity.html">Activity</a> *activity, <a class="code" href="class_rexx_string.html">RexxString</a> *shortName, <a class="code" href="class_rexx_string.html">RexxString</a> *resolvedName, <a class="code" href="class_protected.html">Protected&lt;PackageClass&gt;</a> &amp;package)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keyword">package </span>= (PackageClass *)OREF_NULL;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="class_security_manager.html">SecurityManager</a> *manager = activity-&gt;<a class="code" href="class_activity.html#aa74b534d7211d3a590916948735ae269">getEffectiveSecurityManager</a>();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="class_rexx_object.html">RexxObject</a> *securityManager = <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    shortName = manager-&gt;<a class="code" href="class_security_manager.html#a54fbdaf88c3a5ddcd4ad5df8559c07c2">checkRequiresAccess</a>(shortName, securityManager);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="comment">// no return means forbidden access to this name.  Just return</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="comment">// nothing</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span> (shortName == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">// first check this using the specified name.  Since we need to perform checks in the</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">// macro space, it&#39;s possible this will be loaded under the simple name.  We&#39;ll need to check</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="comment">// table again using the fully resolved name afterward.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keyword">package </span>= checkRequiresCache(shortName, package);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> (!package.<a class="code" href="class_protected.html#a9f6b5511a171500b9d2fc704dcb883ec">isNull</a>())</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> macroPosition;    <span class="comment">// a macrospace position marker</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">// we need to look in the macrospace before we try checking for a file-based</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// requires.  The macrospace version uses the original name for all checks.  Once we</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">// get to the file-based version, we switch to the full resolved name.</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordtype">bool</span> checkMacroSpace = <a class="code" href="rexx_8h.html#a86b37abbed59199713b843efab37d3ff">RexxQueryMacro</a>(shortName-&gt;<a class="code" href="class_rexx_string.html#aaf47ec1ef2009a65092c14cea082a7f9">getStringData</a>(), &amp;macroPosition) == 0;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> (checkMacroSpace &amp;&amp; (macroPosition == <a class="code" href="rexxapidefs_8h.html#a038955920fa00deca01449bad0e91f7a">RXMACRO_SEARCH_BEFORE</a>))</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_package_manager.html#a50aba07433195c23e8429d6ae00a557d">getMacroSpaceRequires</a>(activity, shortName, package, securityManager);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">// it&#39;s possible we don&#39;t have a file version of this</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (resolvedName != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        resolvedName = manager-&gt;<a class="code" href="class_security_manager.html#a54fbdaf88c3a5ddcd4ad5df8559c07c2">checkRequiresAccess</a>(resolvedName, securityManager);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="comment">// no return means forbidden access to this name.  Just return</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="comment">// nothing</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">if</span> (resolvedName == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="comment">// now check again using the longer name</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keyword">package </span>= checkRequiresCache(resolvedName, package);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span> (!package.<a class="code" href="class_protected.html#a9f6b5511a171500b9d2fc704dcb883ec">isNull</a>())</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="comment">// load the file version of this.</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_package_manager.html#a1f0c9450b78e5b4ea6f2e09cee88aed9">getRequiresFile</a>(activity, resolvedName, securityManager, package);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="comment">// do the macrospace after checks</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span> (checkMacroSpace)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_package_manager.html#a50aba07433195c23e8429d6ae00a557d">getMacroSpaceRequires</a>(activity, shortName, package, securityManager);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="comment">// nothing to return</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;}</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment"> * Retrieve a ::REQUIRES file from the macrospace.</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment"> * @param activity The current activity.</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment"> * @param name     The target name.</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment"> * @param result   The returned Routine object for the package.</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"> * @param securityManager</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"> *                 A security manager to associated with the package.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment"> * @return The located ::REQUIRES file.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="class_package_manager.html#a50aba07433195c23e8429d6ae00a557d">  798</a></span>&#160;<a class="code" href="class_package_class.html">PackageClass</a> *<a class="code" href="class_package_manager.html#a50aba07433195c23e8429d6ae00a557d">PackageManager::getMacroSpaceRequires</a>(<a class="code" href="class_activity.html">Activity</a> *activity, <a class="code" href="class_rexx_string.html">RexxString</a> *name, <a class="code" href="class_protected.html">Protected&lt;PackageClass&gt;</a> &amp;package, <a class="code" href="class_rexx_object.html">RexxObject</a> *securityManager)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">// unflatten the method and protect it</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="class_routine_class.html">RoutineClass</a> *code = <a class="code" href="class_rexx_activation.html#aaecf0e90d8d59498525523280113a982">RexxActivation::getMacroCode</a>(name);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keyword">package </span>= code-&gt;getPackage();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">if</span> (securityManager != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        package-&gt;setSecurityManager(securityManager);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// add this to our cache</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="class_package_manager.html#a22ad9a6a6e6c2de2f102d060ee8bdfaf">addToRequiresCache</a>(name, package);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment"> * Retrieve a file version of a ::REQUIRES file.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment"> * @param activity The current activity.</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment"> * @param name     The fully resolved file name.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"> * @param result   The return routine object.</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"> * @return The loaded Package instance.</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="class_package_manager.html#a1f0c9450b78e5b4ea6f2e09cee88aed9">  824</a></span>&#160;<a class="code" href="class_package_class.html">PackageClass</a> *<a class="code" href="class_package_manager.html#a1f0c9450b78e5b4ea6f2e09cee88aed9">PackageManager::getRequiresFile</a>(<a class="code" href="class_activity.html">Activity</a> *activity, <a class="code" href="class_rexx_string.html">RexxString</a> *name, <a class="code" href="class_rexx_object.html">RexxObject</a> *securityManager, <a class="code" href="class_protected.html">Protected&lt;PackageClass&gt;</a> &amp;package)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;{</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">// try to load this from a previously compiled source file or</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="comment">// translate it a new if not.</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keyword">package </span>= LanguageParser::createPackage(name);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (securityManager != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        package-&gt;setSecurityManager(securityManager);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">// cache this instance</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="class_package_manager.html#a22ad9a6a6e6c2de2f102d060ee8bdfaf">addToRequiresCache</a>(name, package);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment"> * Loade a requires file from an array source.  NOTE:  This is</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment"> * not cached like the other requires files, nor is it loaded</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment"> * from the cache.</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment"> * @param activity The current activity.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment"> * @param name     The package name</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment"> * @param result   The returned package object.</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment"> * @return The returned package instance.</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00852"></a><span class="lineno"><a class="line" href="class_package_manager.html#a3c3fd3c77e7fe107ffaaf295d00529a6">  852</a></span>&#160;<a class="code" href="class_package_class.html">PackageClass</a> *<a class="code" href="class_package_manager.html#ad849bb0b59236c1c8e9c2de58e1d2dd6">PackageManager::loadRequires</a>(<a class="code" href="class_activity.html">Activity</a> *activity, <a class="code" href="class_rexx_string.html">RexxString</a> *name, <a class="code" href="class_array_class.html">ArrayClass</a> *data, <a class="code" href="class_protected.html">Protected&lt;PackageClass&gt;</a> &amp;package)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;{</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keyword">package </span>= LanguageParser::createPackage(name, data);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;}</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160; </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment"> * Loade a requires file from an in-store source.  NOTE:  This</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment"> * is not cached like the other requires files</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment"> * @param activity The current activity.</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment"> * @param name     The fully resolved file name.</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment"> * @param result   The return routine object.</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment"> * @return The returned package instance.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00869"></a><span class="lineno"><a class="line" href="class_package_manager.html#a6c57c7349be66049b33185eef4b6a230">  869</a></span>&#160;<a class="code" href="class_package_class.html">PackageClass</a> *<a class="code" href="class_package_manager.html#ad849bb0b59236c1c8e9c2de58e1d2dd6">PackageManager::loadRequires</a>(<a class="code" href="class_activity.html">Activity</a> *activity, <a class="code" href="class_rexx_string.html">RexxString</a> *name, <span class="keyword">const</span> <span class="keywordtype">char</span> *data, <span class="keywordtype">size_t</span> length, <a class="code" href="class_protected.html">Protected&lt;PackageClass&gt;</a> &amp;package)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;{</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// first check this using the specified name.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keyword">package </span>= checkRequiresCache(name, package);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">if</span> (!package.<a class="code" href="class_protected.html#a9f6b5511a171500b9d2fc704dcb883ec">isNull</a>())</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <a class="code" href="class_protected.html">Protected&lt;BufferClass&gt;</a> buffer = <a class="code" href="_buffer_class_8hpp.html#a434bb1dd35461c9cf3f44e16a8d60c47">new_buffer</a>(data, length);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keyword">package </span>= LanguageParser::createPackage(name, buffer);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">// cache the package instance</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="class_package_manager.html#a22ad9a6a6e6c2de2f102d060ee8bdfaf">addToRequiresCache</a>(name, package);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;}</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment"> * Check for a package already in the requires cache.</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment"> * @param name   The name of the target.</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment"> * @return The PackageClass instance, if any.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="class_package_manager.html#a2a47cb1e80c9f49eb7f291e78c91566b">  895</a></span>&#160;<a class="code" href="class_package_class.html">PackageClass</a> *<a class="code" href="class_package_manager.html#a2a47cb1e80c9f49eb7f291e78c91566b">PackageManager::checkRequiresCache</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name, <a class="code" href="class_protected.html">Protected&lt;PackageClass&gt;</a> &amp;package)</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;{</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="comment">// first check this using the specified name.  Since we need to perform checks in the</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// macro space, it&#39;s possible this will be loaded under the simple name.  We&#39;ll need to check</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="comment">// table again using the fully resolved name afterward.</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="class_weak_reference.html">WeakReference</a> *requiresRef = (<a class="code" href="class_weak_reference.html">WeakReference</a> *)<a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">loadedRequires</a>-&gt;<a class="code" href="class_hash_collection.html#a18f0ca003684a40904245b0193b90d9a">get</a>(name);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">if</span> (requiresRef != <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keyword">package </span>= (PackageClass *)requiresRef-&gt;get();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordflow">if</span> (!package.<a class="code" href="class_protected.html#a9f6b5511a171500b9d2fc704dcb883ec">isNull</a>())</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        {</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">return</span> package;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="comment">// this was garbage collected, remove it from the table</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        <a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">loadedRequires</a>-&gt;<a class="code" href="class_hash_collection.html#a84396af38c85e233f51ea11249bcb6e5">remove</a>(name);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;}</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment"> * Add a package to the requires cache</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment"> * @param name    The name of the package.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment"> * @param package The package we&#39;re caching</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00921"></a><span class="lineno"><a class="line" href="class_package_manager.html#a22ad9a6a6e6c2de2f102d060ee8bdfaf">  921</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_package_manager.html#a22ad9a6a6e6c2de2f102d060ee8bdfaf">PackageManager::addToRequiresCache</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *name, <a class="code" href="class_package_class.html">PackageClass</a> *package)</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;{</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="comment">// we place the code in the package table so we have</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="comment">// access to it to run the prologue code in other instances</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="comment">// We also add this before running the prolog in case another</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="comment">// thread tries to load the same thing.</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="class_weak_reference.html">WeakReference</a> *ref = <span class="keyword">new</span> <a class="code" href="class_weak_reference.html">WeakReference</a>(package);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <a class="code" href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">loadedRequires</a>-&gt;<a class="code" href="class_hash_collection.html#a67e856fccd5e11840cc1eb099339b712">put</a>(ref, name);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;}</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160; </div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment"> * Resolve an entry point for a package method entry (used on a</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment"> * restore or reflatten);</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment"> * @param name   Name of the target method.</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment"> * @return The target entry point.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="class_package_manager.html#a99fc8ce30443599d0dafb2523887c490">  940</a></span>&#160;<a class="code" href="_base_code_8hpp.html#a7c5da317d55510e55a188dd8d72ff38c">PNATIVEMETHOD</a> <a class="code" href="class_package_manager.html#a99fc8ce30443599d0dafb2523887c490">PackageManager::resolveMethodEntry</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *packageName, <a class="code" href="class_rexx_string.html">RexxString</a> *name)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;{</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= loadLibrary(packageName);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="comment">// if no entry, something bad has gone wrong</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (package == NULL)</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358ae548fd59c5aa831789cdec6a0b60540d">Error_Execution_library_method</a>, name, packageName);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">return</span> package-&gt;resolveMethodEntry(name);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment"> * Resolve an entry point for a package function entry (used on</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment"> * a restore or reflatten);</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment"> * @param name   Name of the target function.</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment"> * @return The target entry point.</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00961"></a><span class="lineno"><a class="line" href="class_package_manager.html#a1dffb585875e015b5297437fa9d2be4a">  961</a></span>&#160;<a class="code" href="_base_code_8hpp.html#a9e05207f85f8cff198cd2f772ddb1c54">PNATIVEROUTINE</a> <a class="code" href="class_package_manager.html#a1dffb585875e015b5297437fa9d2be4a">PackageManager::resolveRoutineEntry</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *packageName, <a class="code" href="class_rexx_string.html">RexxString</a> *name)</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;{</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= loadLibrary(packageName);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="comment">// if no entry, something bad has gone wrong</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">if</span> (package == NULL)</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358ae548fd59c5aa831789cdec6a0b60540d">Error_Execution_library_method</a>, name, packageName);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">return</span> package-&gt;resolveRoutineEntry(name);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;}</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment"> * Resolve an entry point for a package function entry (used on</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment"> * a restore or reflatten);</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment"> * @param name   Name of the target function.</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment"> * @return The target entry point.</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="class_package_manager.html#a8a287e138d1e2473e33611d58f575dba">  982</a></span>&#160;<a class="code" href="_base_code_8hpp.html#a1711e954611a3e32e4d880dbae706730">PREGISTEREDROUTINE</a> <a class="code" href="class_package_manager.html#a8a287e138d1e2473e33611d58f575dba">PackageManager::resolveRegisteredRoutineEntry</a>(<a class="code" href="class_rexx_string.html">RexxString</a> *packageName, <a class="code" href="class_rexx_string.html">RexxString</a> *name)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;{</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="comment">// if there&#39;s no package name, then this is stored in raw name form (I don&#39;t believe this should</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">// ever happen....but.</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (packageName == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <a class="code" href="unix_2rexxapitypes_8h.html#a5212c3741a3e463415430503c49e2147">REXXPFN</a> entry = NULL;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *functionName = name-&gt;<a class="code" href="class_rexx_string.html#aaf47ec1ef2009a65092c14cea082a7f9">getStringData</a>();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <a class="code" href="class_unsafe_block.html">UnsafeBlock</a> releaser;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <span class="comment">// now go resolve this entry pointer</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <a class="code" href="_rexx_internal_apis_8h.html#ab4e61a9c55b47e23f4824da125b2cfd2">RexxResolveRoutine</a>(functionName, &amp;entry);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="comment">// this is a failure</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordflow">if</span> (entry == NULL)</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <a class="code" href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a75e4fe8389aa024d5d60aa9aa92fa366">Error_Execution_library_routine</a>, name);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="_base_code_8hpp.html#a1711e954611a3e32e4d880dbae706730">PREGISTEREDROUTINE</a>)entry;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    {</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <a class="code" href="class_library_package.html">LibraryPackage</a> *<span class="keyword">package </span>= loadLibrary(packageName);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="comment">// if no entry, something bad has gone wrong</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="keywordflow">if</span> (package == NULL)</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <a class="code" href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a75e4fe8389aa024d5d60aa9aa92fa366">Error_Execution_library_routine</a>, name, packageName);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <span class="keywordflow">return</span> package-&gt;resolveRegisteredRoutineEntry(name);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;}</div>
<div class="ttc" id="a_activity_manager_8hpp_html"><div class="ttname"><a href="_activity_manager_8hpp.html">ActivityManager.hpp</a></div></div>
<div class="ttc" id="a_activity_manager_8hpp_html_ab278a90c36b1ea34f0d6a7e280799eaa"><div class="ttname"><a href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a></div><div class="ttdeci">void reportException(RexxErrorCodes error)</div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8hpp_source.html#l00211">ActivityManager.hpp:211</a></div></div>
<div class="ttc" id="a_array_class_8hpp_html_a8a4a1e6f379984082fb1e193428cbd33"><div class="ttname"><a href="_array_class_8hpp.html#a8a4a1e6f379984082fb1e193428cbd33">new_array</a></div><div class="ttdeci">ArrayClass * new_array()</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00362">ArrayClass.hpp:362</a></div></div>
<div class="ttc" id="a_base_code_8hpp_html_a1711e954611a3e32e4d880dbae706730"><div class="ttname"><a href="_base_code_8hpp.html#a1711e954611a3e32e4d880dbae706730">PREGISTEREDROUTINE</a></div><div class="ttdeci">size_t(RexxEntry * PREGISTEREDROUTINE)(const char *, size_t, PCONSTRXSTRING, const char *, PRXSTRING)</div><div class="ttdef"><b>Definition:</b> <a href="_base_code_8hpp_source.html#l00085">BaseCode.hpp:85</a></div></div>
<div class="ttc" id="a_base_code_8hpp_html_a7c5da317d55510e55a188dd8d72ff38c"><div class="ttname"><a href="_base_code_8hpp.html#a7c5da317d55510e55a188dd8d72ff38c">PNATIVEMETHOD</a></div><div class="ttdeci">uint16_t *(RexxEntry * PNATIVEMETHOD)(RexxMethodContext *, ValueDescriptor *)</div><div class="ttdef"><b>Definition:</b> <a href="_base_code_8hpp_source.html#l00081">BaseCode.hpp:81</a></div></div>
<div class="ttc" id="a_base_code_8hpp_html_a9e05207f85f8cff198cd2f772ddb1c54"><div class="ttname"><a href="_base_code_8hpp.html#a9e05207f85f8cff198cd2f772ddb1c54">PNATIVEROUTINE</a></div><div class="ttdeci">uint16_t *(RexxEntry * PNATIVEROUTINE)(RexxCallContext *, ValueDescriptor *)</div><div class="ttdef"><b>Definition:</b> <a href="_base_code_8hpp_source.html#l00083">BaseCode.hpp:83</a></div></div>
<div class="ttc" id="a_buffer_class_8hpp_html"><div class="ttname"><a href="_buffer_class_8hpp.html">BufferClass.hpp</a></div></div>
<div class="ttc" id="a_buffer_class_8hpp_html_a434bb1dd35461c9cf3f44e16a8d60c47"><div class="ttname"><a href="_buffer_class_8hpp.html#a434bb1dd35461c9cf3f44e16a8d60c47">new_buffer</a></div><div class="ttdeci">BufferClass * new_buffer(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00124">BufferClass.hpp:124</a></div></div>
<div class="ttc" id="a_interpreter_8hpp_html"><div class="ttname"><a href="_interpreter_8hpp.html">Interpreter.hpp</a></div></div>
<div class="ttc" id="a_language_parser_8hpp_html"><div class="ttname"><a href="_language_parser_8hpp.html">LanguageParser.hpp</a></div></div>
<div class="ttc" id="a_library_package_8hpp_html"><div class="ttname"><a href="_library_package_8hpp.html">LibraryPackage.hpp</a></div></div>
<div class="ttc" id="a_method_arguments_8hpp_html"><div class="ttname"><a href="_method_arguments_8hpp.html">MethodArguments.hpp</a></div></div>
<div class="ttc" id="a_method_arguments_8hpp_html_a14f1430e6bf0e034a85ec628356a4714"><div class="ttname"><a href="_method_arguments_8hpp.html#a14f1430e6bf0e034a85ec628356a4714">booleanObject</a></div><div class="ttdeci">RexxObject * booleanObject(bool v)</div><div class="ttdef"><b>Definition:</b> <a href="_method_arguments_8hpp_source.html#l00761">MethodArguments.hpp:761</a></div></div>
<div class="ttc" id="a_native_code_8hpp_html"><div class="ttname"><a href="_native_code_8hpp.html">NativeCode.hpp</a></div></div>
<div class="ttc" id="a_object_class_8hpp_html_a09453535aa429cceaa131b911d4caa73"><div class="ttname"><a href="_object_class_8hpp.html#a09453535aa429cceaa131b911d4caa73">MarkReason</a></div><div class="ttdeci">MarkReason</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00080">ObjectClass.hpp:81</a></div></div>
<div class="ttc" id="a_package_class_8hpp_html"><div class="ttname"><a href="_package_class_8hpp.html">PackageClass.hpp</a></div></div>
<div class="ttc" id="a_package_manager_8hpp_html"><div class="ttname"><a href="_package_manager_8hpp.html">PackageManager.hpp</a></div></div>
<div class="ttc" id="a_protected_object_8hpp_html"><div class="ttname"><a href="_protected_object_8hpp.html">ProtectedObject.hpp</a></div></div>
<div class="ttc" id="a_rexx_activation_8hpp_html"><div class="ttname"><a href="_rexx_activation_8hpp.html">RexxActivation.hpp</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html"><div class="ttname"><a href="_rexx_core_8h.html">RexxCore.h</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a181a36438ba4535dd7d22ab63239d1e1"><div class="ttname"><a href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a></div><div class="ttdeci">#define OREF_NULL</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00055">RexxCore.h:55</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_ab2b6f2d4baaa56192825d47e225ea2f5"><div class="ttname"><a href="_rexx_core_8h.html#ab2b6f2d4baaa56192825d47e225ea2f5">TheFalseObject</a></div><div class="ttdeci">#define TheFalseObject</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00276">RexxCore.h:276</a></div></div>
<div class="ttc" id="a_rexx_error_codes_8h_html_ab78d722675e696d37b9b75e363a8b358a17ec13719330fe6bc650a733157d162b"><div class="ttname"><a href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a17ec13719330fe6bc650a733157d162b">Error_Execution_library</a></div><div class="ttdeci">@ Error_Execution_library</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_error_codes_8h_source.html#l00602">RexxErrorCodes.h:602</a></div></div>
<div class="ttc" id="a_rexx_error_codes_8h_html_ab78d722675e696d37b9b75e363a8b358a75e4fe8389aa024d5d60aa9aa92fa366"><div class="ttname"><a href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a75e4fe8389aa024d5d60aa9aa92fa366">Error_Execution_library_routine</a></div><div class="ttdeci">@ Error_Execution_library_routine</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_error_codes_8h_source.html#l00645">RexxErrorCodes.h:645</a></div></div>
<div class="ttc" id="a_rexx_error_codes_8h_html_ab78d722675e696d37b9b75e363a8b358ae548fd59c5aa831789cdec6a0b60540d"><div class="ttname"><a href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358ae548fd59c5aa831789cdec6a0b60540d">Error_Execution_library_method</a></div><div class="ttdeci">@ Error_Execution_library_method</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_error_codes_8h_source.html#l00644">RexxErrorCodes.h:644</a></div></div>
<div class="ttc" id="a_rexx_internal_apis_8h_html"><div class="ttname"><a href="_rexx_internal_apis_8h.html">RexxInternalApis.h</a></div></div>
<div class="ttc" id="a_rexx_internal_apis_8h_html_ab4e61a9c55b47e23f4824da125b2cfd2"><div class="ttname"><a href="_rexx_internal_apis_8h.html#ab4e61a9c55b47e23f4824da125b2cfd2">RexxResolveRoutine</a></div><div class="ttdeci">int REXXENTRY RexxResolveRoutine(const char *, REXXPFN *)</div><div class="ttdef"><b>Definition:</b> <a href="_registration_a_p_i_8cpp_source.html#l00526">RegistrationAPI.cpp:526</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a10ca07add5704523d065b7f2d2637f7d"><div class="ttname"><a href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a></div><div class="ttdeci">#define memory_mark(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00489">RexxMemory.hpp:489</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_ad740c29e8223b639f6f3fcbb910ce21a"><div class="ttname"><a href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a></div><div class="ttdeci">#define memory_mark_general(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00490">RexxMemory.hpp:490</a></div></div>
<div class="ttc" id="a_routine_class_8hpp_html"><div class="ttname"><a href="_routine_class_8hpp.html">RoutineClass.hpp</a></div></div>
<div class="ttc" id="a_security_manager_8hpp_html"><div class="ttname"><a href="_security_manager_8hpp.html">SecurityManager.hpp</a></div></div>
<div class="ttc" id="a_string_table_class_8hpp_html"><div class="ttname"><a href="_string_table_class_8hpp.html">StringTableClass.hpp</a></div></div>
<div class="ttc" id="a_string_table_class_8hpp_html_af069ff82b58c2e2dc12f5b58aec940fe"><div class="ttname"><a href="_string_table_class_8hpp.html#af069ff82b58c2e2dc12f5b58aec940fe">new_string_table</a></div><div class="ttdeci">StringTable * new_string_table(size_t capacity=HashCollection::DefaultTableSize)</div><div class="ttdef"><b>Definition:</b> <a href="_string_table_class_8hpp_source.html#l00070">StringTableClass.hpp:70</a></div></div>
<div class="ttc" id="a_weak_reference_class_8hpp_html"><div class="ttname"><a href="_weak_reference_class_8hpp.html">WeakReferenceClass.hpp</a></div></div>
<div class="ttc" id="aclass_activity_html"><div class="ttname"><a href="class_activity.html">Activity</a></div><div class="ttdef"><b>Definition:</b> <a href="_activity_8hpp_source.html#l00090">Activity.hpp:91</a></div></div>
<div class="ttc" id="aclass_activity_html_aa74b534d7211d3a590916948735ae269"><div class="ttname"><a href="class_activity.html#aa74b534d7211d3a590916948735ae269">Activity::getEffectiveSecurityManager</a></div><div class="ttdeci">SecurityManager * getEffectiveSecurityManager()</div><div class="ttdef"><b>Definition:</b> <a href="_activity-trace_8cpp_source.html#l03097">Activity-trace.cpp:3097</a></div></div>
<div class="ttc" id="aclass_array_class_html"><div class="ttname"><a href="class_array_class.html">ArrayClass</a></div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00053">ArrayClass.hpp:54</a></div></div>
<div class="ttc" id="aclass_array_class_html_a44f4b5957268889f33dd71bb7edf9fac"><div class="ttname"><a href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">ArrayClass::put</a></div><div class="ttdeci">void put(RexxInternalObject *eref, size_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8cpp_source.html#l00568">ArrayClass.cpp:568</a></div></div>
<div class="ttc" id="aclass_array_class_html_ac9ff63dbacda2000a4f783568b5428f2"><div class="ttname"><a href="class_array_class.html#ac9ff63dbacda2000a4f783568b5428f2">ArrayClass::get</a></div><div class="ttdeci">RexxInternalObject * get(size_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00301">ArrayClass.hpp:301</a></div></div>
<div class="ttc" id="aclass_hash_collection_html_a18f0ca003684a40904245b0193b90d9a"><div class="ttname"><a href="class_hash_collection.html#a18f0ca003684a40904245b0193b90d9a">HashCollection::get</a></div><div class="ttdeci">virtual RexxInternalObject * get(RexxInternalObject *key)</div><div class="ttdef"><b>Definition:</b> <a href="_hash_collection_8cpp_source.html#l00384">HashCollection.cpp:384</a></div></div>
<div class="ttc" id="aclass_hash_collection_html_a6285c71e9b6c942221416b24357f54cf"><div class="ttname"><a href="class_hash_collection.html#a6285c71e9b6c942221416b24357f54cf">HashCollection::iterator</a></div><div class="ttdeci">HashContents::TableIterator iterator()</div><div class="ttdef"><b>Definition:</b> <a href="_hash_collection_8cpp_source.html#l00739">HashCollection.cpp:739</a></div></div>
<div class="ttc" id="aclass_hash_collection_html_a64b17ab3fe299a5831337e2beadbe9c0"><div class="ttname"><a href="class_hash_collection.html#a64b17ab3fe299a5831337e2beadbe9c0">HashCollection::copy</a></div><div class="ttdeci">RexxInternalObject * copy() override</div><div class="ttdef"><b>Definition:</b> <a href="_hash_collection_8cpp_source.html#l00237">HashCollection.cpp:237</a></div></div>
<div class="ttc" id="aclass_hash_collection_html_a67e856fccd5e11840cc1eb099339b712"><div class="ttname"><a href="class_hash_collection.html#a67e856fccd5e11840cc1eb099339b712">HashCollection::put</a></div><div class="ttdeci">virtual void put(RexxInternalObject *, RexxInternalObject *)</div><div class="ttdef"><b>Definition:</b> <a href="_hash_collection_8cpp_source.html#l00423">HashCollection.cpp:423</a></div></div>
<div class="ttc" id="aclass_hash_collection_html_a84396af38c85e233f51ea11249bcb6e5"><div class="ttname"><a href="class_hash_collection.html#a84396af38c85e233f51ea11249bcb6e5">HashCollection::remove</a></div><div class="ttdeci">virtual RexxInternalObject * remove(RexxInternalObject *key)</div><div class="ttdef"><b>Definition:</b> <a href="_hash_collection_8cpp_source.html#l00335">HashCollection.cpp:335</a></div></div>
<div class="ttc" id="aclass_hash_contents_1_1_table_iterator_html"><div class="ttname"><a href="class_hash_contents_1_1_table_iterator.html">HashContents::TableIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="_hash_contents_8hpp_source.html#l00102">HashContents.hpp:103</a></div></div>
<div class="ttc" id="aclass_hash_contents_1_1_table_iterator_html_a80cdc1b019c46132d3da6b6377266a63"><div class="ttname"><a href="class_hash_contents_1_1_table_iterator.html#a80cdc1b019c46132d3da6b6377266a63">HashContents::TableIterator::isAvailable</a></div><div class="ttdeci">bool isAvailable()</div><div class="ttdef"><b>Definition:</b> <a href="_hash_contents_8hpp_source.html#l00110">HashContents.hpp:110</a></div></div>
<div class="ttc" id="aclass_library_package_html"><div class="ttname"><a href="class_library_package.html">LibraryPackage</a></div><div class="ttdef"><b>Definition:</b> <a href="_library_package_8hpp_source.html#l00061">LibraryPackage.hpp:62</a></div></div>
<div class="ttc" id="aclass_library_package_html_a0c4d580879ab3e8738118292170469ba"><div class="ttname"><a href="class_library_package.html#a0c4d580879ab3e8738118292170469ba">LibraryPackage::resolveRoutine</a></div><div class="ttdeci">RoutineClass * resolveRoutine(RexxString *name)</div><div class="ttdef"><b>Definition:</b> <a href="_library_package_8cpp_source.html#l00410">LibraryPackage.cpp:410</a></div></div>
<div class="ttc" id="aclass_library_package_html_a54b069b217a90225ce3a2d035b84d74e"><div class="ttname"><a href="class_library_package.html#a54b069b217a90225ce3a2d035b84d74e">LibraryPackage::reload</a></div><div class="ttdeci">void reload()</div><div class="ttdef"><b>Definition:</b> <a href="_library_package_8cpp_source.html#l00516">LibraryPackage.cpp:516</a></div></div>
<div class="ttc" id="aclass_library_package_html_a5da34a3a020c706c4156a1d6d506076d"><div class="ttname"><a href="class_library_package.html#a5da34a3a020c706c4156a1d6d506076d">LibraryPackage::unload</a></div><div class="ttdeci">void unload()</div><div class="ttdef"><b>Definition:</b> <a href="_library_package_8cpp_source.html#l00166">LibraryPackage.cpp:166</a></div></div>
<div class="ttc" id="aclass_library_package_html_a833e38fe4c1e7b1ce52cb776eecfce47"><div class="ttname"><a href="class_library_package.html#a833e38fe4c1e7b1ce52cb776eecfce47">LibraryPackage::resolveMethod</a></div><div class="ttdeci">NativeMethod * resolveMethod(RexxString *name)</div><div class="ttdef"><b>Definition:</b> <a href="_library_package_8cpp_source.html#l00374">LibraryPackage.cpp:374</a></div></div>
<div class="ttc" id="aclass_native_method_html"><div class="ttname"><a href="class_native_method.html">NativeMethod</a></div><div class="ttdef"><b>Definition:</b> <a href="_native_code_8hpp_source.html#l00078">NativeCode.hpp:79</a></div></div>
<div class="ttc" id="aclass_package_class_html"><div class="ttname"><a href="class_package_class.html">PackageClass</a></div><div class="ttdef"><b>Definition:</b> <a href="_package_class_8hpp_source.html#l00064">PackageClass.hpp:65</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a0782252ffb2464fbae0f235701962343"><div class="ttname"><a href="class_package_manager.html#a0782252ffb2464fbae0f235701962343">PackageManager::dropRegisteredRoutine</a></div><div class="ttdeci">static RexxObject * dropRegisteredRoutine(RexxString *name)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00586">PackageManager.cpp:586</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a191ffb68dc9b9376ee7af030efac6bf8"><div class="ttname"><a href="class_package_manager.html#a191ffb68dc9b9376ee7af030efac6bf8">PackageManager::resolveRoutine</a></div><div class="ttdeci">static RoutineClass * resolveRoutine(RexxString *function, RexxString *packageName, RexxString *procedure)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00312">PackageManager.cpp:312</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a1dffb585875e015b5297437fa9d2be4a"><div class="ttname"><a href="class_package_manager.html#a1dffb585875e015b5297437fa9d2be4a">PackageManager::resolveRoutineEntry</a></div><div class="ttdeci">static PNATIVEROUTINE resolveRoutineEntry(RexxString *package, RexxString *name)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00961">PackageManager.cpp:961</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a1f0c9450b78e5b4ea6f2e09cee88aed9"><div class="ttname"><a href="class_package_manager.html#a1f0c9450b78e5b4ea6f2e09cee88aed9">PackageManager::getRequiresFile</a></div><div class="ttdeci">static PackageClass * getRequiresFile(Activity *activity, RexxString *name, RexxObject *securityManager, Protected&lt; PackageClass &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00824">PackageManager.cpp:824</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a22ad9a6a6e6c2de2f102d060ee8bdfaf"><div class="ttname"><a href="class_package_manager.html#a22ad9a6a6e6c2de2f102d060ee8bdfaf">PackageManager::addToRequiresCache</a></div><div class="ttdeci">static void addToRequiresCache(RexxString *name, PackageClass *package)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00921">PackageManager.cpp:921</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a2a47cb1e80c9f49eb7f291e78c91566b"><div class="ttname"><a href="class_package_manager.html#a2a47cb1e80c9f49eb7f291e78c91566b">PackageManager::checkRequiresCache</a></div><div class="ttdeci">static PackageClass * checkRequiresCache(RexxString *name, Protected&lt; PackageClass &gt; &amp;package)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00895">PackageManager.cpp:895</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a2b7e8762901bb0518088181b5f4c5605"><div class="ttname"><a href="class_package_manager.html#a2b7e8762901bb0518088181b5f4c5605">PackageManager::imageRegisteredRoutines</a></div><div class="ttdeci">static StringTable * imageRegisteredRoutines</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00115">PackageManager.hpp:115</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a3dd50298cc0bb32a1b286805c7b093a3"><div class="ttname"><a href="class_package_manager.html#a3dd50298cc0bb32a1b286805c7b093a3">PackageManager::rexxutilPackage</a></div><div class="ttdeci">static RexxPackageEntry * rexxutilPackage</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00125">PackageManager.hpp:125</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a40186185d422eb5bbc229b25631811bc"><div class="ttname"><a href="class_package_manager.html#a40186185d422eb5bbc229b25631811bc">PackageManager::callNativeRoutine</a></div><div class="ttdeci">static bool callNativeRoutine(Activity *activity, RexxString *name, RexxObject **arguments, size_t argcount, ProtectedObject &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00674">PackageManager.cpp:674</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a4e0321dfc94f490d1f44afd2293fc86d"><div class="ttname"><a href="class_package_manager.html#a4e0321dfc94f490d1f44afd2293fc86d">PackageManager::imageLoadedRequires</a></div><div class="ttdeci">static StringTable * imageLoadedRequires</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00116">PackageManager.hpp:116</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a50aba07433195c23e8429d6ae00a557d"><div class="ttname"><a href="class_package_manager.html#a50aba07433195c23e8429d6ae00a557d">PackageManager::getMacroSpaceRequires</a></div><div class="ttdeci">static PackageClass * getMacroSpaceRequires(Activity *activity, RexxString *name, Protected&lt; PackageClass &gt; &amp;package, RexxObject *securityManager)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00798">PackageManager.cpp:798</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a55c7e781fc85f5cb845b903236d2f895"><div class="ttname"><a href="class_package_manager.html#a55c7e781fc85f5cb845b903236d2f895">PackageManager::live</a></div><div class="ttdeci">static void live(size_t liveMark)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00169">PackageManager.cpp:169</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a5f2bd702342a4d1ba25d242babd54650"><div class="ttname"><a href="class_package_manager.html#a5f2bd702342a4d1ba25d242babd54650">PackageManager::loadedRequires</a></div><div class="ttdeci">static StringTable * loadedRequires</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00122">PackageManager.hpp:122</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a6131276623babc9b0c59acd6a1ace38a"><div class="ttname"><a href="class_package_manager.html#a6131276623babc9b0c59acd6a1ace38a">PackageManager::registeredRoutines</a></div><div class="ttdeci">static StringTable * registeredRoutines</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00121">PackageManager.hpp:121</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a6a766aee7eed87d7edf204ef8dab445c"><div class="ttname"><a href="class_package_manager.html#a6a766aee7eed87d7edf204ef8dab445c">PackageManager::addPackageRoutine</a></div><div class="ttdeci">static void addPackageRoutine(RexxString *name, RoutineClass *func)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00524">PackageManager.cpp:524</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a6eef69f593934f25e90b5c67a24bb148"><div class="ttname"><a href="class_package_manager.html#a6eef69f593934f25e90b5c67a24bb148">PackageManager::imagePackageRoutines</a></div><div class="ttdeci">static StringTable * imagePackageRoutines</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00114">PackageManager.hpp:114</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a716020ae2e58c07636651ba5a1e38f67"><div class="ttname"><a href="class_package_manager.html#a716020ae2e58c07636651ba5a1e38f67">PackageManager::packageRoutines</a></div><div class="ttdeci">static StringTable * packageRoutines</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00120">PackageManager.hpp:120</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a80b2f28e153b17b971edd9cbc74d92cc"><div class="ttname"><a href="class_package_manager.html#a80b2f28e153b17b971edd9cbc74d92cc">PackageManager::getImageData</a></div><div class="ttdeci">static ArrayClass * getImageData()</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00098">PackageManager.cpp:98</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a85fade742f45aa2447b0cfb32bd3e8bd"><div class="ttname"><a href="class_package_manager.html#a85fade742f45aa2447b0cfb32bd3e8bd">PackageManager::loadMethod</a></div><div class="ttdeci">static NativeMethod * loadMethod(RexxString *packageName, RexxString *methodName)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00284">PackageManager.cpp:284</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a86b2aaedcc6a1f32d5ebff4b04806213"><div class="ttname"><a href="class_package_manager.html#a86b2aaedcc6a1f32d5ebff4b04806213">PackageManager::queryRegisteredRoutine</a></div><div class="ttdeci">static RexxObject * queryRegisteredRoutine(RexxString *name)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00618">PackageManager.cpp:618</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a88a18dfb39307507805fe56fc1c5ba83"><div class="ttname"><a href="class_package_manager.html#a88a18dfb39307507805fe56fc1c5ba83">PackageManager::rexxPackage</a></div><div class="ttdeci">static RexxPackageEntry * rexxPackage</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00124">PackageManager.hpp:124</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a8a287e138d1e2473e33611d58f575dba"><div class="ttname"><a href="class_package_manager.html#a8a287e138d1e2473e33611d58f575dba">PackageManager::resolveRegisteredRoutineEntry</a></div><div class="ttdeci">static PREGISTEREDROUTINE resolveRegisteredRoutineEntry(RexxString *package, RexxString *name)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00982">PackageManager.cpp:982</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a94c5341ea32fa7747a960dfad8135b36"><div class="ttname"><a href="class_package_manager.html#a94c5341ea32fa7747a960dfad8135b36">PackageManager::unload</a></div><div class="ttdeci">static void unload()</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00642">PackageManager.cpp:642</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a99fc8ce30443599d0dafb2523887c490"><div class="ttname"><a href="class_package_manager.html#a99fc8ce30443599d0dafb2523887c490">PackageManager::resolveMethodEntry</a></div><div class="ttdeci">static PNATIVEMETHOD resolveMethodEntry(RexxString *package, RexxString *name)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00940">PackageManager.cpp:940</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a9cfc528726bb97eb4ff6c9a799a10f61"><div class="ttname"><a href="class_package_manager.html#a9cfc528726bb97eb4ff6c9a799a10f61">PackageManager::loadLibrary</a></div><div class="ttdeci">static LibraryPackage * loadLibrary(RexxString *name)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00229">PackageManager.cpp:229</a></div></div>
<div class="ttc" id="aclass_package_manager_html_aa645c856de83f81800b151638806509b"><div class="ttname"><a href="class_package_manager.html#aa645c856de83f81800b151638806509b">PackageManager::restore</a></div><div class="ttdeci">static void restore()</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00129">PackageManager.cpp:129</a></div></div>
<div class="ttc" id="aclass_package_manager_html_abb45eecd8a017e63ff531b1e92dd4f3d"><div class="ttname"><a href="class_package_manager.html#abb45eecd8a017e63ff531b1e92dd4f3d">PackageManager::imagePackages</a></div><div class="ttdeci">static StringTable * imagePackages</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00113">PackageManager.hpp:113</a></div></div>
<div class="ttc" id="aclass_package_manager_html_abb5152192ca8efea552fe5d4c033d96f"><div class="ttname"><a href="class_package_manager.html#abb5152192ca8efea552fe5d4c033d96f">PackageManager::initialize</a></div><div class="ttdeci">static void initialize()</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00079">PackageManager.cpp:79</a></div></div>
<div class="ttc" id="aclass_package_manager_html_abc6a2116898952176836ef61da856413a0989e710ee3e34f323dab59b2b2a579f"><div class="ttname"><a href="class_package_manager.html#abc6a2116898952176836ef61da856413a0989e710ee3e34f323dab59b2b2a579f">PackageManager::IMAGE_ARRAY_SIZE</a></div><div class="ttdeci">@ IMAGE_ARRAY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00111">PackageManager.hpp:110</a></div></div>
<div class="ttc" id="aclass_package_manager_html_abc6a2116898952176836ef61da856413a6494a0b342c11fa5a8e2633b62e40704"><div class="ttname"><a href="class_package_manager.html#abc6a2116898952176836ef61da856413a6494a0b342c11fa5a8e2633b62e40704">PackageManager::IMAGE_REGISTERED_ROUTINES</a></div><div class="ttdeci">@ IMAGE_REGISTERED_ROUTINES</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00108">PackageManager.hpp:108</a></div></div>
<div class="ttc" id="aclass_package_manager_html_abc6a2116898952176836ef61da856413a8b9eec0f1321702e71222ade061f4d5b"><div class="ttname"><a href="class_package_manager.html#abc6a2116898952176836ef61da856413a8b9eec0f1321702e71222ade061f4d5b">PackageManager::IMAGE_REQUIRES</a></div><div class="ttdeci">@ IMAGE_REQUIRES</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00109">PackageManager.hpp:109</a></div></div>
<div class="ttc" id="aclass_package_manager_html_abc6a2116898952176836ef61da856413aa4a93bbc31e64b628051aec5ef48bbbb"><div class="ttname"><a href="class_package_manager.html#abc6a2116898952176836ef61da856413aa4a93bbc31e64b628051aec5ef48bbbb">PackageManager::IMAGE_PACKAGES</a></div><div class="ttdeci">@ IMAGE_PACKAGES</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00106">PackageManager.hpp:106</a></div></div>
<div class="ttc" id="aclass_package_manager_html_abc6a2116898952176836ef61da856413ad07cb8845ae038347e8f0d6472571616"><div class="ttname"><a href="class_package_manager.html#abc6a2116898952176836ef61da856413ad07cb8845ae038347e8f0d6472571616">PackageManager::IMAGE_PACKAGE_ROUTINES</a></div><div class="ttdeci">@ IMAGE_PACKAGE_ROUTINES</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00107">PackageManager.hpp:107</a></div></div>
<div class="ttc" id="aclass_package_manager_html_abcdb985fb134f133436dbf1667a76c1e"><div class="ttname"><a href="class_package_manager.html#abcdb985fb134f133436dbf1667a76c1e">PackageManager::resolveMethod</a></div><div class="ttdeci">static NativeMethod * resolveMethod(RexxString *packageName, RexxString *methodName)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00262">PackageManager.cpp:262</a></div></div>
<div class="ttc" id="aclass_package_manager_html_aca91b9f11485165c49f117277616e698"><div class="ttname"><a href="class_package_manager.html#aca91b9f11485165c49f117277616e698">PackageManager::registerPackage</a></div><div class="ttdeci">static bool registerPackage(RexxString *name, RexxPackageEntry *p)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00504">PackageManager.cpp:504</a></div></div>
<div class="ttc" id="aclass_package_manager_html_acf83ebaf96c734bfe990a5c617b9545a"><div class="ttname"><a href="class_package_manager.html#acf83ebaf96c734bfe990a5c617b9545a">PackageManager::getLibrary</a></div><div class="ttdeci">static LibraryPackage * getLibrary(RexxString *name)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00206">PackageManager.cpp:206</a></div></div>
<div class="ttc" id="aclass_package_manager_html_ad447b66601a8f8cdc328c3778092ccf4"><div class="ttname"><a href="class_package_manager.html#ad447b66601a8f8cdc328c3778092ccf4">PackageManager::loadInternalPackage</a></div><div class="ttdeci">static void loadInternalPackage(RexxString *name, RexxPackageEntry *p)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00482">PackageManager.cpp:482</a></div></div>
<div class="ttc" id="aclass_package_manager_html_ad588a09de020bd07870404182a2cf57c"><div class="ttname"><a href="class_package_manager.html#ad588a09de020bd07870404182a2cf57c">PackageManager::getLoadedRoutine</a></div><div class="ttdeci">static RoutineClass * getLoadedRoutine(RexxString *function)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00424">PackageManager.cpp:424</a></div></div>
<div class="ttc" id="aclass_package_manager_html_ad849bb0b59236c1c8e9c2de58e1d2dd6"><div class="ttname"><a href="class_package_manager.html#ad849bb0b59236c1c8e9c2de58e1d2dd6">PackageManager::loadRequires</a></div><div class="ttdeci">static PackageClass * loadRequires(Activity *activity, RexxString *shortName, RexxString *resolvedName, Protected&lt; PackageClass &gt; &amp;package)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00716">PackageManager.cpp:716</a></div></div>
<div class="ttc" id="aclass_package_manager_html_aeba106e69698a096e1295889d9f79690"><div class="ttname"><a href="class_package_manager.html#aeba106e69698a096e1295889d9f79690">PackageManager::addRegisteredRoutine</a></div><div class="ttdeci">static RexxObject * addRegisteredRoutine(RexxString *name, RexxString *module, RexxString *proc)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00548">PackageManager.cpp:548</a></div></div>
<div class="ttc" id="aclass_package_manager_html_aef9384e552f85f0d97e9cddaaafab2e9"><div class="ttname"><a href="class_package_manager.html#aef9384e552f85f0d97e9cddaaafab2e9">PackageManager::packages</a></div><div class="ttdeci">static StringTable * packages</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00119">PackageManager.hpp:119</a></div></div>
<div class="ttc" id="aclass_package_manager_html_af4198cefa18518b7429b9d3afad3785d"><div class="ttname"><a href="class_package_manager.html#af4198cefa18518b7429b9d3afad3785d">PackageManager::loadRoutine</a></div><div class="ttdeci">static RoutineClass * loadRoutine(RexxString *packageName, RexxString *function)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00400">PackageManager.cpp:400</a></div></div>
<div class="ttc" id="aclass_package_manager_html_af7550e88fe9f0a57d5123b728c07cca2"><div class="ttname"><a href="class_package_manager.html#af7550e88fe9f0a57d5123b728c07cca2">PackageManager::liveGeneral</a></div><div class="ttdeci">static void liveGeneral(MarkReason reason)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00188">PackageManager.cpp:188</a></div></div>
<div class="ttc" id="aclass_package_manager_html_afe8db714ed1e8bb68ba726d90daf055d"><div class="ttname"><a href="class_package_manager.html#afe8db714ed1e8bb68ba726d90daf055d">PackageManager::createRegisteredRoutine</a></div><div class="ttdeci">static RoutineClass * createRegisteredRoutine(RexxString *function)</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8cpp_source.html#l00448">PackageManager.cpp:448</a></div></div>
<div class="ttc" id="aclass_protected_html"><div class="ttname"><a href="class_protected.html">Protected</a></div><div class="ttdef"><b>Definition:</b> <a href="_protected_object_8hpp_source.html#l00186">ProtectedObject.hpp:187</a></div></div>
<div class="ttc" id="aclass_protected_html_a9f6b5511a171500b9d2fc704dcb883ec"><div class="ttname"><a href="class_protected.html#a9f6b5511a171500b9d2fc704dcb883ec">Protected::isNull</a></div><div class="ttdeci">bool isNull()</div><div class="ttdef"><b>Definition:</b> <a href="_protected_object_8hpp_source.html#l00225">ProtectedObject.hpp:225</a></div></div>
<div class="ttc" id="aclass_protected_object_html"><div class="ttname"><a href="class_protected_object.html">ProtectedObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_protected_object_8hpp_source.html#l00070">ProtectedObject.hpp:71</a></div></div>
<div class="ttc" id="aclass_registered_routine_html"><div class="ttname"><a href="class_registered_routine.html">RegisteredRoutine</a></div><div class="ttdef"><b>Definition:</b> <a href="_native_code_8hpp_source.html#l00142">NativeCode.hpp:143</a></div></div>
<div class="ttc" id="aclass_rexx_activation_html_aaecf0e90d8d59498525523280113a982"><div class="ttname"><a href="class_rexx_activation.html#aaecf0e90d8d59498525523280113a982">RexxActivation::getMacroCode</a></div><div class="ttdeci">static RoutineClass * getMacroCode(RexxString *macroName)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_activation_8cpp_source.html#l03141">RexxActivation.cpp:3141</a></div></div>
<div class="ttc" id="aclass_rexx_object_html"><div class="ttname"><a href="class_rexx_object.html">RexxObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00407">ObjectClass.hpp:408</a></div></div>
<div class="ttc" id="aclass_rexx_string_html"><div class="ttname"><a href="class_rexx_string.html">RexxString</a></div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00068">StringClass.hpp:69</a></div></div>
<div class="ttc" id="aclass_rexx_string_html_aaf47ec1ef2009a65092c14cea082a7f9"><div class="ttname"><a href="class_rexx_string.html#aaf47ec1ef2009a65092c14cea082a7f9">RexxString::getStringData</a></div><div class="ttdeci">const char * getStringData() const</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00542">StringClass.hpp:542</a></div></div>
<div class="ttc" id="aclass_rexx_string_html_ac1f37af57b13d68232ce7c6d5889f5e8"><div class="ttname"><a href="class_rexx_string.html#ac1f37af57b13d68232ce7c6d5889f5e8">RexxString::upper</a></div><div class="ttdeci">RexxString * upper()</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8cpp_source.html#l01596">StringClass.cpp:1596</a></div></div>
<div class="ttc" id="aclass_routine_class_html"><div class="ttname"><a href="class_routine_class.html">RoutineClass</a></div><div class="ttdef"><b>Definition:</b> <a href="_routine_class_8hpp_source.html#l00051">RoutineClass.hpp:52</a></div></div>
<div class="ttc" id="aclass_security_manager_html"><div class="ttname"><a href="class_security_manager.html">SecurityManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_security_manager_8hpp_source.html#l00051">SecurityManager.hpp:52</a></div></div>
<div class="ttc" id="aclass_security_manager_html_a54fbdaf88c3a5ddcd4ad5df8559c07c2"><div class="ttname"><a href="class_security_manager.html#a54fbdaf88c3a5ddcd4ad5df8559c07c2">SecurityManager::checkRequiresAccess</a></div><div class="ttdeci">RexxString * checkRequiresAccess(RexxString *name, RexxObject *&amp;securityManager)</div><div class="ttdef"><b>Definition:</b> <a href="_security_manager_8cpp_source.html#l00320">SecurityManager.cpp:320</a></div></div>
<div class="ttc" id="aclass_string_table_html"><div class="ttname"><a href="class_string_table.html">StringTable</a></div><div class="ttdef"><b>Definition:</b> <a href="_string_table_class_8hpp_source.html#l00054">StringTableClass.hpp:55</a></div></div>
<div class="ttc" id="aclass_unsafe_block_html"><div class="ttname"><a href="class_unsafe_block.html">UnsafeBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8hpp_source.html#l00336">ActivityManager.hpp:337</a></div></div>
<div class="ttc" id="aclass_weak_reference_html"><div class="ttname"><a href="class_weak_reference.html">WeakReference</a></div><div class="ttdef"><b>Definition:</b> <a href="_weak_reference_class_8hpp_source.html#l00054">WeakReferenceClass.hpp:55</a></div></div>
<div class="ttc" id="arexx_8h_html_a0124466c0c3cc0b324bc5e71e4237803"><div class="ttname"><a href="rexx_8h.html#a0124466c0c3cc0b324bc5e71e4237803">RexxDeregisterFunction</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxDeregisterFunction(CONSTANT_STRING)</div></div>
<div class="ttc" id="arexx_8h_html_a2d6d87e2795f7473acbd0f29acb0c26e"><div class="ttname"><a href="rexx_8h.html#a2d6d87e2795f7473acbd0f29acb0c26e">RexxRoutineHandler</a></div><div class="ttdeci">size_t REXXENTRY RexxRoutineHandler(CONSTANT_STRING, size_t, PCONSTRXSTRING, CONSTANT_STRING, PRXSTRING)</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00414">rexx.h:414</a></div></div>
<div class="ttc" id="arexx_8h_html_a38072ce84cb6ddac3fe689dcb415a243"><div class="ttname"><a href="rexx_8h.html#a38072ce84cb6ddac3fe689dcb415a243">RexxQueryFunction</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxQueryFunction(CONSTANT_STRING)</div></div>
<div class="ttc" id="arexx_8h_html_a7b170e31cb9a226f63bb016394f490d0"><div class="ttname"><a href="rexx_8h.html#a7b170e31cb9a226f63bb016394f490d0">RexxRegisterFunctionDll</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxRegisterFunctionDll(CONSTANT_STRING, CONSTANT_STRING, CONSTANT_STRING)</div></div>
<div class="ttc" id="arexx_8h_html_a86b37abbed59199713b843efab37d3ff"><div class="ttname"><a href="rexx_8h.html#a86b37abbed59199713b843efab37d3ff">RexxQueryMacro</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxQueryMacro(CONSTANT_STRING, unsigned short *)</div></div>
<div class="ttc" id="arexxapidefs_8h_html_a038955920fa00deca01449bad0e91f7a"><div class="ttname"><a href="rexxapidefs_8h.html#a038955920fa00deca01449bad0e91f7a">RXMACRO_SEARCH_BEFORE</a></div><div class="ttdeci">#define RXMACRO_SEARCH_BEFORE</div><div class="ttdef"><b>Definition:</b> <a href="rexxapidefs_8h_source.html#l00221">rexxapidefs.h:221</a></div></div>
<div class="ttc" id="astruct___rexx_package_entry_html"><div class="ttname"><a href="struct___rexx_package_entry.html">_RexxPackageEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l00260">oorexxapi.h:261</a></div></div>
<div class="ttc" id="aunix_2rexxapitypes_8h_html_a5212c3741a3e463415430503c49e2147"><div class="ttname"><a href="unix_2rexxapitypes_8h.html#a5212c3741a3e463415430503c49e2147">REXXPFN</a></div><div class="ttdeci">void * REXXPFN</div><div class="ttdef"><b>Definition:</b> <a href="unix_2rexxapitypes_8h_source.html#l00064">unix/rexxapitypes.h:64</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b8d323c7289fed1299e6f1b6909d41b.html">oorexx</a></li><li class="navelem"><a class="el" href="dir_2dfb7423ce64cb60f62cee208bb73ae3.html">official</a></li><li class="navelem"><a class="el" href="dir_63144926d93644d0b571decfac4c5baa.html">main</a></li><li class="navelem"><a class="el" href="dir_5131a42d519b9b019d5264fc1f0fe4ab.html">trunk</a></li><li class="navelem"><a class="el" href="dir_07b471ff108ade29d714c67783960c47.html">interpreter</a></li><li class="navelem"><a class="el" href="dir_05bd8cb11cf8af737e0376457fcd6833.html">package</a></li><li class="navelem"><a class="el" href="_package_manager_8cpp.html">PackageManager.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<!-- javascript code to insert the title in the condensed index (tabs) -->
<!-- See the function initMenu in menu.js:
     The condensed index is a list <ul> of several items <li>: Main Page, Classes, Files.
     I append a new item <li> which display the project name. -->
<script type="text/javascript">
$(function() {
  $('#main-menu').append('<li class="title" style="margin-left:3mm">ooRexx</li>')
});
</script>
<!-- end of javascript code -->
</body>
</html>
