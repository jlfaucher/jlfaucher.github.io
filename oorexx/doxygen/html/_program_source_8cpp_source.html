<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ooRexx: ProgramSource.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!--
    Removed completely the TITLEAREA because I don't like the loss of space.
    I want the title in the condensed index (tabs) at top of each HTML page.
    The insertion of the title is managed by javascript code in the footer,
    because this code must be executed AFTER the creation of the condensed index.
    Must have this setting to display the condensed index:
    DISABLE_INDEX = NO
-->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_program_source_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ProgramSource.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_program_source_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* Copyright (c) 2005-2019 Rexx Language Association. All rights reserved.    */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/* This program and the accompanying materials are made available under       */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/* the terms of the Common Public License v1.0 which accompanies this         */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/* distribution. A copy is also available at the following address:           */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/* https://www.oorexx.org/license.html                                        */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/* Redistribution and use in source and binary forms, with or                 */</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/* without modification, are permitted provided that the following            */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* conditions are met:                                                        */</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/* Redistributions of source code must retain the above copyright             */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer.              */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* Redistributions in binary form must reproduce the above copyright          */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer in            */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/* the documentation and/or other materials provided with the distribution.   */</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/* Neither the name of Rexx Language Association nor the names                */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/* of its contributors may be used to endorse or promote products             */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* derived from this software without specific prior written permission.      */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS        */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT          */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS          */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/* FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT   */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,      */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED   */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,        */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY     */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING    */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS         */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.               */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/* Abstractions for different types of program source entities we can parse   */</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_core_8h.html">RexxCore.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_program_source_8hpp.html">ProgramSource.hpp</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_protected_object_8hpp.html">ProtectedObject.hpp</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_buffer_class_8hpp.html">BufferClass.hpp</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_smart_buffer_8hpp.html">SmartBuffer.hpp</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;SystemInterpreter.hpp&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_global_names_8hpp.html">GlobalNames.hpp</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_activity_manager_8hpp.html">ActivityManager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;SysFile.hpp&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> * Create a new program source instance</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> * @param size   The size of the handler</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> * @return The allocated object.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="class_program_source.html#a1679fad7715997f649f606c75f288540">   61</a></span>&#160;<span class="keywordtype">void</span> *ProgramSource::operator <span class="keyword">new</span>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_memory_8hpp.html#ad572e2a38397a2f5fd722c58bfff9e13">new_object</a>(size, <a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a954e63158db0b3eba5f6c10f76eeacb8">T_ProgramSource</a>);  <span class="comment">// Get new object</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> * Retrieve a source line as a string object.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> * @param position The line position.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> * @return A string version of the source line.  Returns &quot;&quot; if the</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> *         source line is not available.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">   75</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">ProgramSource::getStringLine</a>(<span class="keywordtype">size_t</span> position)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *linePointer;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">size_t</span> lineLength;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="class_program_source.html#a893b1474ed59fba4d2a9b978390d8095">getLine</a>(position, linePointer, lineLength);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// a length of 0 either means this IS a null line or</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// the line does not exist.  Just return the constant</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// null string regardless.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (lineLength == 0)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">return</span> GlobalNames::NULLSTRING;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// convert to a string object.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_string_class_8hpp.html#a4a9c05b5920cf789e1f3629037c9921a">new_string</a>(linePointer, lineLength);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"> * Retrieve a a portion of a source line</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"> * @param position  The line position.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"> * @param startOffset</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"> *                  The offset of the first character (zero based).</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"> * @param endOffset The offset of the last character (zero</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"> *                  based), but actually points one past the</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"> *                  end.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"> * @return A string version of the source line.  Returns &quot;&quot; if the</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"> *         source line is not available.</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="class_program_source.html#a22900b803a037eccc9f19e92232a5094">  107</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">ProgramSource::getStringLine</a>(<span class="keywordtype">size_t</span> position, <span class="keywordtype">size_t</span> startOffset, <span class="keywordtype">size_t</span> endOffset)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *linePointer;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordtype">size_t</span> lineLength;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="class_program_source.html#a893b1474ed59fba4d2a9b978390d8095">getLine</a>(position, linePointer, lineLength);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// a length of 0 either means this IS a null line or</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// the line does not exist.  Just return the constant</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// null string regardless.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (lineLength == 0)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">return</span> GlobalNames::NULLSTRING;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// protect from an overrun</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    startOffset = std::min(startOffset, lineLength);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// we frequently ask for the entire line by giving an offset of zero.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span> (endOffset == 0)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        endOffset = lineLength;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        endOffset = std::min(endOffset, lineLength);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// we can use this to extract from a position to the end by</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// specifying an end offset of 0</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (endOffset &lt; startOffset)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        endOffset = lineLength;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// convert to a string object.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_string_class_8hpp.html#a4a9c05b5920cf789e1f3629037c9921a">new_string</a>(linePointer + startOffset, endOffset - startOffset);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"> * Extract a line from the source given a source location.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"> * @param location The location indicator.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment"> * @return The source line, as a string object.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="class_program_source.html#af3fef4e0c500c0862eb729553f734c6d">  153</a></span>&#160;<a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="class_program_source.html#af3fef4e0c500c0862eb729553f734c6d">ProgramSource::extract</a>(<a class="code" href="class_source_location.html">SourceLocation</a> &amp;location )</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// not traceable means no source, so just return a null string regardless</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_program_source.html#a2aaba79dac13f7f270550ea5e99416cd">isTraceable</a>())</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">return</span> GlobalNames::NULLSTRING;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// make sure this is within range of the lines we have.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>() &lt; <a class="code" href="class_program_source.html#a42fb68e22a444fe44d180f1a65d483e0">getFirstLine</a>() || location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>() &gt; <a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a>)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span> GlobalNames::NULLSTRING;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// easiest situation is all on one line.</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>() &gt;= location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>())</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">getStringLine</a>(location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>(), location.<a class="code" href="class_source_location.html#af271814b2df51e1ed8e0028ef490a859">getOffset</a>(), location.<a class="code" href="class_source_location.html#aa4d0fdbc3601b897ea5d210fd76885a1">getEndOffset</a>());</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="comment">// multiple line case...sigh.  We need to build this up</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="comment">// start with the first line, which might be a partial</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="class_protected_object.html">ProtectedObject</a> <a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> = <a class="code" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">getStringLine</a>(location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>(), location.<a class="code" href="class_source_location.html#af271814b2df51e1ed8e0028ef490a859">getOffset</a>());</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// now concatentate all of the full lines onto this until we get to the final line, which is likely</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment">// a partial line again.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="_interpreter_instance_8cpp.html#a7ed39eecb03f7a63d73133a598a1ab43">counter</a> = location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>() + 1; <a class="code" href="_interpreter_instance_8cpp.html#a7ed39eecb03f7a63d73133a598a1ab43">counter</a> &lt; location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>(); <a class="code" href="_interpreter_instance_8cpp.html#a7ed39eecb03f7a63d73133a598a1ab43">counter</a>++)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> = ((<a class="code" href="class_rexx_string.html">RexxString</a> *)<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>)-&gt;concat(<a class="code" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">getStringLine</a>(<a class="code" href="_interpreter_instance_8cpp.html#a7ed39eecb03f7a63d73133a598a1ab43">counter</a>));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="comment">// and finally add the partial last line</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">return</span> ((<a class="code" href="class_rexx_string.html">RexxString</a> *)<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>)-&gt;concat(<a class="code" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">getStringLine</a>(location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>(), 0, location.<a class="code" href="class_source_location.html#aa4d0fdbc3601b897ea5d210fd76885a1">getEndOffset</a>()));</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> * Extract a section of source as an array of lines.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> * @param location The location defining the start and end positions.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> * @return An array of the source lines. The first and last lines</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"> *         might be partial lines from the source.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="class_program_source.html#aa26a8f75ae9425dfb2e39b6da30558e3">  196</a></span>&#160;<a class="code" href="class_array_class.html">ArrayClass</a> *<a class="code" href="class_program_source.html#aa26a8f75ae9425dfb2e39b6da30558e3">ProgramSource::extractSourceLines</a>(<a class="code" href="class_source_location.html">SourceLocation</a> &amp;location )</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// not traceable means no source, so just return a null string regardless</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_program_source.html#a2aaba79dac13f7f270550ea5e99416cd">isTraceable</a>())</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="comment">// return a zero length array</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_array_class_8hpp.html#a8a4a1e6f379984082fb1e193428cbd33">new_array</a>((<span class="keywordtype">size_t</span>)0);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// is the start location out of bounds?  Also a null array</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> (location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>() == 0 || location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>() &gt; <a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a>)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_array_class_8hpp.html#a8a4a1e6f379984082fb1e193428cbd33">new_array</a>((<span class="keywordtype">size_t</span>)0);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">// we have something to extract.  If the end line is set to zero, that means</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">// extract everything, so set the location information.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>() == 0)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="comment">// retrieve the last line specifics and fudge the location data</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="comment">// with the information.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *linePointer;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="keywordtype">size_t</span> lineLength;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <a class="code" href="class_program_source.html#a893b1474ed59fba4d2a9b978390d8095">getLine</a>(<a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a>, linePointer, lineLength);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            location.<a class="code" href="class_source_location.html#a383a40fd703c10977cead7d61904422e">setEnd</a>(<a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a>, lineLength);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="comment">// is the last line marked at the start?  Don&#39;t</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="comment">// include anything from that line</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (location.<a class="code" href="class_source_location.html#aa4d0fdbc3601b897ea5d210fd76885a1">getEndOffset</a>() == 0)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="comment">// step back a line, and set the location to the line length</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            location.<a class="code" href="class_source_location.html#a62491b80ab798290a0f7997e1cab1068">setEndLine</a>(location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>() - 1);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *linePointer;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordtype">size_t</span> lineLength;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="class_program_source.html#a893b1474ed59fba4d2a9b978390d8095">getLine</a>(location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>(), linePointer, lineLength);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            location.<a class="code" href="class_source_location.html#ac1dff946aca61e35cc6feb6288ffca8a">setEndOffset</a>(lineLength);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="comment">// get the result array</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="class_array_class.html">ArrayClass</a> *source = <a class="code" href="_array_class_8hpp.html#a8a4a1e6f379984082fb1e193428cbd33">new_array</a>(location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>() - location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>() + 1);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="class_protected_object.html">ProtectedObject</a> p(source);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// is this just one one line?  This is easy</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>() == location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>())</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="comment">// get the single line and add to the source array.  Then we&#39;re done</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> = <a class="code" href="class_program_source.html#af3fef4e0c500c0862eb729553f734c6d">extract</a>(location);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            source-&gt;<a class="code" href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">put</a>(<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>, 1);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">return</span> source;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="comment">// extract everything from the starting offset to the end. and add it to the array</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        source-&gt;<a class="code" href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">put</a>(<a class="code" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">getStringLine</a>(location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>(), location.<a class="code" href="class_source_location.html#af271814b2df51e1ed8e0028ef490a859">getOffset</a>(), 0), 1);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordtype">size_t</span> i = 2;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">// now loop over all lines in between, adding entire lines</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="_interpreter_instance_8cpp.html#a7ed39eecb03f7a63d73133a598a1ab43">counter</a> = location.<a class="code" href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">getLineNumber</a>() + 1; <a class="code" href="_interpreter_instance_8cpp.html#a7ed39eecb03f7a63d73133a598a1ab43">counter</a> &lt; location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>(); <a class="code" href="_interpreter_instance_8cpp.html#a7ed39eecb03f7a63d73133a598a1ab43">counter</a>++, i++)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            source-&gt;<a class="code" href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">put</a>(<a class="code" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">getStringLine</a>(<a class="code" href="_interpreter_instance_8cpp.html#a7ed39eecb03f7a63d73133a598a1ab43">counter</a>), i);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="comment">// now get the end portion</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        source-&gt;<a class="code" href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">put</a>(<a class="code" href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">getStringLine</a>(location.<a class="code" href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">getEndLine</a>(), 0, location.<a class="code" href="class_source_location.html#aa4d0fdbc3601b897ea5d210fd76885a1">getEndOffset</a>()), i);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">return</span> source;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"> * Create a new program source instance</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"> * @param size   The size of the handler</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"> * @return The allocated object.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#a1dbc52a14ab20d855480eebd4b845350">  273</a></span>&#160;<span class="keywordtype">void</span> *BufferProgramSource::operator <span class="keyword">new</span>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;{</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_memory_8hpp.html#ad572e2a38397a2f5fd722c58bfff9e13">new_object</a>(size, <a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a6be198192171cfaa8d30abdc7a9bcace">T_BufferProgramSource</a>);  <span class="comment">// Get new object</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"> * Perform garbage collection on a live object.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"> * @param liveMark The current live mark.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#acecb8b39f99254396f8811c31b60d127">  284</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_buffer_program_source.html#acecb8b39f99254396f8811c31b60d127">BufferProgramSource::live</a>(<span class="keywordtype">size_t</span> liveMark)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;{</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_buffer_program_source.html#a4416e49565d0f5e31549b35906c37486">descriptorArea</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"> * Perform generalized live marking on an object.  This is</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment"> * used when mark-and-sweep processing is needed for purposes</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"> * other than garbage collection.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"> * @param reason The reason for the marking call.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#a1c1cf84fb3627b76dd59f3025b539550">  298</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_buffer_program_source.html#a1c1cf84fb3627b76dd59f3025b539550">BufferProgramSource::liveGeneral</a>(<a class="code" href="_object_class_8hpp.html#a09453535aa429cceaa131b911d4caa73">MarkReason</a> reason)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;{</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_buffer_program_source.html#a4416e49565d0f5e31549b35906c37486">descriptorArea</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"> * Flatten a program source object.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"> * @param envelope The envelope used for the data.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#a358f11a6255dd5ec30f273cc26bc7734">  310</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_buffer_program_source.html#a358f11a6255dd5ec30f273cc26bc7734">BufferProgramSource::flatten</a>(<a class="code" href="class_envelope.html">Envelope</a> *envelope)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#af339a57b7eca39790add6e6d712c2e95">setUpFlatten</a>(<a class="code" href="class_buffer_program_source.html">BufferProgramSource</a>)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <a class="code" href="_rexx_memory_8hpp.html#abad9185788b016bc87ba0eaeaac1e177">flattenRef</a>(<a class="code" href="class_buffer_program_source.html#a4416e49565d0f5e31549b35906c37486">descriptorArea</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="_rexx_memory_8hpp.html#abad9185788b016bc87ba0eaeaac1e177">flattenRef</a>(<a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ae08cb30e42b8369ad75710ff7defa70d">cleanUpFlatten</a></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"> * Get the buffer pointer and length information so that</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> * the descriptors can be set up.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> * @param data   The returned data pointer.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> * @param length The returned data length.</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#a6a70d6276e9d03586c55b7fc5cf018f5">  326</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_buffer_program_source.html#a6a70d6276e9d03586c55b7fc5cf018f5">BufferProgramSource::getBuffer</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *&amp;data, <span class="keywordtype">size_t</span> &amp;length)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;{</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// just copy the buffer specifics to the variables</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    data = <a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>-&gt;<a class="code" href="class_buffer_class.html#a50f839199283aeaeba79ad986cb7851a">getData</a>();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    length = <a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>-&gt;<a class="code" href="class_buffer_class_base.html#ac69e1aa513281794d97c188500777cf2">getDataLength</a>();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> * Perform setup on the descriptors and the buffer</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> * information.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#a42b33112535d77e2e6f42ed17039c4a6">  337</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_buffer_program_source.html#a42b33112535d77e2e6f42ed17039c4a6">BufferProgramSource::setup</a>()</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;{</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">// just construct the descriptor area</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="class_buffer_program_source.html#ae70bd0d00dbcd35d3c47b4a9c962bf9f">buildDescriptors</a>();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"> * Perform setup on the descriptors and the buffer</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> * information.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#ae70bd0d00dbcd35d3c47b4a9c962bf9f">  348</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_buffer_program_source.html#ae70bd0d00dbcd35d3c47b4a9c962bf9f">BufferProgramSource::buildDescriptors</a>()</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *bufferArea = NULL;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordtype">size_t</span> bufferLength = 0;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">// access the buffer data (provided by the subclasses</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="class_buffer_program_source.html#a6a70d6276e9d03586c55b7fc5cf018f5">getBuffer</a>(bufferArea, bufferLength);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">// allocate a smart buffer to hold the line descriptors.  This will expand</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// as necessary as we add data to this</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="class_smart_buffer.html">SmartBuffer</a> *indices = <span class="keyword">new</span> <a class="code" href="class_smart_buffer.html">SmartBuffer</a>(1024);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="class_protected_object.html">ProtectedObject</a> p(indices);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="class_line_descriptor.html">LineDescriptor</a> descriptor;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// copy a dummy 0-th descriptor to the list.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// NOTE: SmartBuffer copyData appends to last copied position.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    indices-&gt;<a class="code" href="class_smart_buffer.html#a1cf3094b2142f40bf8dd49f6311e55e7">copyData</a>(&amp;descriptor, <span class="keyword">sizeof</span>(descriptor));</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// we have zero lines initially.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a> = 0;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">// scan for an EOF mark (rare), but we truncate the data if we find one.</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *scan = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)memchr(bufferArea, <a class="code" href="_program_source_8hpp.html#a4aa83818e72d390465aa1549d66a09c1">ctrl_z</a>, bufferLength);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (scan != NULL)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        bufferLength = scan - bufferArea;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">// now we start scanning for lines from the beginning.  NOTE:</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">// we will handle any #! line after we scan.  If we find one, we&#39;ll</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// adjust the first descriptor to be a zero-length line so that</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// nothing will end up getting scanned.  This way we don&#39;t end up</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// modifying data we shouldn&#39;t be touching.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *current = bufferArea;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// now search for all of the line-end markers in the buffer</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordflow">while</span> (bufferLength != 0)</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="comment">// bump the line count, and set the descriptor offset based on</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="comment">// our current scan positions.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a>++;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        descriptor.<a class="code" href="class_line_descriptor.html#a445d9d1de0a77c79cde895f6d56701a6">position</a> = current - bufferArea;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160; </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="comment">// scan for a line-end (note, we handle both /n and /r/n variants</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        scan = <a class="code" href="class_utilities.html#a14cf0efc444eb67d99f28f37176e3e64">Utilities::locateCharacter</a>(current, <a class="code" href="_program_source_8hpp.html#a347bc9476e29f5d569a2976823c8ae50">line_delimiters</a>, bufferLength);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="comment">// not found, we&#39;re at the end with no line-end marker.  Consume</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="comment">// the remainder for this descriptor and set the length to 0 to</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="comment">// terminate the scan</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">if</span> (scan == NULL)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            current = current + bufferLength;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            descriptor.<a class="code" href="class_line_descriptor.html#a02e9fb3d145655bdcb9899337725913b">length</a> = bufferLength;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            bufferLength = 0;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="comment">// consume this segment, then figure out what sort</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="comment">// of line terminator we have</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            descriptor.<a class="code" href="class_line_descriptor.html#a02e9fb3d145655bdcb9899337725913b">length</a> = scan - current;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="comment">// was this a CR character?  We need to check if there is also</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="comment">// a LF paired with it.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="keywordflow">if</span> (*scan == <a class="code" href="_program_source_8hpp.html#a347bc9476e29f5d569a2976823c8ae50">line_delimiters</a>[0])</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                scan++;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="comment">// this could be at the end, don&#39;t overrun the buffer</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <span class="keywordflow">if</span> (bufferLength &gt; (<span class="keywordtype">size_t</span>)(scan - current))</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    <span class="comment">// still have room, so check for the LF and step if</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    <span class="comment">// found.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    <span class="keywordflow">if</span> (*scan == <a class="code" href="_program_source_8hpp.html#a347bc9476e29f5d569a2976823c8ae50">line_delimiters</a>[1])</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                    {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                        scan++;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="comment">// by definition, this must be a LF, so we can just step over it.</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                scan++;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="comment">// consume this section and go around</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            bufferLength -= scan - current;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            current = scan;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="comment">// append this to the end of the descriptors</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        indices-&gt;<a class="code" href="class_smart_buffer.html#a1cf3094b2142f40bf8dd49f6311e55e7">copyData</a>(&amp;descriptor, <span class="keyword">sizeof</span>(descriptor));</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// ok, get the embedded buffer and keep that portion</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a0dcf0bbe424a73800c55d84ba37ec0b4">setField</a>(<a class="code" href="class_buffer_program_source.html#a4416e49565d0f5e31549b35906c37486">descriptorArea</a>, indices-&gt;<a class="code" href="class_smart_buffer.html#aa7247859c2b146e1ab380b2b69250de2">getBuffer</a>());</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// now we need to see if we&#39;ve got a shebang line.  If we find</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// this, tell the language parser to start parsing on the second line.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// This will cause the line to be ignored, but it will be left in the</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// lines returned by sourceline.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span> (bufferArea[0] == <span class="charliteral">&#39;#&#39;</span> &amp;&amp; bufferArea[1] == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="comment">// start parsing with the second line</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="class_program_source.html#a12bbd8e867fab04c9eee8f7fc201a669">firstLine</a> = 2;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"> * Get a specific descriptor for a line.  NOTE:  this does</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> * not do any validity checking on the line position.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"> * @param l      The target line position.</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment"> * @return The descriptor for that line.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#a3676dd19a03d4f6c454a98099b79e5ac">  464</a></span>&#160;<a class="code" href="class_line_descriptor.html">LineDescriptor</a> &amp;<a class="code" href="class_buffer_program_source.html#a3676dd19a03d4f6c454a98099b79e5ac">BufferProgramSource::getDescriptor</a>(<span class="keywordtype">size_t</span> l)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_buffer_program_source.html#a55a9a0aa60455e0162453eea78ddca71">getDescriptors</a>()[l];</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment"> * Get a pointer to the buffer descriptors.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment"> * @return A pointer to the array of line descriptors.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#a55a9a0aa60455e0162453eea78ddca71">  475</a></span>&#160;<a class="code" href="class_line_descriptor.html">LineDescriptor</a> *<a class="code" href="class_buffer_program_source.html#a55a9a0aa60455e0162453eea78ddca71">BufferProgramSource::getDescriptors</a>()</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// just cast the pointer to the buffer area</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="class_line_descriptor.html">LineDescriptor</a> *)<a class="code" href="class_buffer_program_source.html#a4416e49565d0f5e31549b35906c37486">descriptorArea</a>-&gt;<a class="code" href="class_buffer_class.html#a50f839199283aeaeba79ad986cb7851a">getData</a>();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"> * Retrieve the line information for a specific line</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"> * position.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> * @param lineNumber The target line number</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> * @param linePointer</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> *                   A returned line pointer for the line.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment"> * @param lineLength The returned line length.</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#a0f4519da826e0c0e1071c7118d231b0e">  492</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_buffer_program_source.html#a0f4519da826e0c0e1071c7118d231b0e">BufferProgramSource::getLine</a>(<span class="keywordtype">size_t</span> lineNumber, <span class="keyword">const</span> <span class="keywordtype">char</span> *&amp;linePointer, <span class="keywordtype">size_t</span> &amp;lineLength)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;{</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// check to see if  the requested number in bounds</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (lineNumber &gt; <a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a>)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <span class="comment">// null out the line information and quit</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        linePointer = NULL;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        lineLength = 0;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// get the line descriptor and turn that into a pointer/length pair</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <a class="code" href="class_line_descriptor.html">LineDescriptor</a> &amp;<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> = <a class="code" href="class_buffer_program_source.html#a3676dd19a03d4f6c454a98099b79e5ac">getDescriptor</a>(lineNumber);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>.getLine(<a class="code" href="class_buffer_program_source.html#abb55e96cb8eb460f9d0297d8374ac8c6">getBufferPointer</a>(), linePointer, lineLength);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment"> * Get the pointer to the source buffer area.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment"> * @return The character pointer to the buffer.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="class_buffer_program_source.html#abb55e96cb8eb460f9d0297d8374ac8c6">  514</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="class_buffer_program_source.html#abb55e96cb8eb460f9d0297d8374ac8c6">BufferProgramSource::getBufferPointer</a>()</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>-&gt;<a class="code" href="class_buffer_class.html#a50f839199283aeaeba79ad986cb7851a">getData</a>();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"> * Create a new program source instance</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment"> * @param size   The size of the handler</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment"> * @return The allocated object.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="class_array_program_source.html#ab1acea47dfe48cf3a8f6a0940a971707">  527</a></span>&#160;<span class="keywordtype">void</span> *ArrayProgramSource::operator <span class="keyword">new</span>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;{</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_memory_8hpp.html#ad572e2a38397a2f5fd722c58bfff9e13">new_object</a>(size, <a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02ab1bba39d935496f9b84a8d275cc1f08c">T_ArrayProgramSource</a>);  <span class="comment">// Get new object</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"> * Perform garbage collection on a live object.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment"> * @param liveMark The current live mark.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="class_array_program_source.html#a1ee26ead7a252e761042250833773240">  538</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_array_program_source.html#a1ee26ead7a252e761042250833773240">ArrayProgramSource::live</a>(<span class="keywordtype">size_t</span> liveMark)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;{</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_array_program_source.html#a144345c923dac56fb94494f37fc4e654">array</a>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> * Perform generalized live marking on an object.  This is</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> * used when mark-and-sweep processing is needed for purposes</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> * other than garbage collection.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"> * @param reason The reason for the marking call.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="class_array_program_source.html#ab4d9c7fa92e0ea49e32cd3fb2b5167ab">  550</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_array_program_source.html#ab4d9c7fa92e0ea49e32cd3fb2b5167ab">ArrayProgramSource::liveGeneral</a>(<a class="code" href="_object_class_8hpp.html#a09453535aa429cceaa131b911d4caa73">MarkReason</a> reason)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;{</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_array_program_source.html#a144345c923dac56fb94494f37fc4e654">array</a>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"> * Flatten a program source object.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> * @param envelope The envelope used for the data.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="class_array_program_source.html#a7d2741e1287c60cc9887a8062081c55d">  561</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_array_program_source.html#a7d2741e1287c60cc9887a8062081c55d">ArrayProgramSource::flatten</a>(<a class="code" href="class_envelope.html">Envelope</a> *envelope)</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;{</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#af339a57b7eca39790add6e6d712c2e95">setUpFlatten</a>(<a class="code" href="class_array_program_source.html">ArrayProgramSource</a>)</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <a class="code" href="_rexx_memory_8hpp.html#abad9185788b016bc87ba0eaeaac1e177">flattenRef</a>(<a class="code" href="class_array_program_source.html#a144345c923dac56fb94494f37fc4e654">array</a>);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ae08cb30e42b8369ad75710ff7defa70d">cleanUpFlatten</a></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"> * Perform any needed setup for this program source.  For</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment"> * arrays, this is just setting the linecount.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="class_array_program_source.html#a5a2307320b175a42b4b0006c067713ac">  572</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_array_program_source.html#a5a2307320b175a42b4b0006c067713ac">ArrayProgramSource::setup</a>()</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;{</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordtype">size_t</span> adjust = 0;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// if we have an interpret adjustment, back it off one</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_array_program_source.html#ae44c72f234630b77ccee717f05922e30">interpretAdjust</a> &gt; 0)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        adjust = <a class="code" href="class_array_program_source.html#ae44c72f234630b77ccee717f05922e30">interpretAdjust</a> - 1;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">// set the line count to the number of items</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a> = <a class="code" href="class_array_program_source.html#a144345c923dac56fb94494f37fc4e654">array</a>-&gt;<a class="code" href="class_array_class.html#acc163bec438db906081313190032dcdc">lastIndex</a>();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// fake things out by the interpret adjustment amount</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a> += adjust;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// also adjust the first line</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="class_program_source.html#a12bbd8e867fab04c9eee8f7fc201a669">firstLine</a> += adjust;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// it is possible that the array version might include a shebang line (sigh).</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// if we detect that, replace it with a null line so it will be ignored.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">// BUT, we don&#39;t do this if we&#39;re an interpret.</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a> &gt; 0 &amp;&amp; <a class="code" href="class_array_program_source.html#ae44c72f234630b77ccee717f05922e30">interpretAdjust</a> == 0)</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> = (<a class="code" href="class_rexx_string.html">RexxString</a> *)<a class="code" href="class_array_program_source.html#a144345c923dac56fb94494f37fc4e654">array</a>-&gt;<a class="code" href="class_array_class.html#ac9ff63dbacda2000a4f783568b5428f2">get</a>(1);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="comment">// now we need to see if we&#39;ve got a shebang line.  If we find</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="comment">// this, bump the start line by one so we start parsing after the shebang</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment">// we want to keep the line so we don&#39;t throw off the line counts.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>-&gt;startsWith(<span class="stringliteral">&quot;#!&quot;</span>))</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <a class="code" href="class_program_source.html#a12bbd8e867fab04c9eee8f7fc201a669">firstLine</a>++;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment"> * Retrieve the line information for a specific line</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment"> * position.</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"> * @param lineNumber The target line number (which will be adjusted with</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"> *                   the interpret adjustment).</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"> * @param linePointer</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"> *                   A returned line pointer for the line.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"> * @param lineLength The returned line length.</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="class_array_program_source.html#a0bdc1a0be5a475beeabbbb3c084f4f75">  619</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_array_program_source.html#a0bdc1a0be5a475beeabbbb3c084f4f75">ArrayProgramSource::getLine</a>(<span class="keywordtype">size_t</span> lineNumber, <span class="keyword">const</span> <span class="keywordtype">char</span> *&amp;linePointer, <span class="keywordtype">size_t</span> &amp;lineLength)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;{</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">if</span> (lineNumber &gt; <a class="code" href="class_program_source.html#af159827084fa042b8de513f63050dd6c">lineCount</a> || lineNumber &lt; <a class="code" href="class_array_program_source.html#ae44c72f234630b77ccee717f05922e30">interpretAdjust</a>)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="comment">// null out the line information and quit</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        linePointer = NULL;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        lineLength = 0;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// adjust for the interpret offset</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordtype">size_t</span> targetLine = lineNumber - (<a class="code" href="class_array_program_source.html#ae44c72f234630b77ccee717f05922e30">interpretAdjust</a> &gt; 0 ? <a class="code" href="class_array_program_source.html#ae44c72f234630b77ccee717f05922e30">interpretAdjust</a> - 1 : 0);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">// get the line from the array, making sure we adjust for interpret line numbers.</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="class_rexx_string.html">RexxString</a> *<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> = (<a class="code" href="class_rexx_string.html">RexxString</a> *)(<a class="code" href="class_array_program_source.html#a144345c923dac56fb94494f37fc4e654">array</a>-&gt;<a class="code" href="class_array_class.html#ac9ff63dbacda2000a4f783568b5428f2">get</a>(targetLine));</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// A missing line?  We could have been handed a sparse array.  This is an error</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a97bb20e76914f6a0babda09c4d37deba">Error_Translation_invalid_line</a>);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">//  now make sure we&#39;ve been given a string item in each position</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_rexx_behaviour_8hpp.html#adfb9f540f95c50ea0678757f1bd6f3a9">isString</a>(<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>))</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="comment">// convert any non-string to a string if we can</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> = <a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>-&gt;stringValue();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="comment">// .nil can&#39;t be converted, this is also an error</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> == <a class="code" href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a>)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            <a class="code" href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a97bb20e76914f6a0babda09c4d37deba">Error_Translation_invalid_line</a>);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">// we work with direct pointer/length information, so set the new current</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    linePointer = <a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>-&gt;getStringData();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    lineLength = <a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>-&gt;getLength();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;}</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment"> * Create a new program source instance</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"> * @param size   The size of the handler</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment"> * @return The allocated object.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="class_file_program_source.html#aca7cc06622c79579010e0a484a44e450">  664</a></span>&#160;<span class="keywordtype">void</span> *FileProgramSource::operator <span class="keyword">new</span>(<span class="keywordtype">size_t</span> size)</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_memory_8hpp.html#ad572e2a38397a2f5fd722c58bfff9e13">new_object</a>(size, <a class="code" href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a6fc5e67b801e235083fa58817526275e">T_FileProgramSource</a>);  <span class="comment">// Get new object</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment"> * Perform garbage collection on a live object.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment"> * @param liveMark The current live mark.</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="class_file_program_source.html#a1f7b82bf26934ca83b615fff58d19aec">  675</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_file_program_source.html#a1f7b82bf26934ca83b615fff58d19aec">FileProgramSource::live</a>(<span class="keywordtype">size_t</span> liveMark)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;{</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_buffer_program_source.html#a4416e49565d0f5e31549b35906c37486">descriptorArea</a>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a>(<a class="code" href="class_file_program_source.html#a6fb8bd79033a8e423f56e6e5183a8ab2">fileName</a>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;}</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment"> * Perform generalized live marking on an object.  This is</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment"> * used when mark-and-sweep processing is needed for purposes</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment"> * other than garbage collection.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment"> * @param reason The reason for the marking call.</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="class_file_program_source.html#afb25e716629c588f7a021515acda6ddb">  689</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_file_program_source.html#afb25e716629c588f7a021515acda6ddb">FileProgramSource::liveGeneral</a>(<a class="code" href="_object_class_8hpp.html#a09453535aa429cceaa131b911d4caa73">MarkReason</a> reason)</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;{</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_buffer_program_source.html#a4416e49565d0f5e31549b35906c37486">descriptorArea</a>);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a>(<a class="code" href="class_file_program_source.html#a6fb8bd79033a8e423f56e6e5183a8ab2">fileName</a>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment"> * Flatten a program source object.</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment"> * @param envelope The envelope used for the data.</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="class_file_program_source.html#ab3d419cb28229c93f41d4e08debe6467">  702</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_file_program_source.html#ab3d419cb28229c93f41d4e08debe6467">FileProgramSource::flatten</a>(<a class="code" href="class_envelope.html">Envelope</a> *envelope)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#af339a57b7eca39790add6e6d712c2e95">setUpFlatten</a>(<a class="code" href="class_file_program_source.html">FileProgramSource</a>)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <a class="code" href="_rexx_memory_8hpp.html#abad9185788b016bc87ba0eaeaac1e177">flattenRef</a>(<a class="code" href="class_buffer_program_source.html#a4416e49565d0f5e31549b35906c37486">descriptorArea</a>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <a class="code" href="_rexx_memory_8hpp.html#abad9185788b016bc87ba0eaeaac1e177">flattenRef</a>(<a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <a class="code" href="_rexx_memory_8hpp.html#abad9185788b016bc87ba0eaeaac1e177">flattenRef</a>(<a class="code" href="class_file_program_source.html#a6fb8bd79033a8e423f56e6e5183a8ab2">fileName</a>);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="_rexx_memory_8hpp.html#ae08cb30e42b8369ad75710ff7defa70d">cleanUpFlatten</a></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment"> * Initialize the program source object from file data.</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="class_file_program_source.html#acbba89ecb32964c9c3a67023072c521f">  715</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_file_program_source.html#acbba89ecb32964c9c3a67023072c521f">FileProgramSource::setup</a>()</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;{</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// read the file into a buffer object, reporting an error if this failed</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// for any reason</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a> = <a class="code" href="class_file_program_source.html#a827ed5c742cbfd3848ed4ad47651bc83">readProgram</a>(<a class="code" href="class_file_program_source.html#a6fb8bd79033a8e423f56e6e5183a8ab2">fileName</a>-&gt;<a class="code" href="class_rexx_string.html#aaf47ec1ef2009a65092c14cea082a7f9">getStringData</a>());</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a> == <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>)</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <a class="code" href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a>(<a class="code" href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a4ad4549df585cdd6157ea27b373351e6">Error_Program_unreadable_name</a>, <a class="code" href="class_file_program_source.html#a6fb8bd79033a8e423f56e6e5183a8ab2">fileName</a>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="comment">// go set up all of the line information so the parser can read this.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="class_buffer_program_source.html#a42b33112535d77e2e6f42ed17039c4a6">BufferProgramSource::setup</a>();</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment"> * Read a program, returning a buffer object.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment"> * @param file_name The target file name.</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment"> * @return A buffer object holding the program data.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="class_file_program_source.html#a827ed5c742cbfd3848ed4ad47651bc83">  736</a></span>&#160;<a class="code" href="class_buffer_class.html">BufferClass</a>* <a class="code" href="class_file_program_source.html#a827ed5c742cbfd3848ed4ad47651bc83">FileProgramSource::readProgram</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *file_name)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;{</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="class_sys_file.html">SysFile</a> programFile;          <span class="comment">// the file we&#39;re reading</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">// if unable to open this, return false</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">if</span> (!programFile.<a class="code" href="class_sys_file.html#ab59bfdafd28832d21a2b239174eec299">open</a>(file_name, <a class="code" href="unix_2_sys_file_8hpp.html#a517ccdfde2dc2189825304291b428f42">RX_O_RDONLY</a>, <a class="code" href="unix_2_sys_file_8hpp.html#a4c7585605dc0ab0ed2730a48d4e63f51">RX_S_IREAD</a>, <a class="code" href="unix_2_sys_file_8hpp.html#a5d6a52000f2d86a1583eeb84cea9cd16">RX_SH_DENYWR</a>))</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="windows_2rexxapitypes_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> bufferSize = 0;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// get the size of the file</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    programFile.<a class="code" href="class_sys_file.html#a4b8eb988e7662d8500b4a7ce31cc78cd">getSize</a>(bufferSize);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordtype">size_t</span> readSize;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">// get a buffer object to return the image</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="class_protected.html">Protected&lt;BufferClass&gt;</a> <a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a> = <a class="code" href="_buffer_class_8hpp.html#a434bb1dd35461c9cf3f44e16a8d60c47">new_buffer</a>((<span class="keywordtype">size_t</span>)bufferSize);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <a class="code" href="class_unsafe_block.html">UnsafeBlock</a> releaser;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="comment">// read the data</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        programFile.<a class="code" href="class_sys_file.html#ab96591dd7cfa1192a49c99eb8ab3ce9a">read</a>(<a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>-&gt;<a class="code" href="class_buffer_class.html#a50f839199283aeaeba79ad986cb7851a">getData</a>(), (<span class="keywordtype">size_t</span>)bufferSize, readSize);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        programFile.<a class="code" href="class_sys_file.html#a86c4fbec300dc5f68d7387e8621a6185">close</a>();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// if there was a read error, return nothing</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="windows_2rexxapitypes_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a>)readSize &lt; bufferSize)</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">// ready to run</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">buffer</a>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
<div class="ttc" id="a_activity_manager_8hpp_html"><div class="ttname"><a href="_activity_manager_8hpp.html">ActivityManager.hpp</a></div></div>
<div class="ttc" id="a_activity_manager_8hpp_html_ab278a90c36b1ea34f0d6a7e280799eaa"><div class="ttname"><a href="_activity_manager_8hpp.html#ab278a90c36b1ea34f0d6a7e280799eaa">reportException</a></div><div class="ttdeci">void reportException(RexxErrorCodes error)</div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8hpp_source.html#l00211">ActivityManager.hpp:211</a></div></div>
<div class="ttc" id="a_array_class_8hpp_html_a8a4a1e6f379984082fb1e193428cbd33"><div class="ttname"><a href="_array_class_8hpp.html#a8a4a1e6f379984082fb1e193428cbd33">new_array</a></div><div class="ttdeci">ArrayClass * new_array()</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00362">ArrayClass.hpp:362</a></div></div>
<div class="ttc" id="a_buffer_class_8hpp_html"><div class="ttname"><a href="_buffer_class_8hpp.html">BufferClass.hpp</a></div></div>
<div class="ttc" id="a_buffer_class_8hpp_html_a434bb1dd35461c9cf3f44e16a8d60c47"><div class="ttname"><a href="_buffer_class_8hpp.html#a434bb1dd35461c9cf3f44e16a8d60c47">new_buffer</a></div><div class="ttdeci">BufferClass * new_buffer(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00124">BufferClass.hpp:124</a></div></div>
<div class="ttc" id="a_class_type_codes_8h_html_a9b8ca21e3e1d826b3a2be53bde5c6c02a6be198192171cfaa8d30abdc7a9bcace"><div class="ttname"><a href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a6be198192171cfaa8d30abdc7a9bcace">T_BufferProgramSource</a></div><div class="ttdeci">@ T_BufferProgramSource</div><div class="ttdef"><b>Definition:</b> <a href="_class_type_codes_8h_source.html#l00228">ClassTypeCodes.h:228</a></div></div>
<div class="ttc" id="a_class_type_codes_8h_html_a9b8ca21e3e1d826b3a2be53bde5c6c02a6fc5e67b801e235083fa58817526275e"><div class="ttname"><a href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a6fc5e67b801e235083fa58817526275e">T_FileProgramSource</a></div><div class="ttdeci">@ T_FileProgramSource</div><div class="ttdef"><b>Definition:</b> <a href="_class_type_codes_8h_source.html#l00229">ClassTypeCodes.h:229</a></div></div>
<div class="ttc" id="a_class_type_codes_8h_html_a9b8ca21e3e1d826b3a2be53bde5c6c02a954e63158db0b3eba5f6c10f76eeacb8"><div class="ttname"><a href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02a954e63158db0b3eba5f6c10f76eeacb8">T_ProgramSource</a></div><div class="ttdeci">@ T_ProgramSource</div><div class="ttdef"><b>Definition:</b> <a href="_class_type_codes_8h_source.html#l00226">ClassTypeCodes.h:226</a></div></div>
<div class="ttc" id="a_class_type_codes_8h_html_a9b8ca21e3e1d826b3a2be53bde5c6c02ab1bba39d935496f9b84a8d275cc1f08c"><div class="ttname"><a href="_class_type_codes_8h.html#a9b8ca21e3e1d826b3a2be53bde5c6c02ab1bba39d935496f9b84a8d275cc1f08c">T_ArrayProgramSource</a></div><div class="ttdeci">@ T_ArrayProgramSource</div><div class="ttdef"><b>Definition:</b> <a href="_class_type_codes_8h_source.html#l00227">ClassTypeCodes.h:227</a></div></div>
<div class="ttc" id="a_global_names_8hpp_html"><div class="ttname"><a href="_global_names_8hpp.html">GlobalNames.hpp</a></div></div>
<div class="ttc" id="a_interpreter_instance_8cpp_html_a7ed39eecb03f7a63d73133a598a1ab43"><div class="ttname"><a href="_interpreter_instance_8cpp.html#a7ed39eecb03f7a63d73133a598a1ab43">counter</a></div><div class="ttdeci">static std::atomic&lt; uint32_t &gt; counter(0)</div></div>
<div class="ttc" id="a_object_class_8hpp_html_a09453535aa429cceaa131b911d4caa73"><div class="ttname"><a href="_object_class_8hpp.html#a09453535aa429cceaa131b911d4caa73">MarkReason</a></div><div class="ttdeci">MarkReason</div><div class="ttdef"><b>Definition:</b> <a href="_object_class_8hpp_source.html#l00080">ObjectClass.hpp:81</a></div></div>
<div class="ttc" id="a_program_source_8hpp_html"><div class="ttname"><a href="_program_source_8hpp.html">ProgramSource.hpp</a></div></div>
<div class="ttc" id="a_program_source_8hpp_html_a347bc9476e29f5d569a2976823c8ae50"><div class="ttname"><a href="_program_source_8hpp.html#a347bc9476e29f5d569a2976823c8ae50">line_delimiters</a></div><div class="ttdeci">#define line_delimiters</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00046">ProgramSource.hpp:46</a></div></div>
<div class="ttc" id="a_program_source_8hpp_html_a4aa83818e72d390465aa1549d66a09c1"><div class="ttname"><a href="_program_source_8hpp.html#a4aa83818e72d390465aa1549d66a09c1">ctrl_z</a></div><div class="ttdeci">#define ctrl_z</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00047">ProgramSource.hpp:47</a></div></div>
<div class="ttc" id="a_protected_object_8hpp_html"><div class="ttname"><a href="_protected_object_8hpp.html">ProtectedObject.hpp</a></div></div>
<div class="ttc" id="a_rexx_behaviour_8hpp_html_adfb9f540f95c50ea0678757f1bd6f3a9"><div class="ttname"><a href="_rexx_behaviour_8hpp.html#adfb9f540f95c50ea0678757f1bd6f3a9">isString</a></div><div class="ttdeci">bool isString(RexxInternalObject *o)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_behaviour_8hpp_source.html#l00189">RexxBehaviour.hpp:189</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html"><div class="ttname"><a href="_rexx_core_8h.html">RexxCore.h</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_a181a36438ba4535dd7d22ab63239d1e1"><div class="ttname"><a href="_rexx_core_8h.html#a181a36438ba4535dd7d22ab63239d1e1">OREF_NULL</a></div><div class="ttdeci">#define OREF_NULL</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00055">RexxCore.h:55</a></div></div>
<div class="ttc" id="a_rexx_core_8h_html_aa5515f75fb39f2b4faa40164a3ee51d1"><div class="ttname"><a href="_rexx_core_8h.html#aa5515f75fb39f2b4faa40164a3ee51d1">TheNilObject</a></div><div class="ttdeci">#define TheNilObject</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_core_8h_source.html#l00272">RexxCore.h:272</a></div></div>
<div class="ttc" id="a_rexx_error_codes_8h_html_ab78d722675e696d37b9b75e363a8b358a4ad4549df585cdd6157ea27b373351e6"><div class="ttname"><a href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a4ad4549df585cdd6157ea27b373351e6">Error_Program_unreadable_name</a></div><div class="ttdeci">@ Error_Program_unreadable_name</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_error_codes_8h_source.html#l00060">RexxErrorCodes.h:60</a></div></div>
<div class="ttc" id="a_rexx_error_codes_8h_html_ab78d722675e696d37b9b75e363a8b358a97bb20e76914f6a0babda09c4d37deba"><div class="ttname"><a href="_rexx_error_codes_8h.html#ab78d722675e696d37b9b75e363a8b358a97bb20e76914f6a0babda09c4d37deba">Error_Translation_invalid_line</a></div><div class="ttdeci">@ Error_Translation_invalid_line</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_error_codes_8h_source.html#l00687">RexxErrorCodes.h:687</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a0dcf0bbe424a73800c55d84ba37ec0b4"><div class="ttname"><a href="_rexx_memory_8hpp.html#a0dcf0bbe424a73800c55d84ba37ec0b4">setField</a></div><div class="ttdeci">#define setField(r, v)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00350">RexxMemory.hpp:350</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_a10ca07add5704523d065b7f2d2637f7d"><div class="ttname"><a href="_rexx_memory_8hpp.html#a10ca07add5704523d065b7f2d2637f7d">memory_mark</a></div><div class="ttdeci">#define memory_mark(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00489">RexxMemory.hpp:489</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_abad9185788b016bc87ba0eaeaac1e177"><div class="ttname"><a href="_rexx_memory_8hpp.html#abad9185788b016bc87ba0eaeaac1e177">flattenRef</a></div><div class="ttdeci">#define flattenRef(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00527">RexxMemory.hpp:527</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_ad572e2a38397a2f5fd722c58bfff9e13"><div class="ttname"><a href="_rexx_memory_8hpp.html#ad572e2a38397a2f5fd722c58bfff9e13">new_object</a></div><div class="ttdeci">RexxInternalObject * new_object(size_t s)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00479">RexxMemory.hpp:479</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_ad740c29e8223b639f6f3fcbb910ce21a"><div class="ttname"><a href="_rexx_memory_8hpp.html#ad740c29e8223b639f6f3fcbb910ce21a">memory_mark_general</a></div><div class="ttdeci">#define memory_mark_general(oref)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00490">RexxMemory.hpp:490</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_ae08cb30e42b8369ad75710ff7defa70d"><div class="ttname"><a href="_rexx_memory_8hpp.html#ae08cb30e42b8369ad75710ff7defa70d">cleanUpFlatten</a></div><div class="ttdeci">#define cleanUpFlatten</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00523">RexxMemory.hpp:523</a></div></div>
<div class="ttc" id="a_rexx_memory_8hpp_html_af339a57b7eca39790add6e6d712c2e95"><div class="ttname"><a href="_rexx_memory_8hpp.html#af339a57b7eca39790add6e6d712c2e95">setUpFlatten</a></div><div class="ttdeci">#define setUpFlatten(type)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_memory_8hpp_source.html#l00517">RexxMemory.hpp:517</a></div></div>
<div class="ttc" id="a_smart_buffer_8hpp_html"><div class="ttname"><a href="_smart_buffer_8hpp.html">SmartBuffer.hpp</a></div></div>
<div class="ttc" id="a_string_class_8hpp_html_a4a9c05b5920cf789e1f3629037c9921a"><div class="ttname"><a href="_string_class_8hpp.html#a4a9c05b5920cf789e1f3629037c9921a">new_string</a></div><div class="ttdeci">RexxString * new_string(const char *s, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00823">StringClass.hpp:823</a></div></div>
<div class="ttc" id="aclass_array_class_html"><div class="ttname"><a href="class_array_class.html">ArrayClass</a></div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00053">ArrayClass.hpp:54</a></div></div>
<div class="ttc" id="aclass_array_class_html_a44f4b5957268889f33dd71bb7edf9fac"><div class="ttname"><a href="class_array_class.html#a44f4b5957268889f33dd71bb7edf9fac">ArrayClass::put</a></div><div class="ttdeci">void put(RexxInternalObject *eref, size_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8cpp_source.html#l00568">ArrayClass.cpp:568</a></div></div>
<div class="ttc" id="aclass_array_class_html_ac9ff63dbacda2000a4f783568b5428f2"><div class="ttname"><a href="class_array_class.html#ac9ff63dbacda2000a4f783568b5428f2">ArrayClass::get</a></div><div class="ttdeci">RexxInternalObject * get(size_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8hpp_source.html#l00301">ArrayClass.hpp:301</a></div></div>
<div class="ttc" id="aclass_array_class_html_acc163bec438db906081313190032dcdc"><div class="ttname"><a href="class_array_class.html#acc163bec438db906081313190032dcdc">ArrayClass::lastIndex</a></div><div class="ttdeci">size_t lastIndex()</div><div class="ttdef"><b>Definition:</b> <a href="_array_class_8cpp_source.html#l01612">ArrayClass.cpp:1612</a></div></div>
<div class="ttc" id="aclass_array_program_source_html"><div class="ttname"><a href="class_array_program_source.html">ArrayProgramSource</a></div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00191">ProgramSource.hpp:192</a></div></div>
<div class="ttc" id="aclass_array_program_source_html_a0bdc1a0be5a475beeabbbb3c084f4f75"><div class="ttname"><a href="class_array_program_source.html#a0bdc1a0be5a475beeabbbb3c084f4f75">ArrayProgramSource::getLine</a></div><div class="ttdeci">void getLine(size_t lineNumber, const char *&amp;data, size_t &amp;length) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00619">ProgramSource.cpp:619</a></div></div>
<div class="ttc" id="aclass_array_program_source_html_a144345c923dac56fb94494f37fc4e654"><div class="ttname"><a href="class_array_program_source.html#a144345c923dac56fb94494f37fc4e654">ArrayProgramSource::array</a></div><div class="ttdeci">ArrayClass * array</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00211">ProgramSource.hpp:211</a></div></div>
<div class="ttc" id="aclass_array_program_source_html_a1ee26ead7a252e761042250833773240"><div class="ttname"><a href="class_array_program_source.html#a1ee26ead7a252e761042250833773240">ArrayProgramSource::live</a></div><div class="ttdeci">void live(size_t) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00538">ProgramSource.cpp:538</a></div></div>
<div class="ttc" id="aclass_array_program_source_html_a5a2307320b175a42b4b0006c067713ac"><div class="ttname"><a href="class_array_program_source.html#a5a2307320b175a42b4b0006c067713ac">ArrayProgramSource::setup</a></div><div class="ttdeci">void setup() override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00572">ProgramSource.cpp:572</a></div></div>
<div class="ttc" id="aclass_array_program_source_html_a7d2741e1287c60cc9887a8062081c55d"><div class="ttname"><a href="class_array_program_source.html#a7d2741e1287c60cc9887a8062081c55d">ArrayProgramSource::flatten</a></div><div class="ttdeci">void flatten(Envelope *) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00561">ProgramSource.cpp:561</a></div></div>
<div class="ttc" id="aclass_array_program_source_html_ab4d9c7fa92e0ea49e32cd3fb2b5167ab"><div class="ttname"><a href="class_array_program_source.html#ab4d9c7fa92e0ea49e32cd3fb2b5167ab">ArrayProgramSource::liveGeneral</a></div><div class="ttdeci">void liveGeneral(MarkReason reason) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00550">ProgramSource.cpp:550</a></div></div>
<div class="ttc" id="aclass_array_program_source_html_ae44c72f234630b77ccee717f05922e30"><div class="ttname"><a href="class_array_program_source.html#ae44c72f234630b77ccee717f05922e30">ArrayProgramSource::interpretAdjust</a></div><div class="ttdeci">size_t interpretAdjust</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00210">ProgramSource.hpp:210</a></div></div>
<div class="ttc" id="aclass_buffer_class_base_html_ac69e1aa513281794d97c188500777cf2"><div class="ttname"><a href="class_buffer_class_base.html#ac69e1aa513281794d97c188500777cf2">BufferClassBase::getDataLength</a></div><div class="ttdeci">size_t getDataLength()</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00055">BufferClass.hpp:55</a></div></div>
<div class="ttc" id="aclass_buffer_class_html"><div class="ttname"><a href="class_buffer_class.html">BufferClass</a></div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00094">BufferClass.hpp:95</a></div></div>
<div class="ttc" id="aclass_buffer_class_html_a50f839199283aeaeba79ad986cb7851a"><div class="ttname"><a href="class_buffer_class.html#a50f839199283aeaeba79ad986cb7851a">BufferClass::getData</a></div><div class="ttdeci">char * getData() override</div><div class="ttdef"><b>Definition:</b> <a href="_buffer_class_8hpp_source.html#l00113">BufferClass.hpp:113</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html"><div class="ttname"><a href="class_buffer_program_source.html">BufferProgramSource</a></div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00125">ProgramSource.hpp:126</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_a04c596019e23ccaa34f6b60a4f96447d"><div class="ttname"><a href="class_buffer_program_source.html#a04c596019e23ccaa34f6b60a4f96447d">BufferProgramSource::buffer</a></div><div class="ttdeci">BufferClass * buffer</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00153">ProgramSource.hpp:153</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_a0f4519da826e0c0e1071c7118d231b0e"><div class="ttname"><a href="class_buffer_program_source.html#a0f4519da826e0c0e1071c7118d231b0e">BufferProgramSource::getLine</a></div><div class="ttdeci">void getLine(size_t lineNumber, const char *&amp;data, size_t &amp;length) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00492">ProgramSource.cpp:492</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_a1c1cf84fb3627b76dd59f3025b539550"><div class="ttname"><a href="class_buffer_program_source.html#a1c1cf84fb3627b76dd59f3025b539550">BufferProgramSource::liveGeneral</a></div><div class="ttdeci">void liveGeneral(MarkReason reason) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00298">ProgramSource.cpp:298</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_a358f11a6255dd5ec30f273cc26bc7734"><div class="ttname"><a href="class_buffer_program_source.html#a358f11a6255dd5ec30f273cc26bc7734">BufferProgramSource::flatten</a></div><div class="ttdeci">void flatten(Envelope *) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00310">ProgramSource.cpp:310</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_a3676dd19a03d4f6c454a98099b79e5ac"><div class="ttname"><a href="class_buffer_program_source.html#a3676dd19a03d4f6c454a98099b79e5ac">BufferProgramSource::getDescriptor</a></div><div class="ttdeci">LineDescriptor &amp; getDescriptor(size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00464">ProgramSource.cpp:464</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_a42b33112535d77e2e6f42ed17039c4a6"><div class="ttname"><a href="class_buffer_program_source.html#a42b33112535d77e2e6f42ed17039c4a6">BufferProgramSource::setup</a></div><div class="ttdeci">void setup() override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00337">ProgramSource.cpp:337</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_a4416e49565d0f5e31549b35906c37486"><div class="ttname"><a href="class_buffer_program_source.html#a4416e49565d0f5e31549b35906c37486">BufferProgramSource::descriptorArea</a></div><div class="ttdeci">BufferClass * descriptorArea</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00152">ProgramSource.hpp:152</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_a55a9a0aa60455e0162453eea78ddca71"><div class="ttname"><a href="class_buffer_program_source.html#a55a9a0aa60455e0162453eea78ddca71">BufferProgramSource::getDescriptors</a></div><div class="ttdeci">LineDescriptor * getDescriptors()</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00475">ProgramSource.cpp:475</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_a6a70d6276e9d03586c55b7fc5cf018f5"><div class="ttname"><a href="class_buffer_program_source.html#a6a70d6276e9d03586c55b7fc5cf018f5">BufferProgramSource::getBuffer</a></div><div class="ttdeci">void getBuffer(const char *&amp;data, size_t &amp;length)</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00326">ProgramSource.cpp:326</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_abb55e96cb8eb460f9d0297d8374ac8c6"><div class="ttname"><a href="class_buffer_program_source.html#abb55e96cb8eb460f9d0297d8374ac8c6">BufferProgramSource::getBufferPointer</a></div><div class="ttdeci">const char * getBufferPointer()</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00514">ProgramSource.cpp:514</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_acecb8b39f99254396f8811c31b60d127"><div class="ttname"><a href="class_buffer_program_source.html#acecb8b39f99254396f8811c31b60d127">BufferProgramSource::live</a></div><div class="ttdeci">void live(size_t) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00284">ProgramSource.cpp:284</a></div></div>
<div class="ttc" id="aclass_buffer_program_source_html_ae70bd0d00dbcd35d3c47b4a9c962bf9f"><div class="ttname"><a href="class_buffer_program_source.html#ae70bd0d00dbcd35d3c47b4a9c962bf9f">BufferProgramSource::buildDescriptors</a></div><div class="ttdeci">void buildDescriptors()</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00348">ProgramSource.cpp:348</a></div></div>
<div class="ttc" id="aclass_envelope_html"><div class="ttname"><a href="class_envelope.html">Envelope</a></div><div class="ttdef"><b>Definition:</b> <a href="_envelope_8hpp_source.html#l00052">Envelope.hpp:53</a></div></div>
<div class="ttc" id="aclass_file_program_source_html"><div class="ttname"><a href="class_file_program_source.html">FileProgramSource</a></div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00161">ProgramSource.hpp:162</a></div></div>
<div class="ttc" id="aclass_file_program_source_html_a1f7b82bf26934ca83b615fff58d19aec"><div class="ttname"><a href="class_file_program_source.html#a1f7b82bf26934ca83b615fff58d19aec">FileProgramSource::live</a></div><div class="ttdeci">void live(size_t) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00675">ProgramSource.cpp:675</a></div></div>
<div class="ttc" id="aclass_file_program_source_html_a6fb8bd79033a8e423f56e6e5183a8ab2"><div class="ttname"><a href="class_file_program_source.html#a6fb8bd79033a8e423f56e6e5183a8ab2">FileProgramSource::fileName</a></div><div class="ttdeci">RexxString * fileName</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00184">ProgramSource.hpp:184</a></div></div>
<div class="ttc" id="aclass_file_program_source_html_a827ed5c742cbfd3848ed4ad47651bc83"><div class="ttname"><a href="class_file_program_source.html#a827ed5c742cbfd3848ed4ad47651bc83">FileProgramSource::readProgram</a></div><div class="ttdeci">static BufferClass * readProgram(const char *file_name)</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00736">ProgramSource.cpp:736</a></div></div>
<div class="ttc" id="aclass_file_program_source_html_ab3d419cb28229c93f41d4e08debe6467"><div class="ttname"><a href="class_file_program_source.html#ab3d419cb28229c93f41d4e08debe6467">FileProgramSource::flatten</a></div><div class="ttdeci">void flatten(Envelope *) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00702">ProgramSource.cpp:702</a></div></div>
<div class="ttc" id="aclass_file_program_source_html_acbba89ecb32964c9c3a67023072c521f"><div class="ttname"><a href="class_file_program_source.html#acbba89ecb32964c9c3a67023072c521f">FileProgramSource::setup</a></div><div class="ttdeci">void setup() override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00715">ProgramSource.cpp:715</a></div></div>
<div class="ttc" id="aclass_file_program_source_html_afb25e716629c588f7a021515acda6ddb"><div class="ttname"><a href="class_file_program_source.html#afb25e716629c588f7a021515acda6ddb">FileProgramSource::liveGeneral</a></div><div class="ttdeci">void liveGeneral(MarkReason reason) override</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00689">ProgramSource.cpp:689</a></div></div>
<div class="ttc" id="aclass_line_descriptor_html"><div class="ttname"><a href="class_line_descriptor.html">LineDescriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00055">ProgramSource.hpp:56</a></div></div>
<div class="ttc" id="aclass_line_descriptor_html_a02e9fb3d145655bdcb9899337725913b"><div class="ttname"><a href="class_line_descriptor.html#a02e9fb3d145655bdcb9899337725913b">LineDescriptor::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00075">ProgramSource.hpp:75</a></div></div>
<div class="ttc" id="aclass_line_descriptor_html_a445d9d1de0a77c79cde895f6d56701a6"><div class="ttname"><a href="class_line_descriptor.html#a445d9d1de0a77c79cde895f6d56701a6">LineDescriptor::position</a></div><div class="ttdeci">size_t position</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00074">ProgramSource.hpp:74</a></div></div>
<div class="ttc" id="aclass_program_source_html_a12bbd8e867fab04c9eee8f7fc201a669"><div class="ttname"><a href="class_program_source.html#a12bbd8e867fab04c9eee8f7fc201a669">ProgramSource::firstLine</a></div><div class="ttdeci">size_t firstLine</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00116">ProgramSource.hpp:116</a></div></div>
<div class="ttc" id="aclass_program_source_html_a2aaba79dac13f7f270550ea5e99416cd"><div class="ttname"><a href="class_program_source.html#a2aaba79dac13f7f270550ea5e99416cd">ProgramSource::isTraceable</a></div><div class="ttdeci">virtual bool isTraceable()</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00103">ProgramSource.hpp:103</a></div></div>
<div class="ttc" id="aclass_program_source_html_a42fb68e22a444fe44d180f1a65d483e0"><div class="ttname"><a href="class_program_source.html#a42fb68e22a444fe44d180f1a65d483e0">ProgramSource::getFirstLine</a></div><div class="ttdeci">virtual size_t getFirstLine()</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00106">ProgramSource.hpp:106</a></div></div>
<div class="ttc" id="aclass_program_source_html_a893b1474ed59fba4d2a9b978390d8095"><div class="ttname"><a href="class_program_source.html#a893b1474ed59fba4d2a9b978390d8095">ProgramSource::getLine</a></div><div class="ttdeci">virtual void getLine(size_t lineNumber, const char *&amp;data, size_t &amp;length)</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00096">ProgramSource.hpp:96</a></div></div>
<div class="ttc" id="aclass_program_source_html_a98ae15a7f899894ce7b490de43cb73b7"><div class="ttname"><a href="class_program_source.html#a98ae15a7f899894ce7b490de43cb73b7">ProgramSource::getStringLine</a></div><div class="ttdeci">RexxString * getStringLine(size_t lineNumber)</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00075">ProgramSource.cpp:75</a></div></div>
<div class="ttc" id="aclass_program_source_html_aa26a8f75ae9425dfb2e39b6da30558e3"><div class="ttname"><a href="class_program_source.html#aa26a8f75ae9425dfb2e39b6da30558e3">ProgramSource::extractSourceLines</a></div><div class="ttdeci">ArrayClass * extractSourceLines(SourceLocation &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00196">ProgramSource.cpp:196</a></div></div>
<div class="ttc" id="aclass_program_source_html_af159827084fa042b8de513f63050dd6c"><div class="ttname"><a href="class_program_source.html#af159827084fa042b8de513f63050dd6c">ProgramSource::lineCount</a></div><div class="ttdeci">size_t lineCount</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8hpp_source.html#l00117">ProgramSource.hpp:117</a></div></div>
<div class="ttc" id="aclass_program_source_html_af3fef4e0c500c0862eb729553f734c6d"><div class="ttname"><a href="class_program_source.html#af3fef4e0c500c0862eb729553f734c6d">ProgramSource::extract</a></div><div class="ttdeci">RexxString * extract(SourceLocation &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="_program_source_8cpp_source.html#l00153">ProgramSource.cpp:153</a></div></div>
<div class="ttc" id="aclass_protected_html"><div class="ttname"><a href="class_protected.html">Protected</a></div><div class="ttdef"><b>Definition:</b> <a href="_protected_object_8hpp_source.html#l00186">ProtectedObject.hpp:187</a></div></div>
<div class="ttc" id="aclass_protected_object_html"><div class="ttname"><a href="class_protected_object.html">ProtectedObject</a></div><div class="ttdef"><b>Definition:</b> <a href="_protected_object_8hpp_source.html#l00070">ProtectedObject.hpp:71</a></div></div>
<div class="ttc" id="aclass_rexx_string_html"><div class="ttname"><a href="class_rexx_string.html">RexxString</a></div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00068">StringClass.hpp:69</a></div></div>
<div class="ttc" id="aclass_rexx_string_html_aaf47ec1ef2009a65092c14cea082a7f9"><div class="ttname"><a href="class_rexx_string.html#aaf47ec1ef2009a65092c14cea082a7f9">RexxString::getStringData</a></div><div class="ttdeci">const char * getStringData() const</div><div class="ttdef"><b>Definition:</b> <a href="_string_class_8hpp_source.html#l00542">StringClass.hpp:542</a></div></div>
<div class="ttc" id="aclass_smart_buffer_html"><div class="ttname"><a href="class_smart_buffer.html">SmartBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="_smart_buffer_8hpp_source.html#l00047">SmartBuffer.hpp:48</a></div></div>
<div class="ttc" id="aclass_smart_buffer_html_a1cf3094b2142f40bf8dd49f6311e55e7"><div class="ttname"><a href="class_smart_buffer.html#a1cf3094b2142f40bf8dd49f6311e55e7">SmartBuffer::copyData</a></div><div class="ttdeci">size_t copyData(void *, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="_smart_buffer_8cpp_source.html#l00118">SmartBuffer.cpp:118</a></div></div>
<div class="ttc" id="aclass_smart_buffer_html_aa7247859c2b146e1ab380b2b69250de2"><div class="ttname"><a href="class_smart_buffer.html#aa7247859c2b146e1ab380b2b69250de2">SmartBuffer::getBuffer</a></div><div class="ttdeci">BufferClass * getBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="_smart_buffer_8hpp_source.html#l00064">SmartBuffer.hpp:64</a></div></div>
<div class="ttc" id="aclass_source_location_html"><div class="ttname"><a href="class_source_location.html">SourceLocation</a></div><div class="ttdef"><b>Definition:</b> <a href="_source_location_8hpp_source.html#l00052">SourceLocation.hpp:53</a></div></div>
<div class="ttc" id="aclass_source_location_html_a07cb6b2c9dca64098ba30e091035bda1"><div class="ttname"><a href="class_source_location.html#a07cb6b2c9dca64098ba30e091035bda1">SourceLocation::getEndLine</a></div><div class="ttdeci">size_t getEndLine()</div><div class="ttdef"><b>Definition:</b> <a href="_source_location_8hpp_source.html#l00057">SourceLocation.hpp:57</a></div></div>
<div class="ttc" id="aclass_source_location_html_a182e5d42c4451950a8bb7e0f30bf3e7c"><div class="ttname"><a href="class_source_location.html#a182e5d42c4451950a8bb7e0f30bf3e7c">SourceLocation::getLineNumber</a></div><div class="ttdeci">size_t getLineNumber()</div><div class="ttdef"><b>Definition:</b> <a href="_source_location_8hpp_source.html#l00055">SourceLocation.hpp:55</a></div></div>
<div class="ttc" id="aclass_source_location_html_a383a40fd703c10977cead7d61904422e"><div class="ttname"><a href="class_source_location.html#a383a40fd703c10977cead7d61904422e">SourceLocation::setEnd</a></div><div class="ttdeci">void setEnd(SourceLocation &amp;l)</div><div class="ttdef"><b>Definition:</b> <a href="_source_location_8hpp_source.html#l00077">SourceLocation.hpp:77</a></div></div>
<div class="ttc" id="aclass_source_location_html_a62491b80ab798290a0f7997e1cab1068"><div class="ttname"><a href="class_source_location.html#a62491b80ab798290a0f7997e1cab1068">SourceLocation::setEndLine</a></div><div class="ttdeci">void setEndLine(size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_source_location_8hpp_source.html#l00062">SourceLocation.hpp:62</a></div></div>
<div class="ttc" id="aclass_source_location_html_aa4d0fdbc3601b897ea5d210fd76885a1"><div class="ttname"><a href="class_source_location.html#aa4d0fdbc3601b897ea5d210fd76885a1">SourceLocation::getEndOffset</a></div><div class="ttdeci">size_t getEndOffset()</div><div class="ttdef"><b>Definition:</b> <a href="_source_location_8hpp_source.html#l00058">SourceLocation.hpp:58</a></div></div>
<div class="ttc" id="aclass_source_location_html_ac1dff946aca61e35cc6feb6288ffca8a"><div class="ttname"><a href="class_source_location.html#ac1dff946aca61e35cc6feb6288ffca8a">SourceLocation::setEndOffset</a></div><div class="ttdeci">void setEndOffset(size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_source_location_8hpp_source.html#l00063">SourceLocation.hpp:63</a></div></div>
<div class="ttc" id="aclass_source_location_html_af271814b2df51e1ed8e0028ef490a859"><div class="ttname"><a href="class_source_location.html#af271814b2df51e1ed8e0028ef490a859">SourceLocation::getOffset</a></div><div class="ttdeci">size_t getOffset()</div><div class="ttdef"><b>Definition:</b> <a href="_source_location_8hpp_source.html#l00056">SourceLocation.hpp:56</a></div></div>
<div class="ttc" id="aclass_sys_file_html"><div class="ttname"><a href="class_sys_file.html">SysFile</a></div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00070">unix/SysFile.hpp:71</a></div></div>
<div class="ttc" id="aclass_sys_file_html_a4b8eb988e7662d8500b4a7ce31cc78cd"><div class="ttname"><a href="class_sys_file.html#a4b8eb988e7662d8500b4a7ce31cc78cd">SysFile::getSize</a></div><div class="ttdeci">bool getSize(int64_t &amp;size)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8cpp_source.html#l01065">unix/SysFile.cpp:1065</a></div></div>
<div class="ttc" id="aclass_sys_file_html_a86c4fbec300dc5f68d7387e8621a6185"><div class="ttname"><a href="class_sys_file.html#a86c4fbec300dc5f68d7387e8621a6185">SysFile::close</a></div><div class="ttdeci">bool close()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8cpp_source.html#l00274">unix/SysFile.cpp:274</a></div></div>
<div class="ttc" id="aclass_sys_file_html_ab59bfdafd28832d21a2b239174eec299"><div class="ttname"><a href="class_sys_file.html#ab59bfdafd28832d21a2b239174eec299">SysFile::open</a></div><div class="ttdeci">bool open(const char *name, int openFlags, int openMode, int shareMode)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8cpp_source.html#l00128">unix/SysFile.cpp:128</a></div></div>
<div class="ttc" id="aclass_sys_file_html_ab96591dd7cfa1192a49c99eb8ab3ce9a"><div class="ttname"><a href="class_sys_file.html#ab96591dd7cfa1192a49c99eb8ab3ce9a">SysFile::read</a></div><div class="ttdeci">bool read(char *buf, size_t len, size_t &amp;bytesRead)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8cpp_source.html#l00356">unix/SysFile.cpp:356</a></div></div>
<div class="ttc" id="aclass_unsafe_block_html"><div class="ttname"><a href="class_unsafe_block.html">UnsafeBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="_activity_manager_8hpp_source.html#l00336">ActivityManager.hpp:337</a></div></div>
<div class="ttc" id="aclass_utilities_html_a14cf0efc444eb67d99f28f37176e3e64"><div class="ttname"><a href="class_utilities.html#a14cf0efc444eb67d99f28f37176e3e64">Utilities::locateCharacter</a></div><div class="ttdeci">static const char * locateCharacter(const char *s, const char *set, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_utilities_8cpp_source.html#l00062">Utilities.cpp:62</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a4c7585605dc0ab0ed2730a48d4e63f51"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a4c7585605dc0ab0ed2730a48d4e63f51">RX_S_IREAD</a></div><div class="ttdeci">#define RX_S_IREAD</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00068">unix/SysFile.hpp:68</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a517ccdfde2dc2189825304291b428f42"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a517ccdfde2dc2189825304291b428f42">RX_O_RDONLY</a></div><div class="ttdeci">#define RX_O_RDONLY</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00054">unix/SysFile.hpp:54</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a5d6a52000f2d86a1583eeb84cea9cd16"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a5d6a52000f2d86a1583eeb84cea9cd16">RX_SH_DENYWR</a></div><div class="ttdeci">#define RX_SH_DENYWR</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00062">unix/SysFile.hpp:62</a></div></div>
<div class="ttc" id="aunix_2rxqueue_8cpp_html_a6b8ed158971b6467633e570b4a767e5e"><div class="ttname"><a href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a></div><div class="ttdeci">char line[LINEBUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="unix_2rxqueue_8cpp_source.html#l00073">unix/rxqueue.cpp:73</a></div></div>
<div class="ttc" id="awindows_2rexxapitypes_8h_html_a414156feea104f8f75b4ed9e3121b2f6"><div class="ttname"><a href="windows_2rexxapitypes_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></div><div class="ttdeci">signed __int64 int64_t</div><div class="ttdef"><b>Definition:</b> <a href="windows_2rexxapitypes_8h_source.html#l00077">windows/rexxapitypes.h:77</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b8d323c7289fed1299e6f1b6909d41b.html">oorexx</a></li><li class="navelem"><a class="el" href="dir_2dfb7423ce64cb60f62cee208bb73ae3.html">official</a></li><li class="navelem"><a class="el" href="dir_63144926d93644d0b571decfac4c5baa.html">main</a></li><li class="navelem"><a class="el" href="dir_5131a42d519b9b019d5264fc1f0fe4ab.html">trunk</a></li><li class="navelem"><a class="el" href="dir_07b471ff108ade29d714c67783960c47.html">interpreter</a></li><li class="navelem"><a class="el" href="dir_f4a88cf0ae62352f721dc4efd4124cdf.html">parser</a></li><li class="navelem"><a class="el" href="_program_source_8cpp.html">ProgramSource.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<!-- javascript code to insert the title in the condensed index (tabs) -->
<!-- See the function initMenu in menu.js:
     The condensed index is a list <ul> of several items <li>: Main Page, Classes, Files.
     I append a new item <li> which display the project name. -->
<script type="text/javascript">
$(function() {
  $('#main-menu').append('<li class="title" style="margin-left:3mm">ooRexx</li>')
});
</script>
<!-- end of javascript code -->
</body>
</html>
