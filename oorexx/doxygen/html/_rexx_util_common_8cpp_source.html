<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ooRexx: RexxUtilCommon.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!--
    Removed completely the TITLEAREA because I don't like the loss of space.
    I want the title in the condensed index (tabs) at top of each HTML page.
    The insertion of the title is managed by javascript code in the footer,
    because this code must be executed AFTER the creation of the condensed index.
    Must have this setting to display the condensed index:
    DISABLE_INDEX = NO
-->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_rexx_util_common_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RexxUtilCommon.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_rexx_util_common_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* Copyright (c) 1995, 2004 IBM Corporation. All rights reserved.             */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/* Copyright (c) 2005-2025 Rexx Language Association. All rights reserved.    */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/* This program and the accompanying materials are made available under       */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/* the terms of the Common Public License v1.0 which accompanies this         */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/* distribution. A copy is also available at the following address:           */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/* https://www.oorexx.org/license.html                                        */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/* Redistribution and use in source and binary forms, with or                 */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* without modification, are permitted provided that the following            */</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/* conditions are met:                                                        */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/* Redistributions of source code must retain the above copyright             */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer.              */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* Redistributions in binary form must reproduce the above copyright          */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer in            */</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/* the documentation and/or other materials provided with the distribution.   */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/* Neither the name of Rexx Language Association nor the names                */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* of its contributors may be used to endorse or promote products             */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/* derived from this software without specific prior written permission.      */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS        */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT          */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS          */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/* FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT   */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,      */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED   */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/* TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,        */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY     */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING    */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS         */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.               */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/* Non-platform-specific rexxutil functions                                   */</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/******************************************************************************/</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;cfloat&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="oorexxapi_8h.html">oorexxapi.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_package_manager_8hpp.html">PackageManager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_util_common_8hpp.html">RexxUtilCommon.hpp</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_rexx_internal_apis_8h.html">RexxInternalApis.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_external_file_buffer_8hpp.html">ExternalFileBuffer.hpp</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;SysFile.hpp&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;SysFileSystem.hpp&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;SystemInterpreter.hpp&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_utilities_8hpp.html">Utilities.hpp</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_numerics_8hpp.html">Numerics.hpp</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#ac662d137bdba62c6e02b86ad3b5e4162">   62</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="_rexx_util_common_8cpp.html#ac662d137bdba62c6e02b86ad3b5e4162">INVALID_FILE_NAME</a> = 123;       <span class="comment">// a return value for a SysFileTree name problem</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="class_tree_finder_1_1_attribute_mask.html#ad6ff5ae031abc307eb391f8ca1bf72e5">TreeFinder::AttributeMask::maskChars</a>[6] = <span class="stringliteral">&quot;ADHRS&quot;</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"> * A simple class for reading lines from a file.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="class_line_reader.html">   69</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_line_reader.html">LineReader</a></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="class_line_reader.html#a3c69034bb8ce0f94b7e5725c76a0244a">   72</a></span>&#160;     <a class="code" href="class_line_reader.html#a3c69034bb8ce0f94b7e5725c76a0244a">LineReader</a>() : <a class="code" href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">buffer</a>(NULL), <a class="code" href="class_line_reader.html#a488e38e9fb2183ffd3d60475a5c25971">bufferSize</a>(0), <a class="code" href="class_line_reader.html#a15eea203b011bb0baadd7b9e1345d8ca">file</a>()</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;     { }</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="class_line_reader.html#a23222ad2ee4bd560f85f0c1c27051feb">   74</a></span>&#160;     <a class="code" href="class_line_reader.html#a23222ad2ee4bd560f85f0c1c27051feb">~LineReader</a>()</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;     {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;         <a class="code" href="class_line_reader.html#a0b2fd102d2353a4aec981aff1cbb54c1">close</a>();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;     }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">     /**</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">      * Open the file and set up for reading</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">      *</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">      * @param fileName The name of the file</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">      *</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">      * @return true if we were able to open the file, false for any failures.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="class_line_reader.html#a951f0352f4b6a87dce61b7a794937af1">   86</a></span>&#160;     <span class="keywordtype">bool</span> <a class="code" href="class_line_reader.html#a951f0352f4b6a87dce61b7a794937af1">open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *fileName)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;     {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;         <span class="comment">// if this is a directory or we can&#39;t open the file, return</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;         <span class="keywordflow">if</span> (<a class="code" href="class_sys_file_system.html#ab90abfbdd7dcdf622776e21f32371ba3">SysFileSystem::isDirectory</a>(fileName) ||</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;             !<a class="code" href="class_line_reader.html#a15eea203b011bb0baadd7b9e1345d8ca">file</a>.<a class="code" href="class_sys_file.html#ab59bfdafd28832d21a2b239174eec299">open</a>(fileName, <a class="code" href="unix_2_sys_file_8hpp.html#a517ccdfde2dc2189825304291b428f42">RX_O_RDONLY</a>, <a class="code" href="unix_2_sys_file_8hpp.html#a4c7585605dc0ab0ed2730a48d4e63f51">RX_S_IREAD</a>, <a class="code" href="unix_2_sys_file_8hpp.html#a5d6a52000f2d86a1583eeb84cea9cd16">RX_SH_DENYWR</a>))</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;         {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;             <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;         }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;         <a class="code" href="class_line_reader.html#a488e38e9fb2183ffd3d60475a5c25971">bufferSize</a> = <a class="code" href="class_line_reader.html#ae80432f6b25905845ed106d2926e56da">InitialBufferSize</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;         <a class="code" href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">buffer</a> = (<span class="keywordtype">char</span> *)malloc(<a class="code" href="class_line_reader.html#a488e38e9fb2183ffd3d60475a5c25971">bufferSize</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">buffer</a> != NULL;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;     }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">     /**</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">      * Read an entire line into buffer, expanding buffer as necessary.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">      *</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">      * @return true if a line could be read, false otherwise.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="class_line_reader.html#aff60a3885fbda72da16affe093492f80">  105</a></span>&#160;     <span class="keywordtype">bool</span> <a class="code" href="class_line_reader.html#aff60a3885fbda72da16affe093492f80">getLine</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *&amp;<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>, <span class="keywordtype">size_t</span> &amp;size)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;     {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;         size = 0;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;         <span class="comment">// loop until an entire line has been read.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;         <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;         {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;             <a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a> = <a class="code" href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">buffer</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;             <span class="keywordtype">size_t</span> bytesRead = 0;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;             <span class="keywordflow">if</span> (!<a class="code" href="class_line_reader.html#a15eea203b011bb0baadd7b9e1345d8ca">file</a>.<a class="code" href="class_sys_file.html#a48ce2e3345bf0b3d2ab875dacd326b8f">gets</a>(<a class="code" href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">buffer</a> + size, <a class="code" href="class_line_reader.html#a488e38e9fb2183ffd3d60475a5c25971">bufferSize</a> - size, bytesRead))</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;             {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                 <span class="comment">// we might have data from a previous iteration of the loop</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                 <span class="keywordflow">return</span> size == 0 ? false : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;             }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;             <span class="comment">// update the size of the line now</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;             size += bytesRead;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;             <span class="comment">// Check for new line character first.  If we are at eof and the last</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;             <span class="comment">// line ended in a new line, we don&#39;t want the \n in the returned</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;             <span class="comment">// string.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;             <span class="comment">// If we have a new line character in the last position, we have</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;             <span class="comment">// a line.  The gets() function has translated crlf sequences into</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;             <span class="comment">// single lf characters.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;             <span class="keywordflow">if</span> (<a class="code" href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">buffer</a>[size - 1] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;             {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                 size--;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                 <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;             }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;             <a class="code" href="class_line_reader.html#a488e38e9fb2183ffd3d60475a5c25971">bufferSize</a> += <a class="code" href="class_line_reader.html#a383ccb269e65e0eab639d811583c4e63">BufferExpansionSize</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;             <span class="keywordflow">if</span> (!<a class="code" href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">buffer</a>.<a class="code" href="class_auto_free.html#af59ae599c5fc6e07e0739b7a28fec85a">realloc</a>(<a class="code" href="class_line_reader.html#a488e38e9fb2183ffd3d60475a5c25971">bufferSize</a>))</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;             {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                 <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;             }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;         }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;     }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">     /**</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">      * Close the read operation.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="class_line_reader.html#a0b2fd102d2353a4aec981aff1cbb54c1">  146</a></span>&#160;     <span class="keywordtype">void</span> <a class="code" href="class_line_reader.html#a0b2fd102d2353a4aec981aff1cbb54c1">close</a>()</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;     {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;         <a class="code" href="class_line_reader.html#a15eea203b011bb0baadd7b9e1345d8ca">file</a>.<a class="code" href="class_sys_file.html#a86c4fbec300dc5f68d7387e8621a6185">close</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;     }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;     <span class="comment">// the initial size of our buffer</span></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="class_line_reader.html#ae80432f6b25905845ed106d2926e56da">  154</a></span>&#160;     <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="class_line_reader.html#ae80432f6b25905845ed106d2926e56da">InitialBufferSize</a> = 0x01000;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;     <span class="comment">// amount we extend the buffer by if a line is longer</span></div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="class_line_reader.html#a383ccb269e65e0eab639d811583c4e63">  156</a></span>&#160;     <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="class_line_reader.html#a383ccb269e65e0eab639d811583c4e63">BufferExpansionSize</a> = 0x01000;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">  158</a></span>&#160;     <a class="code" href="class_auto_free.html">AutoFree</a> <a class="code" href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">buffer</a>;              <span class="comment">// the current buffer</span></div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="class_line_reader.html#a488e38e9fb2183ffd3d60475a5c25971">  159</a></span>&#160;     <span class="keywordtype">size_t</span>   <a class="code" href="class_line_reader.html#a488e38e9fb2183ffd3d60475a5c25971">bufferSize</a>;          <span class="comment">// current size of the buffer</span></div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="class_line_reader.html#a15eea203b011bb0baadd7b9e1345d8ca">  160</a></span>&#160;     <a class="code" href="class_sys_file.html">SysFile</a>  <a class="code" href="class_line_reader.html#a15eea203b011bb0baadd7b9e1345d8ca">file</a>;                <span class="comment">// the file we are reading</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;};</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"> * Generate a unique file name based off of a template.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a88166d58c8f80bb4a08f29520737ccf3">  167</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_rexx_util_common_8cpp.html#a88166d58c8f80bb4a08f29520737ccf3">getUniqueFileName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *fileTemplate, <span class="keywordtype">char</span> filler, <a class="code" href="class_file_name_buffer.html">FileNameBuffer</a> &amp;file)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordtype">int</span> j = 0;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">int</span> max = 1;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// count the number of filler chars we have</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; fileTemplate[x] != 0; x++)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span> (fileTemplate[x] == filler)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            max = max * 10;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            j++;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// return NULL string if no or more than the allowed number of filler chars</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (j == 0 || j &gt; 9)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        file = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// generate a random starting point</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// we don&#39;t seed as this gives us a better distribution</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">size_t</span> num = rand();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (RAND_MAX &lt; max)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    {   <span class="comment">// MAX_RAND is guaranteed to be at least 32767</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        num = num * 32768 + rand();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    num = num % max;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// create a working copy of the template that we can alter</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="class_auto_free.html">AutoFree</a> buffer = (<span class="keywordtype">char</span> *)strdup(fileTemplate);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// remember our starting number in case we loop around</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">size_t</span> start = num;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// loop until we find a unique name</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordtype">size_t</span> n = num;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// now substitute our generated characters for the filler characters</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; fileTemplate[x] != 0; x++)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="comment">// if we have a filler, fill it in</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keywordflow">if</span> (fileTemplate[x] == filler)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                buffer[x] = <span class="charliteral">&#39;0&#39;</span> + n % 10;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                n = n / 10;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="comment">// get this as a fully qualified name</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        file.<a class="code" href="class_file_name_buffer.html#a0a3478046331fad9da2545fef68ee0f2">truncate</a>(0); <span class="comment">// qualifyStreamName requires empty string</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="class_sys_file_system.html#adb998d580812a27c13a6ee316f00cd03">SysFileSystem::qualifyStreamName</a>(buffer, file);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="comment">// if there&#39;s no matching file or directory, we&#39;re finished.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="class_sys_file_system.html#afd5106b26c6a68d9a01e3ef101665221">SysFileSystem::exists</a>(file))</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="comment">// generate a new number for filling in the name</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        num = (num + 1) % max;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="comment">// if we&#39;ve wrapped around to where we started, time to give up</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">if</span> (num == start)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            file = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"> * SysFileTree() implementation.  Searches for files in a directory tree</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> * matching the specified search pattern.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"> * @param  fSpec  [required] The search pattern, may contain glob characters</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"> *                 and full or partial path informattion. E.g., *.bat, or</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"> *                 ../../abc*.txt, or C:\temp.  May not contain illegal file name</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> *                 characters which are: &quot;, &lt;, &gt;, |, and :  The semicolon is</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"> *                 only legal if it is exactly the second character.  Do not use</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"> *                 a double quote in fSpec, it is not needed and is taken as a</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"> *                 character in a file name, which is an illegal character.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"> * @param  files  [required] A stem to contain the returned results.  On return,</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"> *                files.0 contains the count N of found files and files.1</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"> *                through files.N will contain the found files.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"> * @param  opts   [optional] Any combination of the following letters that</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"> *                specify how the search takes place, or how the returned found</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> *                file line is formatted.  Case is not significant:</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"> *                  &#39;B&#39; - Search for files and directories.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"> *                  &#39;D&#39; - Search for directories only.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"> *                  &#39;F&#39; - Search for files only.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> *                  &#39;O&#39; - Only output file names.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"> *                  &#39;S&#39; - Recursively scan subdirectories.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"> *                  &#39;T&#39; - Combine time &amp; date fields into one.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"> *                  &#39;L&#39; - Long time format</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"> *                  &#39;H&#39; - Large file size format</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"> *                  &#39;I&#39; - Case Insensitive search.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"> *                The default is &#39;B&#39; using normal time (neither &#39;T&#39; nor &#39;L&#39;.)</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"> *                The &#39;I&#39;option is meaningless on Windows.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment"> * @param targetAttr  [optional] Target attribute mask.  Only files with these</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"> *                    attributes will be searched for.  The default is to ignore</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"> *                    the attributes of the files found, so all files found are</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"> *                    returned.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"> * @param newAttr     [optional] New attribute mask.  Each found file will have</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"> *                    its attributes set (changed) to match this mask.  The</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"> *                    default is to not change any attributes.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"> * @return  0 on success, non-zero on error.  For all errors, a condition is</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"> *          raised.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a3ac0b580f43253ed127cc28cb4b841df">  287</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a3ac0b580f43253ed127cc28cb4b841df">RexxRoutine5</a>(<a class="code" href="windows_2rexxapitypes_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>, SysFileTree, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, fileSpec, <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a>, files, OPTIONAL_CSTRING, opts,</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;             OPTIONAL_CSTRING, targetAttr, OPTIONAL_CSTRING, newAttr)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="comment">// initialize the search finder with the argument data</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="class_tree_finder.html">TreeFinder</a> finder(context, fileSpec, files, opts, targetAttr, newAttr);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="comment">// go perform the search</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        finder.<a class="code" href="class_tree_finder.html#a8d49351cab0e5e269203d13a65b0b662">findFiles</a>();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">catch</span> (<a class="code" href="class_tree_finder.html#a424a025278e4f4b08972a7455f9f5203">TreeFinder::TreeFinderException</a> e)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">if</span> (e == <a class="code" href="class_tree_finder.html#a424a025278e4f4b08972a7455f9f5203a0010a17acfe2928791fc8d7b4d2f82d5">TreeFinder::InvalidFileName</a>)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="_rexx_util_common_8cpp.html#ac662d137bdba62c6e02b86ad3b5e4162">INVALID_FILE_NAME</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">// this next section are platform-independent methods for the TreeFinder class.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">// platform-specific methods are located in the appropriate SysRexxUtil.cpp file.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="class_tree_finder.html#af2bd1e02f8ccf99bbaf660848a71aac3">  311</a></span>&#160;<a class="code" href="class_tree_finder.html#af2bd1e02f8ccf99bbaf660848a71aac3">TreeFinder::TreeFinder</a>(<a class="code" href="struct_rexx_call_context__.html">RexxCallContext</a> *c, <span class="keyword">const</span> <span class="keywordtype">char</span> *f, <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> sa, <span class="keyword">const</span> <span class="keywordtype">char</span> *opts, <span class="keyword">const</span> <span class="keywordtype">char</span> *targetAttr, <span class="keyword">const</span> <span class="keywordtype">char</span> *newAttr) :</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    context(c), stemArray(c, sa, 2), filePath(c), fileSpec(c),</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    foundFile(c), foundFileLine(c), nameSpec(c)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;{</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">// save the initial file spec</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <a class="code" href="class_tree_finder.html#acc73dc32282b020f26cf43f46c1dcdfa">fileSpec</a> = f;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">// validate the file specification</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="class_tree_finder.html#a4e8c55d43ab8b2ad4ea028b41a73261d">validateFileSpec</a>();</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// process the SysFileTreeOptions</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="class_tree_finder.html#aff2026412a2c08527d0a3147aaed813a">getOptions</a>(opts);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// validate the new and target attributes</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="class_tree_finder.html#a6544e4d436b723f9a4fb61ac1d1d8bfe">parseMask</a>(targetAttr, <a class="code" href="class_tree_finder.html#a41b6b5ee2c8cfbaeddc243e9fea4c966">targetAttributes</a>, 4);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="class_tree_finder.html#a6544e4d436b723f9a4fb61ac1d1d8bfe">parseMask</a>(newAttr, <a class="code" href="class_tree_finder.html#a74b967bebf1eed8c78641c5b06ab1117">newAttributes</a>, 5);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> * The destructor for the tree finder, which finalizes the return stem value.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="class_tree_finder.html#a01cee7affd87e614fc6e13eb9e394418">  331</a></span>&#160;<a class="code" href="class_tree_finder.html#a01cee7affd87e614fc6e13eb9e394418">TreeFinder::~TreeFinder</a>()</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">// make sure we finalized the count before returning.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="class_tree_finder.html#a29ac2ab168a83e0bf61bf43f8ee1aa63">stemArray</a>.<a class="code" href="class_stem_handler.html#a39a740471ea6372a6ead99b990cfb5cc">complete</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;}</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"> * Main method for driving the validation of options and file names and</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"> * then performing the file searches.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"> * @return Any approriate error codes, or 0 for success.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="class_tree_finder.html#a8d49351cab0e5e269203d13a65b0b662">  344</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#a8d49351cab0e5e269203d13a65b0b662">TreeFinder::findFiles</a>()</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">// Get the full path segment and the file name segment by expanding the</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// file specification string.  It seems highly unlikely, but possible, that</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// this could fail.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="class_tree_finder.html#aefd434d0cdd72e98b800f2161ea6143b">getFullPath</a>();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">// now start the search</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="class_tree_finder.html#abcb3969931a5aec5d196de16ddc15a07">recursiveFindFile</a>(<a class="code" href="class_tree_finder.html#a167c891316fbc292d7e6f26105aa13b5">filePath</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"> * The file specification consists of the search string as sent by the Rexx</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"> * user, with possibly some glob characters added.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"> * If the file specification ends in a (back)slash or a period (&#39;.&#39;) or two</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"> * periods (&#39;..&#39;), then a wild card specification (&#39;*&#39;) is</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"> * appended.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"> * However, note that there is also the case where a single &#39;.&#39; at the end of</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> * the file specification is not used as a directory specifier, but rather is</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> * tacked on to the end of a file name.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> * Windows has a sometimes used convention that a &#39;.&#39; at the end of a file name</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> * can be used to indicate the file has no extension. For example, given a file</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> * named: MyFile a command of &quot;dir MyFile.&quot; will produce a listing of &quot;MyFile&quot;.</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> * In this case we want to leave the file specification alone. that is, do not</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> * append a &#39;*&#39;. A command of &quot;dir *.&quot; will produce a directory listing of all</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> * files that do not have an extension.</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="class_tree_finder.html#a4e8c55d43ab8b2ad4ea028b41a73261d">  376</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#a4e8c55d43ab8b2ad4ea028b41a73261d">TreeFinder::validateFileSpec</a>()</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">size_t</span> len = <a class="code" href="class_tree_finder.html#acc73dc32282b020f26cf43f46c1dcdfa">fileSpec</a>.<a class="code" href="class_file_name_buffer.html#a6716a194791392dd168bbc37566e652a">length</a>();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (len == 0)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="_rexx_util_common_8hpp.html#a67c454aa388823710a16e3c867ebe2ee">nullStringException</a>(<a class="code" href="class_tree_finder.html#aa0b1a5653c7e67d10dcb5ff3c07c6317">context</a>, <span class="stringliteral">&quot;SysFileTree&quot;</span>, 1);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// apply platform rules to adjust for directories.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="class_tree_finder.html#a6b9cb316539b42b36237028eb8204951">adjustDirectory</a>();</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// perform any adjustments needed to the spec</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="class_tree_finder.html#a3739e861f7c64301134ca49ba5869d2b">adjustFileSpec</a>();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// apply any platform-specific rules to the file spec name.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// run this last so that we validate the adjusted final file name.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="class_tree_finder.html#a6770f8b247bb95dbc230bb4fd8d18751">validateFileSpecName</a>();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment"> * Checks the validity of an attribute mask argument and converts the character</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"> * based mask into an integer based mask.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"> * @param mask   The mask specified on the call.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"> * @param flags  The set of flags to set.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"> * @param argPos The argument position for error reporting</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="class_tree_finder.html#a6544e4d436b723f9a4fb61ac1d1d8bfe">  404</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#a6544e4d436b723f9a4fb61ac1d1d8bfe">TreeFinder::parseMask</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *mask, <a class="code" href="class_tree_finder_1_1_attribute_mask.html">AttributeMask</a> &amp;flags, <span class="keywordtype">size_t</span> argPos)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">if</span> (mask != NULL &amp;&amp; strlen(mask) &gt; 0)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">if</span> (strlen(mask) &gt; 5)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <a class="code" href="class_tree_finder.html#a884278c907d466a34401f636dfc42b2d">badMaskException</a>(argPos, mask);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">if</span> (!flags.<a class="code" href="class_tree_finder_1_1_attribute_mask.html#a53f20d26ff0d6d46d32bd3c56337c24d">parseMask</a>(mask))</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <a class="code" href="class_tree_finder.html#a884278c907d466a34401f636dfc42b2d">badMaskException</a>(argPos, mask);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"> * Throw an error for bad options.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"> * @param actual The specified options string</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="class_tree_finder.html#a51b848da71b1b8ffe1f6f4facd467911">  426</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#a51b848da71b1b8ffe1f6f4facd467911">TreeFinder::badSFTOptsException</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *actual)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordtype">char</span> buf[256] = { 0 };</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    snprintf(buf, <span class="keyword">sizeof</span>(buf),</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;             <span class="stringliteral">&quot;SysFileTree options argument must be a combination of F, D, B, S, T, L, I, O, or H; found \&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;             actual);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="class_tree_finder.html#aa0b1a5653c7e67d10dcb5ff3c07c6317">context</a>-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#a4d878853d7bdfad5156aaecf60880798">Rexx_Error_Incorrect_call_user_defined</a>, <a class="code" href="class_tree_finder.html#aa0b1a5653c7e67d10dcb5ff3c07c6317">context</a>-&gt;String(buf));</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"> * Throw an exception for an invalid mask argument.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment"> * @param pos    The argument position</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment"> * @param actual The specified argument</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="class_tree_finder.html#a884278c907d466a34401f636dfc42b2d">  442</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#a884278c907d466a34401f636dfc42b2d">TreeFinder::badMaskException</a>(<span class="keywordtype">size_t</span> pos, <span class="keyword">const</span> <span class="keywordtype">char</span> *actual)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;{</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordtype">char</span> buf[256] = { 0 };</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    snprintf(buf, <span class="keyword">sizeof</span>(buf),</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;             <span class="stringliteral">&quot;SysFileTree argument %zd must be 5 characters or less in length containing only &#39;+&#39;, &#39;-&#39;, or &#39;*&#39;; found \&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;             pos, actual);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="class_tree_finder.html#aa0b1a5653c7e67d10dcb5ff3c07c6317">context</a>-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#a4d878853d7bdfad5156aaecf60880798">Rexx_Error_Incorrect_call_user_defined</a>, <a class="code" href="class_tree_finder.html#aa0b1a5653c7e67d10dcb5ff3c07c6317">context</a>-&gt;String(buf));</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;}</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"> * Checks the validity of the options argument to SysFileTree and converts the</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"> * character based argument to the proper set of flags.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"> * @param opts   The call arguments</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="class_tree_finder.html#aff2026412a2c08527d0a3147aaed813a">  460</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#aff2026412a2c08527d0a3147aaed813a">TreeFinder::getOptions</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *opts)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;{</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">// by default, we return both file and directories</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>.set(<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada182c9612403b358fdeb3a0e641e8b7b2">DO_FILES</a>, <a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada1da9e0efa2799217a99634e53d75001a">DO_DIRS</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span> (opts != NULL)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="comment">// a NULL string is not a valid option</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">if</span> (strlen(opts) == 0)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <a class="code" href="_rexx_util_common_8hpp.html#a67c454aa388823710a16e3c867ebe2ee">nullStringException</a>(<a class="code" href="class_tree_finder.html#aa0b1a5653c7e67d10dcb5ff3c07c6317">context</a>, <span class="stringliteral">&quot;SysFileTree&quot;</span>, 3);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="class_tree_finder.html#a0897bb32c3cb1aec21e7ee834a1db307">goodOpts</a>(opts))</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <a class="code" href="class_tree_finder.html#a51b848da71b1b8ffe1f6f4facd467911">badSFTOptsException</a>(opts);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"> * Determines the options by converting the character based argument to the</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"> * correct set of flags.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"> * @param opts   The options string</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment"> * @return true if the options were ok, false if any invalid options were encountered.</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="class_tree_finder.html#a0897bb32c3cb1aec21e7ee834a1db307">  489</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_tree_finder.html#a0897bb32c3cb1aec21e7ee834a1db307">TreeFinder::goodOpts</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *opts)</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;{</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">while</span> (*opts)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="class_utilities.html#a0b91888c4169ea518a78ba9de5393c7e">Utilities::toUpper</a>(*opts))</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:                      <span class="comment">// recurse into subdirectories</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada93fabbbd09ac5b2e42690b651ad23d37">RECURSE</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:                      <span class="comment">// only return names</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada3fc6a10b8b8746ef0a961641253a74f6">NAME_ONLY</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:                      <span class="comment">// use short time format, ignored if L is used</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada46bb247703200f180d8927391fbbdd79">EDITABLE_TIME</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>:                      <span class="comment">// use long time format</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada18afade0f918ea3b6def0b55840b5dbc">LONG_TIME</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>:                      <span class="comment">// include only files</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada1da9e0efa2799217a99634e53d75001a">DO_DIRS</a>] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada182c9612403b358fdeb3a0e641e8b7b2">DO_FILES</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:                      <span class="comment">// include only directories</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada1da9e0efa2799217a99634e53d75001a">DO_DIRS</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada182c9612403b358fdeb3a0e641e8b7b2">DO_FILES</a>] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:                      <span class="comment">// include both files and directories</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada1da9e0efa2799217a99634e53d75001a">DO_DIRS</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada182c9612403b358fdeb3a0e641e8b7b2">DO_FILES</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:                      <span class="comment">// case insensitive? no op on Windows</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada0ee10cefcc825dd522297cd936dbf929">CASELESS</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>:                      <span class="comment">// use a larger field for the file size.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada5def439eb94f96788213fe6017ded753">LONG_SIZE</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">default</span>:                       <span class="comment">// error, unknown option</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        opts++;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> * This function expands the file spec into its full path name.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> * The full path name is then split into the path portion and</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"> * the file name portion.  The path portion is then returned in</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> * filePath and the file name portion is returned in nameSpec.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> * The filePath portion will end with the PathDelimiter</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> * character if the filespec contains a path.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="class_tree_finder.html#aefd434d0cdd72e98b800f2161ea6143b">  555</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#aefd434d0cdd72e98b800f2161ea6143b">TreeFinder::getFullPath</a>()</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;{</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// Find the position of the last slash in fSpec</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordtype">int</span> lastSlashPos = <a class="code" href="class_tree_finder.html#a249125a457591ca48c4e74854545799d">findDirectoryEnd</a>();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="comment">// If lastSlashPos is less than 0, then there is no directory present in</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="comment">// fileSpec.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span> (lastSlashPos &lt; 0)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">// this does not have a path on it, so add one</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="class_tree_finder.html#a7a1ba14cbce90dc62de8420ae9cfed5d">expandNonPath2fullPath</a>();</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="comment">// we need to split the path off from the file spec</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="class_tree_finder.html#ae0b378f6905d9b9657d9b0bf7a5afd54">expandPath2fullPath</a>(lastSlashPos);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// the above operations have also split off the nameSpec section</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment"> * Create a path from a file spec that does not include path information.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"> * @param path   The returned path</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00582"></a><span class="lineno"><a class="line" href="class_tree_finder.html#a7a1ba14cbce90dc62de8420ae9cfed5d">  582</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#a7a1ba14cbce90dc62de8420ae9cfed5d">TreeFinder::expandNonPath2fullPath</a>()</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;{</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// fileSpec could be a drive designator (Windows only)</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_tree_finder.html#ad22d76aa47d89fb73cb4e72306fc1dc0">checkNonPathDrive</a>())</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="comment">// start out with the current directory for the file path</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <a class="code" href="class_sys_file_system.html#a5285362313e300248657f32b782bc316">SysFileSystem::getCurrentDirectory</a>(<a class="code" href="class_tree_finder.html#a167c891316fbc292d7e6f26105aa13b5">filePath</a>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="comment">// If fileSpec is exactly &quot;.&quot; or &quot;..&quot; then add this to the end of the current path.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_tree_finder.html#acc73dc32282b020f26cf43f46c1dcdfa">fileSpec</a> == <span class="stringliteral">&quot;.&quot;</span>)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="comment">// just a wild card for the current name we&#39;re searching for</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <a class="code" href="class_tree_finder.html#a2175a12961ace1d95854fe53f8949491">nameSpec</a> = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="comment">// previous directory, add the path delimiter to the</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="comment">// end of the path and use &quot;*&quot; for the search path</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_tree_finder.html#acc73dc32282b020f26cf43f46c1dcdfa">fileSpec</a> == <span class="stringliteral">&quot;..&quot;</span>)</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="comment">// make sure we have a path delimiter on the end</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="comment">// add the .., the final path delimiter is added below</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <a class="code" href="class_tree_finder.html#a167c891316fbc292d7e6f26105aa13b5">filePath</a> += <span class="stringliteral">&quot;..&quot;</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="comment">// the name spec if again a wild card</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <a class="code" href="class_tree_finder.html#a2175a12961ace1d95854fe53f8949491">nameSpec</a> = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="comment">// copy every thing else over to the name spec</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <a class="code" href="class_tree_finder.html#a2175a12961ace1d95854fe53f8949491">nameSpec</a> = <a class="code" href="class_tree_finder.html#acc73dc32282b020f26cf43f46c1dcdfa">fileSpec</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">// If we need a trailing slash in the file path, add one.</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="class_tree_finder.html#a167c891316fbc292d7e6f26105aa13b5">filePath</a>.<a class="code" href="class_file_name_buffer.html#ad5f40320218a98a58bd54e54f78dc609">addFinalPathDelimiter</a>();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"> * Splits the the file spec into a path portion and a name</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"> * portion. There is at least one directory delimiter in the</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"> * fileSpec.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment"> * @param lastSlashPos</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment"> *               Position of the last directory character in the file spec.</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="class_tree_finder.html#ae0b378f6905d9b9657d9b0bf7a5afd54">  626</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#ae0b378f6905d9b9657d9b0bf7a5afd54">TreeFinder::expandPath2fullPath</a>(<span class="keywordtype">size_t</span> lastSlashPos)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// we have a spec with at least one directory delimiter, so we need</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// to split this into name and directory portion. The name part is easy,</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="comment">// the path portion may require a little system work.</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_tree_finder.html#acc73dc32282b020f26cf43f46c1dcdfa">fileSpec</a>.<a class="code" href="class_file_name_buffer.html#a6491632e5158b477d0a09997dd208aae">endsWith</a>(<a class="code" href="class_sys_file_system.html#a9d4c0462f4c948afce736454207e7146">SysFileSystem::PathDelimiter</a>))</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">// the spec has no file portion, so use a wild card for the</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="comment">// name specification</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <a class="code" href="class_tree_finder.html#a2175a12961ace1d95854fe53f8949491">nameSpec</a> = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="comment">// copy over the trailing part</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <a class="code" href="class_tree_finder.html#a2175a12961ace1d95854fe53f8949491">nameSpec</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)<a class="code" href="class_tree_finder.html#acc73dc32282b020f26cf43f46c1dcdfa">fileSpec</a> + (lastSlashPos + 1);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">// ok, the leading part we copy over to the filePath and then see if</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// there are any additional platform-specific fixups required.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="class_tree_finder.html#a167c891316fbc292d7e6f26105aa13b5">filePath</a>.<a class="code" href="class_file_name_buffer.html#a914cfc5e0ca08b748eeb7a72ed774860">set</a>(<a class="code" href="class_tree_finder.html#acc73dc32282b020f26cf43f46c1dcdfa">fileSpec</a>, lastSlashPos + 1);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">// now do any platform-specific resolution that might be needed here</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="class_tree_finder.html#ae868be5e940be0bf3f17477d46a02fff">fixupFilePath</a>();</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;}</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"> * Finds all files matching a file specification, formats a file name line and</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"> * adds the formatted line to a stem.  Much of the data to complete this</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment"> * operation is contained in the treeData struct.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment"> * This is a recursive function that may search through subdirectories if the</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment"> * recurse option is used.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"> * @param path        Current directory we are searching.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00662"></a><span class="lineno"><a class="line" href="class_tree_finder.html#abcb3969931a5aec5d196de16ddc15a07">  662</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#abcb3969931a5aec5d196de16ddc15a07">TreeFinder::recursiveFindFile</a>(<a class="code" href="class_file_name_buffer.html">FileNameBuffer</a> &amp;path)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;{</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="class_routine_file_name_buffer.html">RoutineFileNameBuffer</a> tempFileName(<a class="code" href="class_tree_finder.html#aa0b1a5653c7e67d10dcb5ff3c07c6317">context</a>, path.<a class="code" href="class_file_name_buffer.html#a6716a194791392dd168bbc37566e652a">length</a>()+ <a class="code" href="class_tree_finder.html#a2175a12961ace1d95854fe53f8949491">nameSpec</a>.<a class="code" href="class_file_name_buffer.html#a6716a194791392dd168bbc37566e652a">length</a>()+ 1);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// get a file iterator to search through the names</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="class_sys_file_iterator.html">SysFileIterator</a> finder(path, <a class="code" href="class_tree_finder.html#a2175a12961ace1d95854fe53f8949491">nameSpec</a>, tempFileName, <a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada0ee10cefcc825dd522297cd936dbf929">CASELESS</a>]);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// the attributes returned for each located file</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="class_sys_file_iterator_1_1_file_attributes.html">SysFileIterator::FileAttributes</a> attributes;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">while</span> (finder.<a class="code" href="class_sys_file_iterator.html#a3dd162e408c35a56ab6407608c7ab154">hasNext</a>())</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="comment">// we can just use the temp name buffer now</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        finder.<a class="code" href="class_sys_file_iterator.html#ab20fd83c4ab838761f491c332d387382">next</a>(tempFileName, attributes);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="comment">// we skip the dot directories. We&#39;re already searching the first, and</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="comment">// the second would send us backwards</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordflow">if</span> (tempFileName == <span class="stringliteral">&quot;.&quot;</span> || tempFileName == <span class="stringliteral">&quot;..&quot;</span>)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="comment">// compose the full name of the result</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <a class="code" href="class_tree_finder.html#a22df053b3af4a130eaddc8244dc5ceba">foundFile</a> = path;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <a class="code" href="class_tree_finder.html#a22df053b3af4a130eaddc8244dc5ceba">foundFile</a> += tempFileName;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="comment">// go check this file to see if it is a good match. If it is, it will be</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="comment">// directly added to the results.</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <a class="code" href="class_tree_finder.html#ad89d28086b2df157d93f798864eb47c5">checkFile</a>(attributes);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    finder.<a class="code" href="class_sys_file_iterator.html#a1eceec79d2c57a598bbbdd10dfc81da4">close</a>();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// is this a recursive request?</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">options</a>[<a class="code" href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada93fabbbd09ac5b2e42690b651ad23d37">RECURSE</a>])</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="comment">// reset the pattern to search for everything at this level.</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        tempFileName = path;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="comment">// get a file iterator to search through the names</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <a class="code" href="class_sys_file_iterator.html">SysFileIterator</a> dirFinder(path, NULL, tempFileName, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="class_routine_file_name_buffer.html">RoutineFileNameBuffer</a> directoryName(<a class="code" href="class_tree_finder.html#aa0b1a5653c7e67d10dcb5ff3c07c6317">context</a>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">while</span> (dirFinder.<a class="code" href="class_sys_file_iterator.html#a3dd162e408c35a56ab6407608c7ab154">hasNext</a>())</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="comment">// we can use the temp name buffer now</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            dirFinder.<a class="code" href="class_sys_file_iterator.html#ab20fd83c4ab838761f491c332d387382">next</a>(tempFileName, attributes);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160; </div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            <span class="comment">// skip non directories</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">if</span> (!attributes.<a class="code" href="class_sys_file_iterator_1_1_file_attributes.html#a63b023af83442045539b3f50820d76ed">isDirectory</a>())</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160; </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="comment">// we skip the dot directories. We&#39;re already searching the first, and</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="comment">// the second would send us backwards</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="keywordflow">if</span> (tempFileName == <span class="stringliteral">&quot;.&quot;</span> || tempFileName == <span class="stringliteral">&quot;..&quot;</span>)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="comment">// build a new search path</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            directoryName = path;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            directoryName += tempFileName;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="comment">// add a path delimiter to the end for the search</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            directoryName += <a class="code" href="class_sys_file_system.html#a9d4c0462f4c948afce736454207e7146">SysFileSystem::PathDelimiter</a>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="comment">// Search the next level.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <a class="code" href="class_tree_finder.html#abcb3969931a5aec5d196de16ddc15a07">recursiveFindFile</a>(directoryName);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="comment">// close the directory finder</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        dirFinder.<a class="code" href="class_sys_file_iterator.html#a1eceec79d2c57a598bbbdd10dfc81da4">close</a>();</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;}</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160; </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"> * add a result to the return stem</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment"> * @param v      The string value to add as the next stem element.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="class_tree_finder.html#a63157a8d75348d96b33c9082cded22f6">  743</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tree_finder.html#a63157a8d75348d96b33c9082cded22f6">TreeFinder::addResult</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *v)</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;{</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// Add this value to our results Stem or Array</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="class_tree_finder.html#a29ac2ab168a83e0bf61bf43f8ee1aa63">stemArray</a>.<a class="code" href="class_stem_handler.html#aec707e5f2b9b77459b58bfdca84a2d72">addValue</a>(v);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;}</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment"> * Determines if the string &#39;needle&#39; is in the</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment"> * string &#39;haystack&#39; by returning it&#39;s position or</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment"> * a NULL if not found.  The length of haystack and</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment"> * needle are given by &#39;hlen&#39; and &#39;nlen&#39; respectively.</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment"> * If &#39;sensitive&#39; is true, then the search is case</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"> * sensitive, else it is case insensitive.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"> * @param haystack  The haystack to search in.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment"> * @param needle    The needle to search for</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment"> * @param hlen      the length of the haystack string</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"> * @param nlen      The lenght of the needle string</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment"> * @param sensitive if true, a case sensitive search is performed. if false, the search is case insensitive.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment"> * @return A pointer to the first match position or NULL if the string is not found.</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="_rexx_util_common_8hpp.html#a05eee5051eca685fca0c44d2d1db7af0">  767</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="_rexx_util_common_8cpp.html#a05eee5051eca685fca0c44d2d1db7af0">mystrstr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *haystack, <span class="keyword">const</span> <span class="keywordtype">char</span> *needle, <span class="keywordtype">size_t</span> hlen, <span class="keywordtype">size_t</span> nlen, <span class="keywordtype">bool</span> sensitive)</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="comment">// we never return a hit for a null string search or if the needle is longer than the haystack</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (nlen == 0 || nlen &gt; hlen)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160; </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// different loops for the sensitive and insensitive searches</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (sensitive)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="comment">// we scan, looking for a hit on the first character</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordtype">char</span> firstChar = needle[0];</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="keywordtype">size_t</span> current = 0;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="comment">// this is maximum number of places we can get a hit</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordtype">size_t</span> limit = hlen - nlen + 1;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">for</span> (current = 0; current &lt; limit; current++)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <span class="comment">// if we have a hit on the first character, check the entire string</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <span class="keywordflow">if</span> (firstChar == haystack[current])</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                <span class="comment">// if everything compares, return the hit</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                <span class="keywordflow">if</span> (memcmp(haystack + current, needle, nlen) == 0)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                    <span class="keywordflow">return</span> haystack + current;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        }</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="comment">// we scan, looking for a hit on the first character</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordtype">char</span> firstChar = <a class="code" href="class_utilities.html#a0b91888c4169ea518a78ba9de5393c7e">Utilities::toUpper</a>(needle[0]);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="keywordtype">size_t</span> current = 0;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="comment">// this is maximum number of places we can get a hit</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keywordtype">size_t</span> limit = hlen - nlen + 1;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">for</span> (current = 0; current &lt; limit; current++)</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="comment">// if we have a hit on the first character, check the entire string</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            <span class="keywordflow">if</span> (firstChar == <a class="code" href="class_utilities.html#a0b91888c4169ea518a78ba9de5393c7e">Utilities::toUpper</a>(haystack[current]))</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                <span class="comment">// if everything compares, return the hit</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_utilities.html#adfe3272ee891870e30a9072e3bb4dadd">Utilities::memicmp</a>(haystack + current, needle, nlen) == 0)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                    <span class="keywordflow">return</span> haystack + current;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    }</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">// if the loops terminate, there are no hits</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">* Function:  SysDropFuncs                                                *</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">* Syntax:    call SysDropFuncs                                           *</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">* Return:    NO_UTIL_ERROR - Successful.                                 *</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a8515673dd759551ac65022c5a3b0f16e">  831</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a8515673dd759551ac65022c5a3b0f16e">RexxRoutine0</a>(<span class="keywordtype">int</span>, SysDropFuncs)</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;{</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="comment">// this is a nop</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">* Function:  SysLoadFuncs                                                *</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">* Syntax:    call SysLoadFuncs [option]                                  *</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">* Params:    none                                                        *</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">* Return:    null string                                                 *</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a95939e8470e5c0071fa5cddb8ce6ba49">  847</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a8515673dd759551ac65022c5a3b0f16e">RexxRoutine0</a>(<span class="keywordtype">int</span>, SysLoadFuncs)</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;{</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// this is a nop</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;}</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; </div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">* Function:  SysAddRexxMacro                                             *</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">* Syntax:    result = SysAddRexxMacro(name, file, &lt;order&gt;)               *</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">* Params:    name   - loaded name of the macro file                      *</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">*            file   - file containing the loaded macro                   *</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">*            order  - Either &#39;B&#39;efore or &#39;A&#39;fter.  The default is &#39;B&#39;    *</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">* Return:    return code from RexxAddMacro                               *</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#ac6fe7c5da90e2c4887fa2c8c7a887ab6">  866</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#ac6fe7c5da90e2c4887fa2c8c7a887ab6">RexxRoutine3</a>(<span class="keywordtype">int</span>, SysAddRexxMacro, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, name, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, file, OPTIONAL_CSTRING, option)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;{</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordtype">size_t</span> position;         <span class="comment">/* added position             */</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    position = <a class="code" href="rexxapidefs_8h.html#a038955920fa00deca01449bad0e91f7a">RXMACRO_SEARCH_BEFORE</a>;    <span class="comment">/* set default search position*/</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (option != NULL)                  <span class="comment">/* have an option?            */</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="keywordflow">switch</span> (*option)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:     <span class="comment">// &#39;B&#39;efore</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                position = <a class="code" href="rexxapidefs_8h.html#a038955920fa00deca01449bad0e91f7a">RXMACRO_SEARCH_BEFORE</a>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160; </div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:     <span class="comment">// &#39;A&#39;fter</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                position = <a class="code" href="rexxapidefs_8h.html#a58a5ae4ae5134a134de77788be1d4ba2">RXMACRO_SEARCH_AFTER</a>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                <a class="code" href="_rexx_util_common_8hpp.html#a1f0cf79aea937d49702908d656a54b9d">invalidOptionException</a>(context, <span class="stringliteral">&quot;SysAddRexxMacro&quot;</span>, <span class="stringliteral">&quot;order&quot;</span>, <span class="stringliteral">&quot;&#39;A&#39; or &#39;B&#39;&quot;</span>, option);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="comment">// try to add the macro</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="rexx_8h.html#a47198dd151af7d667b5c6066a0a65f40">RexxAddMacro</a>(name, file, position);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;}</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">* Function:  SysReorderRexxMacro                                         *</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">* Syntax:    result = SysReorderRexxMacro(name, order)                   *</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">* Params:    name   - loaded name of the macro file                      *</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">*            order  - Either &#39;B&#39;efore or &#39;A&#39;fter.                        *</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">* Return:    return code from RexxReorderMacro                           *</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l00906"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#aef8f1711334e9b05c32ac00e45d77796">  906</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#aef8f1711334e9b05c32ac00e45d77796">RexxRoutine2</a>(<span class="keywordtype">int</span>, SysReorderRexxMacro, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, name, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, option)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;{</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordtype">size_t</span> position;        <span class="comment">/* added position             */</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160; </div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">switch</span> (*option)</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:     <span class="comment">// &#39;B&#39;efore</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            position = <a class="code" href="rexxapidefs_8h.html#a038955920fa00deca01449bad0e91f7a">RXMACRO_SEARCH_BEFORE</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:     <span class="comment">// &#39;A&#39;fter</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            position = <a class="code" href="rexxapidefs_8h.html#a58a5ae4ae5134a134de77788be1d4ba2">RXMACRO_SEARCH_AFTER</a>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            <a class="code" href="_rexx_util_common_8hpp.html#a1f0cf79aea937d49702908d656a54b9d">invalidOptionException</a>(context, <span class="stringliteral">&quot;SysReorderRexxMacro&quot;</span>, <span class="stringliteral">&quot;order&quot;</span>, <span class="stringliteral">&quot;&#39;A&#39; or &#39;B&#39;&quot;</span>, option);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="rexx_8h.html#aa00dff652e0e5e3ad962551ac22a95cb">RexxReorderMacro</a>(name, position);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;}</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">* Function:  SysDropRexxMacro                                            *</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">* Syntax:    result = SysDropRexxMacro(name)                             *</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">* Params:    name   - name of the macro space function                   *</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">* Return:    return code from RexxDropMacro                              *</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">  939</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<span class="keywordtype">int</span>, SysDropRexxMacro, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, name)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;{</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="rexx_8h.html#af0e527502183c8c40a249f22f265cc8d">RexxDropMacro</a>(name);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;}</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160; </div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">* Function:  SysQueryRexxMacro                                           *</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment">* Syntax:    result = SysQueryRexxMacro(name)                            *</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">* Params:    name   - name of the macro space function                   *</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">* Return:    position of the macro (&#39;B&#39; or &#39;A&#39;), returns null for errors.*</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#aa278b7e70262dd46d0b253d18629290e">  954</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, SysQueryRexxMacro, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, name)</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;{</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> position;         <span class="comment">/* returned position          */</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; </div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rexx_8h.html#a86b37abbed59199713b843efab37d3ff">RexxQueryMacro</a>(name, &amp;position) != 0)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// before?</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">if</span> (position == <a class="code" href="rexxapidefs_8h.html#a038955920fa00deca01449bad0e91f7a">RXMACRO_SEARCH_BEFORE</a>)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;B&quot;</span>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;A&quot;</span>;                    <span class="comment">/* must be &#39;A&#39;fter            */</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;}</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment">* Function:  SysClearRexxMacroSpace                                      *</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">* Syntax:    result = SysClearRexxMacroSpace()                           *</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">* Params:    none                                                        *</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">* Return:    return code from RexxClearMacroSpace()                      *</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#aa052465890b0e94573704f6bdd162c26">  983</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a8515673dd759551ac65022c5a3b0f16e">RexxRoutine0</a>(<span class="keywordtype">int</span>, SysClearRexxMacroSpace)</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;{</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="rexx_8h.html#adbc9a0d41c6b09e57c92767bc664c6e9">RexxClearMacroSpace</a>();          <span class="comment">/* clear the macro space      */</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;}</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">* Function:  SysSaveRexxMacroSpace                                       *</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">* Syntax:    result = SysSaveRexxMacroSpace(file)                        *</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">* Params:    file   - name of the saved macro space file                 *</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">* Return:    return code from RexxSaveMacroSpace()                       *</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a79831649f3ca8e46b9626e1b4fb2fec5">  998</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<span class="keywordtype">int</span>, SysSaveRexxMacroSpace, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, file)</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;{</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="rexx_8h.html#a697908c384958f9d6e256993d81d2aaa">RexxSaveMacroSpace</a>(0, NULL, file);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;}</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment">* Function:  SysLoadRexxMacroSpace                                       *</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">* Syntax:    result = SysLoadRexxMacroSpace(file)                        *</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">* Params:    file   - name of the saved macro space file                 *</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">* Return:    return code from RexxLoadMacroSpace()                       *</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a2e98a1844e6a4dfc1373aa3f91253bb3"> 1013</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<span class="keywordtype">int</span>, SysLoadRexxMacroSpace, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, file)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;{</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="rexx_8h.html#a44df40d9d3e5ce5112d8d7ea17d7b532">RexxLoadMacroSpace</a>(0, NULL, file);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;}</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">* Function:  SysStemSort                                                 *</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">* Syntax:    result = SysStemSort(stem, order, type, start, end,         *</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">*                                 firstcol, lastcol)                     *</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment">* Params:    stem - name of stem to sort                                 *</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">*            order - &#39;A&#39; or &#39;D&#39; for sort order                           *</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">*            type - &#39;C&#39;, &#39;I&#39;, &#39;N&#39; for comparision type                   *</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">*            start - first index to sort                                 *</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">*            end - last index to sort                                    *</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">*            firstcol - first column to use as sort key                  *</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">*            lastcol - last column to use as sort key                    *</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment">* Return:    0 - sort was successful                                     *</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment">*            -1 - sort failed                                            *</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#ad740e30caf8b09c306c19e472acbc3b7"> 1037</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#ad740e30caf8b09c306c19e472acbc3b7">RexxRoutine7</a>(<span class="keywordtype">int</span>, SysStemSort, <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a>, stemArgument, OPTIONAL_CSTRING, order, OPTIONAL_CSTRING, <a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>,</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;             OPTIONAL_positive_wholenumber_t, first, OPTIONAL_positive_wholenumber_t, last,</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;             OPTIONAL_positive_wholenumber_t, firstCol, OPTIONAL_positive_wholenumber_t, lastCol)</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;{</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordtype">int</span> sortType = <a class="code" href="_rexx_internal_apis_8h.html#aa34ca575266a3f4b79b915c067dc275e">SORT_CASESENSITIVE</a>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordtype">int</span> sortOrder = <a class="code" href="_rexx_internal_apis_8h.html#a81da4fa77ffcb61150943958eea47cd1">SORT_ASCENDING</a>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="rexx_8h.html#af481dd711e94a4b9b636f922b8cfef5c">RexxStemObject</a> stem;     <span class="comment">// the resolved stem object we&#39;re going to sort</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *tailExtension = NULL;    <span class="comment">// any compound tail section to add to the</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160; </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">// try to resolve this directly. This is normally either a stem object already or a</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="comment">// valid stem name.</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    stem = context-&gt;ResolveStemVariable(stemArgument);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <span class="comment">// this could be an invalid argument, but it might be a name like &quot;a.1&quot;, where the</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="comment">// tail needs to be extracted</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> (stem == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a>)</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="comment">// This is a bit of a pain. It would be nice to create this argument as a stem</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="comment">// object, but people have been coding stem sorts using a compound variable rather than</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="comment">// a stem name because the old code was lax and it just happened to work. We need to process this</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="comment">// as a name and make sure it has a period at the end.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="comment">// we need to get a stem name, and also check for extension. We only process this if it</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="comment">// is a string object</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <span class="keywordflow">if</span> (!context-&gt;IsString(stemArgument))</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            context-&gt;ThrowException2(<a class="code" href="oorexxerrors_8h.html#a35ed2dfe740ebf37de7ad4963d37ed97">Rexx_Error_Incorrect_call_nostem</a>, context-&gt;WholeNumberToObject(1), stemArgument);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        }</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="comment">// now get the name</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *stemName = context-&gt;ObjectToStringValue(stemArgument);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordtype">size_t</span> stemLength = strlen(stemName);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="comment">// find the location of the first period</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *periodLocation = strstr(stemName, <span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="comment">// if this does not have a period at all or the first period is at the end, this is</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="comment">// easy, this must be an invalid name</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="keywordflow">if</span> (periodLocation == NULL || periodLocation == stemName + stemLength - 1)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            context-&gt;ThrowException2(<a class="code" href="oorexxerrors_8h.html#a35ed2dfe740ebf37de7ad4963d37ed97">Rexx_Error_Incorrect_call_nostem</a>, context-&gt;WholeNumberToObject(1), stemArgument);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        <span class="comment">// we have a stem plus a section of tail. We need to separate these.</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            <span class="comment">// copy the tail part</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            tailExtension = periodLocation + 1;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <span class="comment">// the resolve call requires a RexxObject, so make a string version of it</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            <a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a> stemString = context-&gt;NewString(stemName, (periodLocation - stemName) + 1);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            <span class="comment">// go resolve the stem using the argument directly.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            stem = context-&gt;ResolveStemVariable(stemString);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            <span class="comment">// this is a error if we can&#39;t resolve this</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            <span class="keywordflow">if</span> (stem == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a>)</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                context-&gt;ThrowException2(<a class="code" href="oorexxerrors_8h.html#a35ed2dfe740ebf37de7ad4963d37ed97">Rexx_Error_Incorrect_call_nostem</a>, context-&gt;WholeNumberToObject(1), stemArgument);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// check other parameters.  sort order</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">if</span> (order != NULL)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">switch</span> (order[0])</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                sortOrder = <a class="code" href="_rexx_internal_apis_8h.html#a81da4fa77ffcb61150943958eea47cd1">SORT_ASCENDING</a>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                sortOrder = <a class="code" href="_rexx_internal_apis_8h.html#acda2338325b3044d2e9cae8c83de6a8b">SORT_DECENDING</a>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                <a class="code" href="_rexx_util_common_8hpp.html#a1f0cf79aea937d49702908d656a54b9d">invalidOptionException</a>(context, <span class="stringliteral">&quot;SysStemSort&quot;</span>, <span class="stringliteral">&quot;sort order&quot;</span>, <span class="stringliteral">&quot;&#39;A&#39; or &#39;D&#39;&quot;</span>, order);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="comment">// sort type</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a> != NULL)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">switch</span> (<a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>[0])</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                sortType = <a class="code" href="_rexx_internal_apis_8h.html#aa34ca575266a3f4b79b915c067dc275e">SORT_CASESENSITIVE</a>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                sortType = <a class="code" href="_rexx_internal_apis_8h.html#a8d2fa71ddc3683adb805fa0a0680731d">SORT_CASEIGNORE</a>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                <a class="code" href="_rexx_util_common_8hpp.html#a1f0cf79aea937d49702908d656a54b9d">invalidOptionException</a>(context, <span class="stringliteral">&quot;SysStemSort&quot;</span>, <span class="stringliteral">&quot;sort type&quot;</span>, <span class="stringliteral">&quot;&#39;C&#39; or &#39;I&#39;&quot;</span>, <a class="code" href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a>);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="comment">// first element to sort</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="oorexxapi_8h.html#a895bccfb4968ae24b153351beadd50f7">argumentOmitted</a>(4))</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="comment">// start with the first element if not specified</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        first = 1;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="comment">// last element to sort</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="oorexxapi_8h.html#a895bccfb4968ae24b153351beadd50f7">argumentOmitted</a>(5))</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="comment">// do everything</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        last = <a class="code" href="class_numerics.html#a41b8bad5e3cb91973bb6143388c98d3c">Numerics::MAX_WHOLENUMBER</a>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160; </div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="comment">// can&#39;t go backwards</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="keywordflow">if</span> (last &lt; first)</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        <a class="code" href="_rexx_util_common_8hpp.html#a88b7dbca5f06adeda09269e94d47f52e">relativeOptionException</a>(context, <span class="stringliteral">&quot;last&quot;</span>, last, <span class="stringliteral">&quot;first&quot;</span>, first);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="comment">// first column to sort</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="oorexxapi_8h.html#a895bccfb4968ae24b153351beadd50f7">argumentOmitted</a>(6))</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        firstCol = 1;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="comment">// last column to sort</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="oorexxapi_8h.html#a895bccfb4968ae24b153351beadd50f7">argumentOmitted</a>(7))</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    {</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        lastCol = <a class="code" href="class_numerics.html#a41b8bad5e3cb91973bb6143388c98d3c">Numerics::MAX_WHOLENUMBER</a>;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">if</span> (lastCol &lt; firstCol)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        <a class="code" href="_rexx_util_common_8hpp.html#a88b7dbca5f06adeda09269e94d47f52e">relativeOptionException</a>(context, <span class="stringliteral">&quot;last column&quot;</span>, lastCol, <span class="stringliteral">&quot;first column&quot;</span>, firstCol);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="comment">// the sorting is done in the interpreter</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_interpreter_a_p_i_8cpp.html#ad038cdbe4ed8feeacb2f96dcdb23ceba">RexxStemSort</a>(stem, tailExtension, sortOrder, sortType, first, last, firstCol, lastCol))</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        context-&gt;InvalidRoutine();</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;}</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">* Function:  SysStemDelete                                               *</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">* Syntax:    result = SysStemDelete(stem, startitem [,itemcount])        *</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">* Params:    stem - name of stem where item will be deleted              *</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">*            startitem - index of item to delete                         *</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment">*            itemcount - number of items to delete if more than 1        *</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment">* Return:    0 - delete was successful                                   *</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">*            -1 - delete failed                                          *</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a2085ffc5fb1590955237faf5dbed5175"> 1193</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#ac6fe7c5da90e2c4887fa2c8c7a887ab6">RexxRoutine3</a>(<span class="keywordtype">int</span>, SysStemDelete, <a class="code" href="rexx_8h.html#af481dd711e94a4b9b636f922b8cfef5c">RexxStemObject</a>, toStem, positive_wholenumber_t, start, OPTIONAL_positive_wholenumber_t, count)</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;{</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="oorexxapi_8h.html#a895bccfb4968ae24b153351beadd50f7">argumentOmitted</a>(3))</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        count = 1;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a> items;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160; </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> temp = context-&gt;GetStemArrayElement(toStem, 0);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span> (temp == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a> || !context-&gt;WholeNumber(temp, &amp;items) || items &lt; 0)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <a class="code" href="_rexx_util_common_8hpp.html#adf61eb23066c6a7ac03170235b2021b7">unsetStemException</a>(context);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="comment">// make sure the deletion site is within the bounds</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> (start + count - 1 &gt; items)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#ad5f526ceb695e9a05633f511825a8d64">Rexx_Error_Incorrect_call_stem_range</a>, context-&gt;StringSizeToObject(items));</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <a class="code" href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a> index;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="comment">/* now copy the remaining indices up front */</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordflow">for</span> (index = start;  index + count &lt;= items; index++)</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="comment">// copy from the old index to the new index</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> value = context-&gt;GetStemArrayElement(toStem, index + count);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="comment">// is this a sparse array?</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <span class="keywordflow">if</span> (value == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a>)</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        {</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            <span class="comment">// return this as a failure</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#ad0643059f936fe5c665e617c2c41a3c7">Rexx_Error_Incorrect_call_stem_sparse_array</a>, context-&gt;WholeNumberToObject(index));</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        context-&gt;SetStemArrayElement(toStem, index, value);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    }</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160; </div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">/* now delete the items at the end */</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">for</span> (index = items - count + 1; index &lt;= items; index++)</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        context-&gt;DropStemArrayElement(toStem, index);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; </div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    context-&gt;SetStemArrayElement(toStem, 0, context-&gt;StringSize(items - count));</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;}</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment">* Function:  SysStemInsert                                               *</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">* Syntax:    result = SysStemInsert(stem, position, value)               *</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">* Params:    stem - name of stem where item will be inserted             *</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">*            position - index where new item will be inserted            *</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment">*            value - new item value                                      *</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment">* Return:    0 - insert was successful                                   *</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment">*            -1 - insert failed                                          *</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a982aadb7bac21e31ff5321e3acc51ac0"> 1252</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#ac6fe7c5da90e2c4887fa2c8c7a887ab6">RexxRoutine3</a>(<span class="keywordtype">int</span>, SysStemInsert, <a class="code" href="rexx_8h.html#af481dd711e94a4b9b636f922b8cfef5c">RexxStemObject</a>, toStem, positive_wholenumber_t, position, <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a>, newValue)</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;{</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <a class="code" href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a> count;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160; </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> temp = context-&gt;GetStemArrayElement(toStem, 0);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">if</span> (temp == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a> || !context-&gt;WholeNumber(temp, &amp;count))</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <a class="code" href="_rexx_util_common_8hpp.html#adf61eb23066c6a7ac03170235b2021b7">unsetStemException</a>(context);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="comment">/* check whether new position is within limits */</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">if</span> (position &gt; count + 1)</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#ad5f526ceb695e9a05633f511825a8d64">Rexx_Error_Incorrect_call_stem_range</a>, context-&gt;WholeNumberToObject(count));</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a> index = count; index &gt;= position; index--)</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <span class="comment">// copy from the old index to the new index</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> value = context-&gt;GetStemArrayElement(toStem, index);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <span class="comment">// is this a sparse array?</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        <span class="keywordflow">if</span> (value == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a>)</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;            context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#ad0643059f936fe5c665e617c2c41a3c7">Rexx_Error_Incorrect_call_stem_sparse_array</a>, context-&gt;WholeNumberToObject(index));</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        context-&gt;SetStemArrayElement(toStem, index + 1, value);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="comment">// now set the new value and increase the count at stem.0</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    context-&gt;SetStemArrayElement(toStem, position, newValue);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    context-&gt;SetStemArrayElement(toStem, 0, context-&gt;WholeNumber(count + 1));</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;}</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">* Function:  SysStemCopy                                                 *</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">* Syntax:    result = SysStemCopy(fromstem, tostem, from, to, count      *</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">*                                 [,insert])                             *</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">* Params:    fromstem - name of source stem                              *</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment">*            tostem - - name of target stem                              *</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment">*            from  - first index in source stem to copy                  *</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">*            to - position where items are copied/inserted in target stem*</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment">*            count - number of items to copy/insert                      *</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment">*            insert - &#39;I&#39; to indicate insert instead of &#39;O&#39; overwrite    *</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">* Return:    0 - stem copy was successful                                *</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment">*            -1 - stem copy failed                                       *</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a4e04a6b53fb8d5a5df1a5f23e5ba012c"> 1303</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a4e04a6b53fb8d5a5df1a5f23e5ba012c">RexxRoutine6</a>(<span class="keywordtype">int</span>, SysStemCopy, <a class="code" href="rexx_8h.html#af481dd711e94a4b9b636f922b8cfef5c">RexxStemObject</a>, fromStem, <a class="code" href="rexx_8h.html#af481dd711e94a4b9b636f922b8cfef5c">RexxStemObject</a>, toStem,</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;             OPTIONAL_positive_wholenumber_t, from, OPTIONAL_positive_wholenumber_t, to, OPTIONAL_nonnegative_wholenumber_t, count,</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;             OPTIONAL_CSTRING, option)</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;{</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordtype">bool</span> inserting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="comment">/* get copy type */</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">if</span> (option != NULL)</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;        <span class="keywordflow">switch</span> (*option)</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;                inserting = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                inserting = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            {</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                <a class="code" href="_rexx_util_common_8hpp.html#a1f0cf79aea937d49702908d656a54b9d">invalidOptionException</a>(context, <span class="stringliteral">&quot;SysStemCopy&quot;</span>, <span class="stringliteral">&quot;sort type&quot;</span>, <span class="stringliteral">&quot;&#39;I&#39; or &#39;O&#39;&quot;</span>, option);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;            }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        }</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a> fromCount;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> temp = context-&gt;GetStemArrayElement(fromStem, 0);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">if</span> (temp == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a> || !context-&gt;WholeNumber(temp, &amp;fromCount))</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <a class="code" href="_rexx_util_common_8hpp.html#adf61eb23066c6a7ac03170235b2021b7">unsetStemException</a>(context);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160; </div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="comment">// default from location is the first element</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="oorexxapi_8h.html#a895bccfb4968ae24b153351beadd50f7">argumentOmitted</a>(3))</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;        from = 1;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    }</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="oorexxapi_8h.html#a895bccfb4968ae24b153351beadd50f7">argumentOmitted</a>(4))</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        to = 1;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="comment">// was a count explicitly specified?</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="oorexxapi_8h.html#a15c340ee5245f15f32265d54a1e5a3f5">argumentExists</a>(5))</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <span class="comment">// this must be in range</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        <span class="keywordflow">if</span> ((count &gt; (fromCount - from + 1)) || (fromCount == 0))</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#ad5f526ceb695e9a05633f511825a8d64">Rexx_Error_Incorrect_call_stem_range</a>, context-&gt;WholeNumberToObject(fromCount));</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    }</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="comment">// default is to copy everything from the starting position.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        count = fromCount - from + 1;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <a class="code" href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a> toCount = 0;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="comment">// but if it is set, then use that value</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    temp = context-&gt;GetStemArrayElement(toStem, 0);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="keywordflow">if</span> (temp != <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a> &amp;&amp; !context-&gt;WholeNumber(temp, &amp;toCount))</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <a class="code" href="_rexx_util_common_8hpp.html#adf61eb23066c6a7ac03170235b2021b7">unsetStemException</a>(context);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="comment">// copying out of range?  Error</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="keywordflow">if</span> (to &gt; toCount + 1)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#ad5f526ceb695e9a05633f511825a8d64">Rexx_Error_Incorrect_call_stem_range</a>, context-&gt;WholeNumberToObject(toCount));</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">if</span> (inserting)</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <span class="comment">/* if we are about to insert the items we have to make room */</span></div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a> index = toCount; index &gt;= to; index--)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;            <span class="comment">// copy from the old index to the new index</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> value = context-&gt;GetStemArrayElement(toStem, index);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <span class="comment">// is this a sparse array?</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            <span class="keywordflow">if</span> (value == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a>)</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            {</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#ad0643059f936fe5c665e617c2c41a3c7">Rexx_Error_Incorrect_call_stem_sparse_array</a>, context-&gt;WholeNumberToObject(index));</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;            }</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            context-&gt;SetStemArrayElement(toStem, index + count, value);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160; </div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <span class="comment">// set the new count value in the target</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        toCount += count;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        context-&gt;SetStemArrayElement(toStem, 0, context-&gt;WholeNumberToObject(toCount));</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">/* now do the actual copying from the source to target */</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a> index = 0; index &lt; count; index++)</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="comment">// just retrieve and copy</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> value = context-&gt;GetStemArrayElement(fromStem, from + index);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="comment">// is this a sparse array?</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="keywordflow">if</span> (value == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a>)</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#ad0643059f936fe5c665e617c2c41a3c7">Rexx_Error_Incorrect_call_stem_sparse_array</a>, context-&gt;WholeNumberToObject(index));</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        context-&gt;SetStemArrayElement(toStem, to + index, value);</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="comment">// do we need to update the size?</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">if</span> (to + count - 1 &gt; toCount)</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        context-&gt;SetStemArrayElement(toStem, 0, context-&gt;StringSize(to + count - 1));</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;}</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160; </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment">* Function:  SysUtilVersion                                              *</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">* Syntax:    Say SysUtilVersion                                          *</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment">* Return:    REXXUTIL.DLL Version                                        *</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a67e6e676bc309ca8be2ee7d20b825350"> 1426</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a8515673dd759551ac65022c5a3b0f16e">RexxRoutine0</a>(<a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a>, SysUtilVersion)</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;{</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordtype">char</span> buffer[256];</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="comment">/* format into the buffer     */</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%d.%d.%d&quot;</span>, ORX_VER, ORX_REL, ORX_MOD);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordflow">return</span> context-&gt;String(buffer);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;}</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment"> * Write out the name/value pair for an individual variable to the output stream.</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="comment"> * @param file    The output target</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="comment"> * @param context The call context</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="comment"> * @param name    The name of the variable</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="comment"> * @param value   The object value</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="comment"> * @return an error code if there is a failure.</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a57bf374c652644ff757d3dbfb818463c"> 1445</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_rexx_util_common_8cpp.html#a57bf374c652644ff757d3dbfb818463c">writeVariable</a>(<a class="code" href="class_sys_file.html">SysFile</a> &amp;file, <a class="code" href="struct_rexx_call_context__.html">RexxCallContext</a> *context, <span class="keyword">const</span> <span class="keywordtype">char</span> *name, <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> value)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;{</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordtype">size_t</span> nameLength = strlen(name);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a> stringValue = context-&gt;ObjectToString(value);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordtype">size_t</span> valueLength = context-&gt;StringLength(stringValue);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *valueData = context-&gt;StringData(stringValue);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; </div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordtype">size_t</span> bytesWritten;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(<span class="stringliteral">&quot;Name=&quot;</span>, strlen(<span class="stringliteral">&quot;Name=&quot;</span>), bytesWritten);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(name, nameLength, bytesWritten);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(<span class="stringliteral">&quot;, Value=&#39;&quot;</span>, strlen(<span class="stringliteral">&quot;, Value=&#39;&quot;</span>), bytesWritten);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(valueData, valueLength, bytesWritten);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(<span class="stringliteral">&quot;&#39;\n&quot;</span>, strlen(<span class="stringliteral">&quot;&#39;\n&quot;</span>), bytesWritten);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="comment">// now release the local references</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    context-&gt;ReleaseLocalReference(stringValue);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    context-&gt;ReleaseLocalReference(value);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;}</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="comment"> * Write out the compound name/value pair for an individual</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="comment"> * compound variable to the output stream.</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment"> * @param file   The output target</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment"> * @param name   The name of the variable</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment"> * @param value  The object value</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment"> * @return an error code if there is a failure.</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a92547a2d288593fbe14d871f57956784"> 1479</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="_rexx_util_common_8cpp.html#a57bf374c652644ff757d3dbfb818463c">writeVariable</a>(<a class="code" href="class_sys_file.html">SysFile</a> &amp;file, <a class="code" href="struct_rexx_call_context__.html">RexxCallContext</a> *context, <span class="keyword">const</span> <span class="keywordtype">char</span> *stem, <a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a> tail, <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> value)</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;{</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keywordtype">size_t</span> nameLength = context-&gt;StringLength(tail);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *nameData = context-&gt;StringData(tail);</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a> stringValue = context-&gt;ObjectToString(value);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160; </div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordtype">size_t</span> valueLength = context-&gt;StringLength(stringValue);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *valueData = context-&gt;StringData(stringValue);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="keywordtype">size_t</span> bytesWritten;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(<span class="stringliteral">&quot;Name=&quot;</span>, strlen(<span class="stringliteral">&quot;Name=&quot;</span>), bytesWritten);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(stem, strlen(stem), bytesWritten);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(nameData, nameLength, bytesWritten);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(<span class="stringliteral">&quot;, Value=&#39;&quot;</span>, strlen(<span class="stringliteral">&quot;, Value=&#39;&quot;</span>), bytesWritten);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(valueData, valueLength, bytesWritten);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    file.<a class="code" href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">write</a>(<span class="stringliteral">&quot;&#39;\r\n&quot;</span>, strlen(<span class="stringliteral">&quot;&#39;\r\n&quot;</span>), bytesWritten);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="comment">// now release the local references</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    context-&gt;ReleaseLocalReference(tail);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    context-&gt;ReleaseLocalReference(stringValue);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    context-&gt;ReleaseLocalReference(value);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;}</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="comment">* Function:  SysDumpVariables                                            *</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="comment">* Syntax:    result = SysDumpVariables([filename])                       *</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">* Params:    filename - name of the file where variables are appended to *</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="comment">*                       (dump is written to stdout if omitted)           *</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="comment">* Return:    0 - dump completed OK                                       *</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a59dbf74d93ef43d1239f99bb37525f2e"> 1516</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<span class="keywordtype">int</span>, SysDumpVariables, OPTIONAL_CSTRING, fileName)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;{</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <a class="code" href="class_sys_file.html">SysFile</a>   outFile;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">if</span> (fileName != NULL)</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    {</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> qualifiedName(context, fileName);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">if</span> (!outFile.<a class="code" href="class_sys_file.html#ab59bfdafd28832d21a2b239174eec299">open</a>(qualifiedName, <a class="code" href="unix_2_sys_file_8hpp.html#a0e47e78ccdf29e3dcafec74bab8695a1">RX_O_WRONLY</a> | <a class="code" href="unix_2_sys_file_8hpp.html#a419ed61c34fd6bce28216d2ece437ff4">RX_O_APPEND</a> | <a class="code" href="unix_2_sys_file_8hpp.html#abadee9ba9f8ead6311a61002ae6fc868">RX_O_CREAT</a>, <a class="code" href="unix_2_sys_file_8hpp.html#a0e4d18f8a0f213e2d8420dcb25b1f4a7">RX_S_IWRITE</a> | <a class="code" href="unix_2_sys_file_8hpp.html#a4c7585605dc0ab0ed2730a48d4e63f51">RX_S_IREAD</a>, <a class="code" href="unix_2_sys_file_8hpp.html#a58257d847f32cc235506950910167db1">RX_SH_DENYRW</a>))</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        {</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            context-&gt;InvalidRoutine();</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        outFile.<a class="code" href="class_sys_file.html#afbc58dba3f5409d7faa7ddfc2467a648">setStdOut</a>();</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160; </div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="comment">// get a snapshot of the variables</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <a class="code" href="rexx_8h.html#abf71fa7d361cee69069c4505bedcd394">RexxDirectoryObject</a> variables = context-&gt;GetAllContextVariables();</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="comment">// get a supplier for the variables</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="rexx_8h.html#abfc3d846f1c0b31e27c51931f73c7389">RexxSupplierObject</a> variableSupplier = (<a class="code" href="rexx_8h.html#abfc3d846f1c0b31e27c51931f73c7389">RexxSupplierObject</a>)context-&gt;SendMessage0(variables, <span class="stringliteral">&quot;SUPPLIER&quot;</span>);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keywordflow">while</span> (context-&gt;SupplierAvailable(variableSupplier))</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;        <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> variableName = context-&gt;SupplierIndex(variableSupplier);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a> name = context-&gt;ObjectToStringValue(variableName);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;        <span class="comment">// if the name ends in a period, this is a stem. We need to get the stem object</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        <span class="comment">// and iterate over the elements.</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">if</span> (name[strlen(name) - 1] == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <span class="comment">// get the stem value</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <a class="code" href="rexx_8h.html#af481dd711e94a4b9b636f922b8cfef5c">RexxStemObject</a> stem = (<a class="code" href="rexx_8h.html#af481dd711e94a4b9b636f922b8cfef5c">RexxStemObject</a>)context-&gt;SupplierItem(variableSupplier);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> stemValue = context-&gt;GetStemValue(stem);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            <span class="comment">// write out the stem name first</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;            <a class="code" href="_rexx_util_common_8cpp.html#a57bf374c652644ff757d3dbfb818463c">writeVariable</a>(outFile, context, name, stemValue);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            <span class="comment">// now iterate on the compound variables</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;            <a class="code" href="rexx_8h.html#abf71fa7d361cee69069c4505bedcd394">RexxDirectoryObject</a> compoundVariables = context-&gt;GetAllStemElements(stem);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            <span class="comment">// get a supplier for the variables</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <a class="code" href="rexx_8h.html#abfc3d846f1c0b31e27c51931f73c7389">RexxSupplierObject</a> compoundSupplier = (<a class="code" href="rexx_8h.html#abfc3d846f1c0b31e27c51931f73c7389">RexxSupplierObject</a>)context-&gt;SendMessage0(compoundVariables, <span class="stringliteral">&quot;SUPPLIER&quot;</span>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160; </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            <span class="comment">// now iterate over the compound elements</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <span class="keywordflow">while</span> (context-&gt;SupplierAvailable(compoundSupplier))</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                <a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a> tailName = (<a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a>)context-&gt;SupplierIndex(compoundSupplier);</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> compoundValue = context-&gt;SupplierItem(compoundSupplier);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                <a class="code" href="_rexx_util_common_8cpp.html#a57bf374c652644ff757d3dbfb818463c">writeVariable</a>(outFile, context, name, tailName, compoundValue);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                context-&gt;SupplierNext(compoundSupplier);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            <span class="comment">// release the stem object reference. Other references have already been released by</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            <span class="comment">// writeVariable</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            context-&gt;ReleaseLocalReference(stem);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <span class="comment">// a simple variable</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <span class="comment">// get the variable value</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> value = context-&gt;SupplierItem(variableSupplier);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            <span class="comment">// and write it out</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            <a class="code" href="_rexx_util_common_8cpp.html#a57bf374c652644ff757d3dbfb818463c">writeVariable</a>(outFile, context, name, value);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <span class="comment">// release the reference to the variable name</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        context-&gt;ReleaseLocalReference(variableName);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="comment">// step to the next variable</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        context-&gt;SupplierNext(variableSupplier);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    outFile.<a class="code" href="class_sys_file.html#a86c4fbec300dc5f68d7387e8621a6185">close</a>();</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;}</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment"> * Test if the file exists</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01602"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a11d4f664c306d005a970d7949d19ada7"> 1602</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<a class="code" href="rexx_8h.html#a6092009977837102d11ed4338f9e93b5">logical_t</a>, SysFileExists, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, name)</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;{</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> qualifiedName(context, name);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160; </div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_sys_file_system.html#afd5106b26c6a68d9a01e3ef101665221">SysFileSystem::exists</a>(qualifiedName);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;}</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160; </div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160; </div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment">* Function:  SysIsFileLink                                               *</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="comment">* Syntax:    call SysIsFileLink file                                     *</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">* Params:    file - file to check if it is a Link (Alias).               *</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">* Return:    Logical.                                                    *</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a5dbdc13b2f816b53fe9ac1a3ad5d0dd5"> 1620</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<a class="code" href="rexx_8h.html#a6092009977837102d11ed4338f9e93b5">logical_t</a>, SysIsFileLink, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, file)</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;{</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> qualifiedName(context, file);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160; </div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_sys_file_system.html#af53b0c972ca242b539bf359fc8376ecc">SysFileSystem::isLink</a>(qualifiedName);</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;}</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="comment">* Function:  SysIsFile                                                   *</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">* Syntax:    call SysFileExist file                                      *</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment">* Params:    file - file to check existance of.                          *</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">* Return:    true if this is a file object                               *</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a462a77d8d2290260d6a3703ca4629936"> 1637</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<a class="code" href="rexx_8h.html#a6092009977837102d11ed4338f9e93b5">logical_t</a>, SysIsFile, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, file)</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;{</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> qualifiedName(context, file);</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_sys_file_system.html#aff112763947c164692ad49653d124474">SysFileSystem::isFile</a>(qualifiedName);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;}</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160; </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="comment">* Function:  SysDirExist                                                 *</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">* Syntax:    call SysDirExist dir                                        *</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="comment">* Params:    dir - dir to check existance of.                            *</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="comment">* Return:    Logical.                                                    *</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01654"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a8a54d73d4dce7010e7fd4301c1172b9d"> 1654</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<a class="code" href="rexx_8h.html#a6092009977837102d11ed4338f9e93b5">logical_t</a>, SysIsFileDirectory, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, file)</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;{</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> qualifiedName(context, file);</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_sys_file_system.html#ab90abfbdd7dcdf622776e21f32371ba3">SysFileSystem::isDirectory</a>(qualifiedName);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;}</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="comment">* Function:  SysRmDir                                                    *</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="comment">* Syntax:    call SysRmDir dir                                           *</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment">* Params:    dir - Directory to be removed.                              *</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="comment">* Return:    NO_UTIL_ERROR                                               *</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01672"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a2ea66baea7b50eaccca1591604be3500"> 1672</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<span class="keywordtype">int</span>, SysRmDir, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, path)</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;{</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> qualifiedName(context, path);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_sys_file_system.html#adff4f5ceb67103485f03017d3b3b6bde">SysFileSystem::deleteDirectory</a>(qualifiedName);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;}</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="comment">* Function:  SysFileDelete                                               *</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="comment">* Syntax:    call SysFileDelete file                                     *</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="comment">* Params:    file - file to be deleted.                                  *</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="comment">* Return:    Return code from DosDelete() function.                      *</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; </div>
<div class="line"><a name="l01689"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a56e1d82c451c8b597e679d12fdc5aae0"> 1689</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<span class="keywordtype">int</span>, SysFileDelete, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, path)</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;{</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> qualifiedName(context, path);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_sys_file_system.html#ab79963d7b5c5239834cbc4813f8f6fd1">SysFileSystem::deleteFile</a>(qualifiedName);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;}</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="comment"> * SysFileSearch searches a file for lines containing needle.</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<span class="comment"> * @param needle  The string to search for.</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="comment"> * @param file    The name of the file to search.</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="comment"> * @param stem    The name of the stem variable that will receive each</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="comment"> *                file line containing needle.</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="comment"> * @param opts    A string of options.  A combination of the following chars:</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="comment"> *                &#39;C&#39; - Case-sensitive search (non-default)</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="comment"> *                &#39;I&#39; - Case-insensitive search (default)</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="comment"> *                &#39;N&#39; - Precede each found string in result stem</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="comment"> *                      with its line number in file (non-default)</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="comment"> * @return  0 on success, non-zero on error.</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="comment"> *         ERROR_FILEOPEN if file cannot be opened.</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="comment"> *         ERROR_NOMEM if not enough memory.</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a6f879be8d8cd99418322e5b2d70a6ee9"> 1714</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a6f879be8d8cd99418322e5b2d70a6ee9">RexxRoutine4</a>(<a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, SysFileSearch, <a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a>, needle, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, file, <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a>, stem, OPTIONAL_CSTRING, opts)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;{</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordtype">bool</span>        linenums = <span class="keyword">false</span>;        <span class="comment">// should line numbers be inclued in the output</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordtype">bool</span>        sensitive = <span class="keyword">false</span>;       <span class="comment">// how should searches be performed</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160; </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <span class="comment">// was the option specified?</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">if</span> (opts != NULL)</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; strlen(opts); i++)</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        {</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="class_utilities.html#a0b91888c4169ea518a78ba9de5393c7e">Utilities::toUpper</a>(opts[i]))</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;            {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>:</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                    linenums = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                }</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                {</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                    sensitive = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                {</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                    sensitive = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                }</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; </div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                    <span class="keywordtype">char</span> buf[256] = { 0 };</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                    snprintf(buf, <span class="keyword">sizeof</span>(buf),</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                             <span class="stringliteral">&quot;SysFileSearch options argument must be a combination of C, I, or N; found \&quot;%s\&quot;&quot;</span>,</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                             opts);</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160; </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                    context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#a4d878853d7bdfad5156aaecf60880798">Rexx_Error_Incorrect_call_user_defined</a>, context-&gt;String(buf));</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            }</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <a class="code" href="class_stem_handler.html">StemHandler</a> stemVariable(context, stem, 3);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <a class="code" href="class_line_reader.html">LineReader</a> fileSource;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> qualifiedName(context, file);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="comment">// if we can&#39;t open, return the error indicator</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">if</span> (!fileSource.<a class="code" href="class_line_reader.html#a951f0352f4b6a87dce61b7a794937af1">open</a>(qualifiedName))</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;    {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <span class="comment">// no items are returned</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_rexx_util_common_8hpp.html#afca154868d5055477f8ec8a5cc3eb1c1">ERROR_FILEOPEN</a>;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    }</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160; </div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keywordtype">size_t</span> lineLength;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160; </div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *needleString = context-&gt;StringData(needle);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordtype">size_t</span> needleLength = context-&gt;StringLength(needle);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160; </div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordtype">size_t</span> currentLine = 0;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="comment">// keep reading while we find lines</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keywordflow">while</span> (fileSource.<a class="code" href="class_line_reader.html#aff60a3885fbda72da16affe093492f80">getLine</a>(<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>, lineLength))</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        currentLine++;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *ptr = <a class="code" href="_rexx_util_common_8cpp.html#a05eee5051eca685fca0c44d2d1db7af0">mystrstr</a>(<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>, needleString, lineLength, needleLength, sensitive);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        <span class="keywordflow">if</span> (ptr != NULL)</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            <span class="keywordflow">if</span> (linenums)</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                <span class="keywordtype">char</span> lineNumber[32]; <span class="comment">// 64-bit numbers require 20 chars + blank + NUL</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                snprintf(lineNumber, <span class="keyword">sizeof</span>(lineNumber), <span class="stringliteral">&quot;%zu &quot;</span>, currentLine);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160; </div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                <span class="keywordtype">size_t</span> lineNumberLength = strlen(lineNumber);</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                <span class="keywordtype">size_t</span> totalLineSize = lineNumberLength + lineLength;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                <a class="code" href="class_auto_free.html">AutoFree</a> lineBuffer = (<span class="keywordtype">char</span> *)malloc(totalLineSize);</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                <span class="keywordflow">if</span> (lineBuffer == NULL)</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                {</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                    <span class="comment">// we still return the items we&#39;ve collected so far</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="unix_2_sys_rexx_util_8cpp.html#a6a24fbb8516a67c00ceb454e189be4ac">ERROR_NOMEM</a>;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                }</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160; </div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                <span class="comment">// now build the return value</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                memcpy((<span class="keywordtype">char</span> *)lineBuffer, lineNumber, lineNumberLength);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                memcpy((<span class="keywordtype">char</span> *)lineBuffer + lineNumberLength, <a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>, lineLength);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160; </div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                stemVariable.<a class="code" href="class_stem_handler.html#aec707e5f2b9b77459b58bfdca84a2d72">addValue</a>(lineBuffer, totalLineSize);</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            }</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            {</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                stemVariable.<a class="code" href="class_stem_handler.html#aec707e5f2b9b77459b58bfdca84a2d72">addValue</a>(<a class="code" href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a>, lineLength);</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        }</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160; </div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    fileSource.<a class="code" href="class_line_reader.html#a0b2fd102d2353a4aec981aff1cbb54c1">close</a>();</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160; </div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;0&quot;</span>; <span class="comment">// success</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;}</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160; </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160; </div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="comment">* Function:  SysSearchPath                                               *</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">* Syntax:    call SysSearchPath path, file [, options]                   *</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">* Params:    path - Environment variable name which specifies a path     *</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">*                    to be searched (ie &#39;PATH&#39;, &#39;DPATH&#39;, etc).           *</span></div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">*            file - The file to search for.                              *</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="comment">*            options -  &#39;C&#39; - Current directory search first (default).  *</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="comment">*                       &#39;N&#39; - No Current directory search. Only searches *</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="comment">*                             the path as specified.                     *</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="comment">* Return:    other  - Full path and filespec of found file.              *</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="comment">*            &#39;&#39;     - Specified file not found along path.               *</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a6e9d9f6cf44fff8f21338da3f1fe4250"> 1833</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#ac6fe7c5da90e2c4887fa2c8c7a887ab6">RexxRoutine3</a>(<a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a>, <a class="code" href="class_sys_search_path.html">SysSearchPath</a>, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, path, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, file, OPTIONAL_CSTRING, options)</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;{</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <a class="code" href="class_routine_file_name_buffer.html">RoutineFileNameBuffer</a> fullPath(context);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160; </div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordtype">char</span> opt = <span class="charliteral">&#39;C&#39;</span>; <span class="comment">// this is the default</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <span class="keywordflow">if</span> (options != NULL)</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    {</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        opt = <a class="code" href="class_utilities.html#a0b91888c4169ea518a78ba9de5393c7e">Utilities::toUpper</a>(options[0]);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <span class="keywordflow">if</span> (opt != <span class="charliteral">&#39;C&#39;</span> &amp;&amp; opt != <span class="charliteral">&#39;N&#39;</span>)</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            <a class="code" href="_rexx_util_common_8hpp.html#a1f0cf79aea937d49702908d656a54b9d">invalidOptionException</a>(context, <span class="stringliteral">&quot;SysSearchPath&quot;</span>, <span class="stringliteral">&quot;option&quot;</span>, <span class="stringliteral">&quot;&#39;C&#39; or &#39;N&#39;&quot;</span>, options);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        }</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    }</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="class_routine_file_name_buffer.html">RoutineFileNameBuffer</a> pathValue(context);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="comment">// get the name of the path variable</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <a class="code" href="class_system_interpreter.html#a76c0a3bc6ecf53d054da7a8533a29f96">SystemInterpreter::getEnvironmentVariable</a>(path, pathValue);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">if</span> (opt == <span class="charliteral">&#39;N&#39;</span>)</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    {</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        fullPath = pathValue;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    }</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="comment">// search current directory first. We construct the patch with the</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="comment">// current directory in front of the path.</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (opt == <span class="charliteral">&#39;C&#39;</span>)</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    {</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <a class="code" href="class_routine_file_name_buffer.html">RoutineFileNameBuffer</a> currentDir(context);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        <a class="code" href="class_sys_file_system.html#a5285362313e300248657f32b782bc316">SysFileSystem::getCurrentDirectory</a>(currentDir);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        <span class="comment">// place the current dir at the front</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        fullPath = currentDir;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        <span class="comment">// if we have a path, add it to the end</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;        <span class="keywordflow">if</span> (pathValue.<a class="code" href="class_file_name_buffer.html#a6716a194791392dd168bbc37566e652a">length</a>() &gt; 0)</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            fullPath += <a class="code" href="class_sys_file_system.html#a6a41c4b0c2ff04ba1478233d423d701b">SysFileSystem::getPathSeparator</a>();</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            fullPath += pathValue;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;        }</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    }</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160; </div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <a class="code" href="class_routine_file_name_buffer.html">RoutineFileNameBuffer</a> resolvedFile(context);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160; </div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="comment">// we can do this unconditionally since resolvedFile will be a null</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="comment">// string if not found, which is our error return value.</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <a class="code" href="class_sys_file_system.html#a956e05fb8ed5d9d54a3b800f77655d00">SysFileSystem::searchPath</a>(file, fullPath, resolvedFile);</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160; </div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordflow">return</span> context-&gt;NewStringFromAsciiz(resolvedFile);</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;}</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160; </div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="comment">* Function:  SysSleep                                                    *</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="comment">* Syntax:    call SysSleep secs                                          *</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="comment">* Params:    secs - Number of seconds to sleep.                          *</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">*                   must be in the range 0 .. 2147483                    *</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="comment">* Return:    0                                                           *</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#ac777649b37c1205edd2e46601c955958"> 1891</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a>(<span class="keywordtype">int</span>, SysSleep, <a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a>, delay)</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;{</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="comment">// it would be nice to pass this directly as a double, but if there is an error</span></div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="comment">// we need the original form to report the error.</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160; </div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="keywordtype">double</span> seconds;</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="comment">// try to convert the provided delay to a valid floating point number</span></div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">if</span> (context-&gt;ObjectToDouble(delay, &amp;seconds) == 0 ||</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        std::isnan(seconds) || seconds == HUGE_VAL || seconds == -HUGE_VAL)</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    {</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="comment">// 88.902 The &amp;1 argument must be a number; found &quot;&amp;2&quot;</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        context-&gt;RaiseException2(<a class="code" href="oorexxerrors_8h.html#ab090a8788190e809a21bf936a569fff7">Rexx_Error_Invalid_argument_number</a>, context-&gt;String(<span class="stringliteral">&quot;delay&quot;</span>), delay);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    }</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; </div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="comment">// there is a maximum delay that can be specifed of 0x7FFFFFF milliseconds</span></div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    <span class="comment">// according to MSDN the maximum is USER_TIMER_MAXIMUM (0x7FFFFFFF) milliseconds,</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="comment">// which translates to 2147483.647 seconds</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">if</span> (seconds &lt; 0.0 || seconds &gt; 2147483.0)</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    {</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        <span class="comment">// 88.907 The &amp;1 argument must be in the range &amp;2 to &amp;3; found &quot;&amp;4&quot;</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        context-&gt;RaiseException(<a class="code" href="oorexxerrors_8h.html#a2e34ba6b32f03ebefc4a415684900dce">Rexx_Error_Invalid_argument_range</a>,</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                                context-&gt;ArrayOfFour(context-&gt;String(<span class="stringliteral">&quot;delay&quot;</span>),</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                                                     context-&gt;String(<span class="stringliteral">&quot;0&quot;</span>), context-&gt;String(<span class="stringliteral">&quot;2147483&quot;</span>), delay));</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    }</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160; </div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="comment">// convert to microseconds, no overflow possible</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <a class="code" href="windows_2rexxapitypes_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> microseconds = (<a class="code" href="windows_2rexxapitypes_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>)(seconds * 1000000);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="comment">// go do the sleep</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_sys_thread.html#a4cc0b3e3ac6a8acc7bfd5ea3f94d3467">SysThread::longSleep</a>(microseconds);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;}</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160; </div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment">* Function:  SysFileCopy                                                 *</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment">* Syntax:    call SysFileCopy FROMfile TOfile                            *</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment">* Params:    FROMfile - file to be moved.                                *</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="comment">*            TOfile - target file of move operation.                     *</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="comment">* Return:    Return code from from the copy operation                    *</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a3750ebd278d5df66c32fc35d94a49bd9"> 1935</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#aef8f1711334e9b05c32ac00e45d77796">RexxRoutine2</a>(<span class="keywordtype">int</span>, SysFileCopy, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, from, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, to)</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;{</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> fromFile(context, from);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> toFile(context, to);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_sys_file_system.html#afdbfc64abd8f4454f11a7eb58dcd8f41">SysFileSystem::copyFile</a>(fromFile, toFile);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;}</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="comment">* Function:  SysFileMove                                                 *</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;<span class="comment">* Syntax:    call SysFileMove FROMfile TOfile                            *</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;<span class="comment">* Params:    FROMfile - file to be moved.                                *</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;<span class="comment">*            TOfile - target file of move operation.                     *</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="comment">* Return:    Return code from MoveFile() function.                       *</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01954"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a81a4190944aa905c83b13110103ddefc"> 1954</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#aef8f1711334e9b05c32ac00e45d77796">RexxRoutine2</a>(<span class="keywordtype">int</span>, SysFileMove, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, from, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, to)</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;{</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> fromFile(context, from);</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <a class="code" href="class_routine_qualified_name.html">RoutineQualifiedName</a> toFile(context, to);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_sys_file_system.html#a0e218432286a21e48a9fbeed655e5cee">SysFileSystem::moveFile</a>(fromFile, toFile);</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;}</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160; </div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="comment">* Function:  SysTempFileName                                             *</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="comment">* Syntax:    call SysTempFileName template [,filler]                     *</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="comment">* Params:    template - Description of filespec desired.  For example:   *</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="comment">*                        C:\TEMP\FILE.???                                *</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="comment">*            filler   - A character which when found in template will be *</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;<span class="comment">*                        replaced with random digits until a unique file *</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="comment">*                        or directory is found.  The default character   *</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;<span class="comment">*                        is &#39;?&#39;.                                         *</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="comment">* Return:    other - Unique file/directory name.                         *</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="comment">*            &#39;&#39;    - No more files exist given specified template.       *</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#ab39a3a215c6e47c596825b964f2f3bff"> 1978</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#aef8f1711334e9b05c32ac00e45d77796">RexxRoutine2</a>(<a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a>, SysTempFileName, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, fileTemplate, OPTIONAL_CSTRING, fillerOpt)</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;{</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordtype">char</span> filler = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160; </div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <span class="keywordflow">if</span> (fillerOpt != NULL)</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;        <span class="keywordflow">if</span> (strlen(fillerOpt) != 1)</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            <a class="code" href="rexx_8h.html#a67754d7374685ba954286d7268debd80">RexxArrayObject</a> subs = context-&gt;NewArray(3);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            context-&gt;ArrayAppendString(subs, <span class="stringliteral">&quot;SysTempFileName&quot;</span>, strlen(<span class="stringliteral">&quot;SysTempFileName&quot;</span>));</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            context-&gt;ArrayAppendString(subs, <span class="stringliteral">&quot;filler&quot;</span>, strlen(<span class="stringliteral">&quot;filler&quot;</span>));</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            context-&gt;ArrayAppendString(subs, fillerOpt, strlen(fillerOpt));</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160; </div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;            context-&gt;ThrowException(<a class="code" href="oorexxerrors_8h.html#a2f4267fe115c8b5cbdce8803483e6cd7">Rexx_Error_Incorrect_call_pad</a>, subs);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        }</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        filler = fillerOpt[0];</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160; </div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <a class="code" href="class_routine_file_name_buffer.html">RoutineFileNameBuffer</a> fileName(context);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <a class="code" href="_rexx_util_common_8cpp.html#a88166d58c8f80bb4a08f29520737ccf3">getUniqueFileName</a>(fileTemplate, filler, fileName);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160; </div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <span class="keywordflow">return</span> context-&gt;NewStringFromAsciiz(fileName);</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160; </div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;<span class="comment"> * Format a message using passed in arguments.</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;<span class="comment"> * @param context The call context.</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;<span class="comment"> * @param message The message test</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="comment"> * @param args    The array of arguments to the function.</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;<span class="comment"> * @param firstSubstitution</span></div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;<span class="comment"> *                The first substitution argument in the array.</span></div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<span class="comment"> * @return The formated test as a Rexx String object.</span></div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"><a class="line" href="_rexx_util_common_8hpp.html#a09190d1437a363d7b59a07c9092cb85d"> 2014</a></span>&#160;<a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a> <a class="code" href="_rexx_util_common_8cpp.html#a09190d1437a363d7b59a07c9092cb85d">formatMessage</a>(<a class="code" href="struct_rexx_call_context__.html">RexxCallContext</a> *context, <span class="keyword">const</span> <span class="keywordtype">char</span> *message, <a class="code" href="rexx_8h.html#a67754d7374685ba954286d7268debd80">RexxArrayObject</a> args, <span class="keywordtype">size_t</span> firstSubstitution)</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;{</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordtype">size_t</span> numargs = context-&gt;ArraySize(args);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160; </div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <span class="keywordtype">size_t</span> subcount = numargs &gt;= firstSubstitution ? numargs - firstSubstitution + 1 : 0;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160; </div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="comment">// we only support 9 substitution values</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">if</span> (subcount &gt; 9)</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;        context-&gt;ThrowException1(<a class="code" href="oorexxerrors_8h.html#ad686451d95a5178ba526977431086e8d">Rexx_Error_Incorrect_call_external</a>, context-&gt;String(<span class="stringliteral">&quot;SysFormatMessage&quot;</span>));</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    }</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160; </div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="comment">// array of string values</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *substitutions[9];</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="keywordtype">size_t</span> msg_length = 0;               <span class="comment">// length of the return msg</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160; </div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <span class="comment">// get the string value for each of the substitutions</span></div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = firstSubstitution; i &lt;= numargs; i++)</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    {</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        <span class="comment">// get each of the argument objects as a string value.</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        <span class="comment">// omitted arguments are not permitted.</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        <a class="code" href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a> o = context-&gt;ArrayAt(args, i);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        <span class="keywordflow">if</span> (o == <a class="code" href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a>)</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        {</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;            <span class="comment">// use a null string for any omitted ones</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;            substitutions[i - firstSubstitution] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        }</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;            substitutions[i - firstSubstitution] = context-&gt;ObjectToStringValue(o);</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        }</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    }</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160; </div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="comment">// now scan the message calculating the size of the final message</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordtype">size_t</span> messageLength = strlen(message);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160; </div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="comment">// scan for the substitutions and figure out how much is added</span></div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *temp = message;</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordflow">while</span> ((temp = strstr(temp, <span class="stringliteral">&quot;&amp;&quot;</span>)))</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    {</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        <span class="keywordtype">char</span> sub = *(temp + 1);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <span class="keywordflow">if</span> (sub &gt;= <span class="charliteral">&#39;1&#39;</span> &amp;&amp; sub &lt;= <span class="charliteral">&#39;9&#39;</span>)</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;        {</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;            <span class="keywordtype">size_t</span> subPosition = (size_t)(sub - <span class="charliteral">&#39;1&#39;</span>);</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;            <span class="comment">// if we have a substitution value for this, use the</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            <span class="comment">// real length</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;            <span class="keywordflow">if</span> (subPosition &lt; subcount)</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;            {</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;                messageLength += strlen(substitutions[subPosition]);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;            }</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;            <span class="comment">// subtract out the substitution characters from the length</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            messageLength -= 2;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            temp += 2;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;            <span class="comment">// just step over the character</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            temp++;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        }</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    }</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160; </div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="comment">// now we know how long the final message is going to be, we can</span></div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="comment">// get a raw string object and fill it in.</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <a class="code" href="rexx_8h.html#a7b083927909eb2c01187f82602161d11">RexxBufferStringObject</a> result = context-&gt;NewBufferString(messageLength);</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160; </div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    <span class="keywordtype">char</span> *resultBuffer = (<span class="keywordtype">char</span> *)context-&gt;BufferStringData(result);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160; </div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *start = message;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    temp = start;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160; </div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="comment">// now go and make the substitutions</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <span class="keywordflow">while</span> ((temp = strstr(temp, <span class="stringliteral">&quot;&amp;&quot;</span>)))</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    {</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordtype">char</span> sub = *(temp + 1);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        <span class="keywordflow">if</span> (sub &gt;= <span class="charliteral">&#39;1&#39;</span> &amp;&amp; sub &lt;= <span class="charliteral">&#39;9&#39;</span>)</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            <span class="keywordtype">size_t</span> subPosition = (size_t)(sub - <span class="charliteral">&#39;1&#39;</span>);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;            <span class="comment">// copy the next section of message text</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            <span class="keywordtype">size_t</span> leadSize = temp - start;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;            <span class="keywordflow">if</span> (leadSize &gt; 0)</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;            {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                memcpy(resultBuffer, start, leadSize);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                resultBuffer += leadSize;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;            }</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;            <span class="comment">// if we have a substitution value for this, use the</span></div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;            <span class="comment">// real length</span></div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;            <span class="keywordflow">if</span> (subPosition &lt; subcount)</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;            {</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                <span class="keywordtype">size_t</span> sublen = strlen(substitutions[subPosition]);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;                memcpy(resultBuffer, substitutions[subPosition], sublen);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;                resultBuffer += sublen;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;            }</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            <span class="comment">// subtract out the substitution characters from the length</span></div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            start = temp + 2;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            temp = start;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        }</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        {</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            <span class="comment">// just step over the character</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            temp++;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        }</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    }</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    <span class="comment">// handle any trailing message part</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="keywordtype">size_t</span> tailLength = strlen(message) - (start - message);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="keywordflow">if</span> (tailLength &gt; 0)</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    {</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        memcpy(resultBuffer, start, tailLength);</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    }</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160; </div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">return</span> context-&gt;FinishBufferString(result, messageLength);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;}</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160; </div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160; </div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;<span class="comment">/*************************************************************************</span></div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="comment">* Function:  SysFormatMessage                                            *</span></div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="comment">* Syntax:    SysFormatMessage(message, subs)                             *</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="comment">* Params:    message        - String error message with insertion        *</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<span class="comment">*                             indicators.                                *</span></div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<span class="comment">*            substitutions  - An array of insertion strings.  For        *</span></div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;<span class="comment">*                             messages containing &amp;1, &amp;2, .., any given  *</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="comment">*                             substitutions[] strings will be inserted.  *</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;<span class="comment">*                                                                        *</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;<span class="comment">* Return:    The message with the inserted strings (if given).           *</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="comment">*************************************************************************/</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#acc8f2bfe41641cc46a8cc3d4b5b60202"> 2142</a></span>&#160;<a class="code" href="_rexx_util_common_8cpp.html#aef8f1711334e9b05c32ac00e45d77796">RexxRoutine2</a>(<a class="code" href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a>, SysFormatMessage, <a class="code" href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a>, message, <a class="code" href="rexx_8h.html#a67754d7374685ba954286d7268debd80">RexxArrayObject</a>, substitutions)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;{</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_rexx_util_common_8cpp.html#a09190d1437a363d7b59a07c9092cb85d">formatMessage</a>(context, message, substitutions, 1);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;}</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160; </div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160; </div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;<span class="preprocessor">#define INTERNAL_ROUTINE(name, entry) REXX_TYPED_ROUTINE_PROTOTYPE(entry)</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160; </div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;<span class="preprocessor">#include &quot;SysRexxUtilFunctions.h&quot;</span>          <span class="comment">// generate prototypes for the system functions.</span></div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160; </div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;<span class="comment">// now redefine to generate the table entries</span></div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;<span class="preprocessor">#undef  INTERNAL_ROUTINE</span></div>
<div class="line"><a name="l02154"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#aedd3db7756cd9b04516da2d87c8835cc"> 2154</a></span>&#160;<span class="preprocessor">#define INTERNAL_ROUTINE(name, entry) REXX_TYPED_ROUTINE(name, entry),</span></div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160; </div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160; </div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;<span class="comment">// now build the actual entry list</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a55bdc28f497f01e1b6f78aa67cf02578"> 2158</a></span>&#160;<a class="code" href="struct___rexx_routine_entry.html">RexxRoutineEntry</a> <a class="code" href="_rexx_util_common_8cpp.html#a55bdc28f497f01e1b6f78aa67cf02578">rexxutil_routines</a>[] =</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;{</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysFileTree,            SysFileTree),</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysUtilVersion,         SysUtilVersion),</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysAddRexxMacro,        SysAddRexxMacro),</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysDropRexxMacro,       SysDropRexxMacro),</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysReorderRexxMacro,    SysReorderRexxMacro),</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysQueryRexxMacro,      SysQueryRexxMacro),</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysClearRexxMacroSpace, SysClearRexxMacroSpace),</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysLoadRexxMacroSpace,  SysLoadRexxMacroSpace),</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysSaveRexxMacroSpace,  SysSaveRexxMacroSpace),</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysDropFuncs,           SysDropFuncs),</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysLoadFuncs,           SysLoadFuncs),</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysDumpVariables,       SysDumpVariables),</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysStemSort,            SysStemSort),</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysStemDelete,          SysStemDelete),</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysStemInsert,          SysStemInsert),</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysStemCopy,            SysStemCopy),</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysUtilVersion,         SysUtilVersion),</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysFileExists,          SysFileExists),</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysIsFileLink,          SysIsFileLink),</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysIsFile,              SysIsFile),</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysIsFileDirectory,     SysIsFileDirectory),</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysRmDir,               SysRmDir),</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysFileDelete,          SysFileDelete),</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysFileSearch,          SysFileSearch),</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(<a class="code" href="class_sys_search_path.html">SysSearchPath</a>,          <a class="code" href="class_sys_search_path.html">SysSearchPath</a>),</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysSleep,               SysSleep),</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysFileMove,            SysFileMove),</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysFileCopy,            SysFileCopy),</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysTempFileName,        SysTempFileName),</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <a class="code" href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a>(SysFormatMessage,       SysFormatMessage),</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;<span class="preprocessor">#include &quot;SysRexxUtilFunctions.h&quot;</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <a class="code" href="oorexxapi_8h.html#aa3968b4fd4978493411036d07050237d">REXX_LAST_ROUTINE</a>()</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;};</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160; </div>
<div class="line"><a name="l02194"></a><span class="lineno"><a class="line" href="_rexx_util_common_8cpp.html#a190441ab7cc17bc681ac6ec286e20974"> 2194</a></span>&#160;<a class="code" href="struct___rexx_package_entry.html">RexxPackageEntry</a> <a class="code" href="_rexx_util_common_8cpp.html#a190441ab7cc17bc681ac6ec286e20974">rexxutil_package_entry</a> =</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;{</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    <a class="code" href="oorexxapi_8h.html#ad0c9dd799a5ddb561472ac8968ea3705">STANDARD_PACKAGE_HEADER</a></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <a class="code" href="oorexxapi_8h.html#a2fdcd4caf670858f48646a72cde7e620">REXX_INTERPRETER_4_0_0</a>,              <span class="comment">// anything after 4.0.0 will work</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    <span class="stringliteral">&quot;REXXUTIL&quot;</span>,                          <span class="comment">// name of the package</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;    <span class="stringliteral">&quot;5.0.0&quot;</span>,                             <span class="comment">// package information</span></div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    NULL,                                <span class="comment">// no load/unload functions</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    NULL,</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    <a class="code" href="_rexx_util_common_8cpp.html#a55bdc28f497f01e1b6f78aa67cf02578">rexxutil_routines</a>,                   <span class="comment">// the exported functions</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    NULL                                 <span class="comment">// no methods in this package</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;};</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160; </div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="comment">// and finally plug this in to the package manager.</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<a class="code" href="struct___rexx_package_entry.html">RexxPackageEntry</a> *<a class="code" href="class_package_manager.html#a3dd50298cc0bb32a1b286805c7b093a3">PackageManager::rexxutilPackage</a> = &amp;<a class="code" href="_rexx_util_common_8cpp.html#a190441ab7cc17bc681ac6ec286e20974">rexxutil_package_entry</a>;</div>
<div class="ttc" id="a_external_file_buffer_8hpp_html"><div class="ttname"><a href="_external_file_buffer_8hpp.html">ExternalFileBuffer.hpp</a></div></div>
<div class="ttc" id="a_interpreter_a_p_i_8cpp_html_ad038cdbe4ed8feeacb2f96dcdb23ceba"><div class="ttname"><a href="_interpreter_a_p_i_8cpp.html#ad038cdbe4ed8feeacb2f96dcdb23ceba">RexxStemSort</a></div><div class="ttdeci">RexxReturnCode RexxEntry RexxStemSort(RexxStemObject stem, const char *tailExtension, int order, int type, wholenumber_t start, wholenumber_t end, wholenumber_t firstcol, wholenumber_t lastcol)</div><div class="ttdef"><b>Definition:</b> <a href="_interpreter_a_p_i_8cpp_source.html#l00428">InterpreterAPI.cpp:428</a></div></div>
<div class="ttc" id="a_numerics_8hpp_html"><div class="ttname"><a href="_numerics_8hpp.html">Numerics.hpp</a></div></div>
<div class="ttc" id="a_package_manager_8hpp_html"><div class="ttname"><a href="_package_manager_8hpp.html">PackageManager.hpp</a></div></div>
<div class="ttc" id="a_rexx_internal_apis_8h_html"><div class="ttname"><a href="_rexx_internal_apis_8h.html">RexxInternalApis.h</a></div></div>
<div class="ttc" id="a_rexx_internal_apis_8h_html_a81da4fa77ffcb61150943958eea47cd1"><div class="ttname"><a href="_rexx_internal_apis_8h.html#a81da4fa77ffcb61150943958eea47cd1">SORT_ASCENDING</a></div><div class="ttdeci">#define SORT_ASCENDING</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_internal_apis_8h_source.html#l00050">RexxInternalApis.h:50</a></div></div>
<div class="ttc" id="a_rexx_internal_apis_8h_html_a8d2fa71ddc3683adb805fa0a0680731d"><div class="ttname"><a href="_rexx_internal_apis_8h.html#a8d2fa71ddc3683adb805fa0a0680731d">SORT_CASEIGNORE</a></div><div class="ttdeci">#define SORT_CASEIGNORE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_internal_apis_8h_source.html#l00048">RexxInternalApis.h:48</a></div></div>
<div class="ttc" id="a_rexx_internal_apis_8h_html_aa34ca575266a3f4b79b915c067dc275e"><div class="ttname"><a href="_rexx_internal_apis_8h.html#aa34ca575266a3f4b79b915c067dc275e">SORT_CASESENSITIVE</a></div><div class="ttdeci">#define SORT_CASESENSITIVE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_internal_apis_8h_source.html#l00047">RexxInternalApis.h:47</a></div></div>
<div class="ttc" id="a_rexx_internal_apis_8h_html_acda2338325b3044d2e9cae8c83de6a8b"><div class="ttname"><a href="_rexx_internal_apis_8h.html#acda2338325b3044d2e9cae8c83de6a8b">SORT_DECENDING</a></div><div class="ttdeci">#define SORT_DECENDING</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_internal_apis_8h_source.html#l00051">RexxInternalApis.h:51</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a05eee5051eca685fca0c44d2d1db7af0"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a05eee5051eca685fca0c44d2d1db7af0">mystrstr</a></div><div class="ttdeci">const char * mystrstr(const char *haystack, const char *needle, size_t hlen, size_t nlen, bool sensitive)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00767">RexxUtilCommon.cpp:767</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a09190d1437a363d7b59a07c9092cb85d"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a09190d1437a363d7b59a07c9092cb85d">formatMessage</a></div><div class="ttdeci">RexxStringObject formatMessage(RexxCallContext *context, const char *message, RexxArrayObject args, size_t firstSubstitution)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l02014">RexxUtilCommon.cpp:2014</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a190441ab7cc17bc681ac6ec286e20974"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a190441ab7cc17bc681ac6ec286e20974">rexxutil_package_entry</a></div><div class="ttdeci">RexxPackageEntry rexxutil_package_entry</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l02194">RexxUtilCommon.cpp:2194</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a1a3fdc0cccced5cf032808ba916a327f"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a1a3fdc0cccced5cf032808ba916a327f">RexxRoutine1</a></div><div class="ttdeci">RexxRoutine1(int, SysDropRexxMacro, CSTRING, name)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00939">RexxUtilCommon.cpp:939</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a3ac0b580f43253ed127cc28cb4b841df"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a3ac0b580f43253ed127cc28cb4b841df">RexxRoutine5</a></div><div class="ttdeci">RexxRoutine5(uint32_t, SysFileTree, CSTRING, fileSpec, RexxObjectPtr, files, OPTIONAL_CSTRING, opts, OPTIONAL_CSTRING, targetAttr, OPTIONAL_CSTRING, newAttr)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00287">RexxUtilCommon.cpp:287</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a4e04a6b53fb8d5a5df1a5f23e5ba012c"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a4e04a6b53fb8d5a5df1a5f23e5ba012c">RexxRoutine6</a></div><div class="ttdeci">RexxRoutine6(int, SysStemCopy, RexxStemObject, fromStem, RexxStemObject, toStem, OPTIONAL_positive_wholenumber_t, from, OPTIONAL_positive_wholenumber_t, to, OPTIONAL_nonnegative_wholenumber_t, count, OPTIONAL_CSTRING, option)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l01303">RexxUtilCommon.cpp:1303</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a55bdc28f497f01e1b6f78aa67cf02578"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a55bdc28f497f01e1b6f78aa67cf02578">rexxutil_routines</a></div><div class="ttdeci">RexxRoutineEntry rexxutil_routines[]</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l02158">RexxUtilCommon.cpp:2158</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a57bf374c652644ff757d3dbfb818463c"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a57bf374c652644ff757d3dbfb818463c">writeVariable</a></div><div class="ttdeci">void writeVariable(SysFile &amp;file, RexxCallContext *context, const char *name, RexxObjectPtr value)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l01445">RexxUtilCommon.cpp:1445</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a6f879be8d8cd99418322e5b2d70a6ee9"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a6f879be8d8cd99418322e5b2d70a6ee9">RexxRoutine4</a></div><div class="ttdeci">RexxRoutine4(CSTRING, SysFileSearch, RexxStringObject, needle, CSTRING, file, RexxObjectPtr, stem, OPTIONAL_CSTRING, opts)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l01714">RexxUtilCommon.cpp:1714</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a8515673dd759551ac65022c5a3b0f16e"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a8515673dd759551ac65022c5a3b0f16e">RexxRoutine0</a></div><div class="ttdeci">RexxRoutine0(int, SysDropFuncs)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00831">RexxUtilCommon.cpp:831</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_a88166d58c8f80bb4a08f29520737ccf3"><div class="ttname"><a href="_rexx_util_common_8cpp.html#a88166d58c8f80bb4a08f29520737ccf3">getUniqueFileName</a></div><div class="ttdeci">void getUniqueFileName(const char *fileTemplate, char filler, FileNameBuffer &amp;file)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00167">RexxUtilCommon.cpp:167</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_ac662d137bdba62c6e02b86ad3b5e4162"><div class="ttname"><a href="_rexx_util_common_8cpp.html#ac662d137bdba62c6e02b86ad3b5e4162">INVALID_FILE_NAME</a></div><div class="ttdeci">const int INVALID_FILE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00062">RexxUtilCommon.cpp:62</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_ac6fe7c5da90e2c4887fa2c8c7a887ab6"><div class="ttname"><a href="_rexx_util_common_8cpp.html#ac6fe7c5da90e2c4887fa2c8c7a887ab6">RexxRoutine3</a></div><div class="ttdeci">RexxRoutine3(int, SysAddRexxMacro, CSTRING, name, CSTRING, file, OPTIONAL_CSTRING, option)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00866">RexxUtilCommon.cpp:866</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_ad740e30caf8b09c306c19e472acbc3b7"><div class="ttname"><a href="_rexx_util_common_8cpp.html#ad740e30caf8b09c306c19e472acbc3b7">RexxRoutine7</a></div><div class="ttdeci">RexxRoutine7(int, SysStemSort, RexxObjectPtr, stemArgument, OPTIONAL_CSTRING, order, OPTIONAL_CSTRING, type, OPTIONAL_positive_wholenumber_t, first, OPTIONAL_positive_wholenumber_t, last, OPTIONAL_positive_wholenumber_t, firstCol, OPTIONAL_positive_wholenumber_t, lastCol)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l01037">RexxUtilCommon.cpp:1037</a></div></div>
<div class="ttc" id="a_rexx_util_common_8cpp_html_aef8f1711334e9b05c32ac00e45d77796"><div class="ttname"><a href="_rexx_util_common_8cpp.html#aef8f1711334e9b05c32ac00e45d77796">RexxRoutine2</a></div><div class="ttdeci">RexxRoutine2(int, SysReorderRexxMacro, CSTRING, name, CSTRING, option)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00906">RexxUtilCommon.cpp:906</a></div></div>
<div class="ttc" id="a_rexx_util_common_8hpp_html"><div class="ttname"><a href="_rexx_util_common_8hpp.html">RexxUtilCommon.hpp</a></div></div>
<div class="ttc" id="a_rexx_util_common_8hpp_html_a1f0cf79aea937d49702908d656a54b9d"><div class="ttname"><a href="_rexx_util_common_8hpp.html#a1f0cf79aea937d49702908d656a54b9d">invalidOptionException</a></div><div class="ttdeci">void invalidOptionException(RexxCallContext *c, const char *fName, const char *aName, const char *options, const char *actual)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00104">RexxUtilCommon.hpp:104</a></div></div>
<div class="ttc" id="a_rexx_util_common_8hpp_html_a67c454aa388823710a16e3c867ebe2ee"><div class="ttname"><a href="_rexx_util_common_8hpp.html#a67c454aa388823710a16e3c867ebe2ee">nullStringException</a></div><div class="ttdeci">void nullStringException(RexxCallContext *c, const char *fName, size_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00089">RexxUtilCommon.hpp:89</a></div></div>
<div class="ttc" id="a_rexx_util_common_8hpp_html_a88b7dbca5f06adeda09269e94d47f52e"><div class="ttname"><a href="_rexx_util_common_8hpp.html#a88b7dbca5f06adeda09269e94d47f52e">relativeOptionException</a></div><div class="ttdeci">void relativeOptionException(RexxCallContext *c, const char *arg1, size_t value1, const char *arg2, size_t value2)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00139">RexxUtilCommon.hpp:139</a></div></div>
<div class="ttc" id="a_rexx_util_common_8hpp_html_adf61eb23066c6a7ac03170235b2021b7"><div class="ttname"><a href="_rexx_util_common_8hpp.html#adf61eb23066c6a7ac03170235b2021b7">unsetStemException</a></div><div class="ttdeci">void unsetStemException(RexxCallContext *c)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00156">RexxUtilCommon.hpp:156</a></div></div>
<div class="ttc" id="a_rexx_util_common_8hpp_html_afca154868d5055477f8ec8a5cc3eb1c1"><div class="ttname"><a href="_rexx_util_common_8hpp.html#afca154868d5055477f8ec8a5cc3eb1c1">ERROR_FILEOPEN</a></div><div class="ttdeci">#define ERROR_FILEOPEN</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00051">RexxUtilCommon.hpp:51</a></div></div>
<div class="ttc" id="a_utilities_8hpp_html"><div class="ttname"><a href="_utilities_8hpp.html">Utilities.hpp</a></div></div>
<div class="ttc" id="aclass_auto_free_html"><div class="ttname"><a href="class_auto_free.html">AutoFree</a></div><div class="ttdef"><b>Definition:</b> <a href="_utilities_8hpp_source.html#l00068">Utilities.hpp:69</a></div></div>
<div class="ttc" id="aclass_auto_free_html_af59ae599c5fc6e07e0739b7a28fec85a"><div class="ttname"><a href="class_auto_free.html#af59ae599c5fc6e07e0739b7a28fec85a">AutoFree::realloc</a></div><div class="ttdeci">bool realloc(size_t newLen)</div><div class="ttdef"><b>Definition:</b> <a href="_utilities_8hpp_source.html#l00093">Utilities.hpp:93</a></div></div>
<div class="ttc" id="aclass_file_name_buffer_html"><div class="ttname"><a href="class_file_name_buffer.html">FileNameBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="_file_name_buffer_8hpp_source.html#l00052">FileNameBuffer.hpp:53</a></div></div>
<div class="ttc" id="aclass_file_name_buffer_html_a0a3478046331fad9da2545fef68ee0f2"><div class="ttname"><a href="class_file_name_buffer.html#a0a3478046331fad9da2545fef68ee0f2">FileNameBuffer::truncate</a></div><div class="ttdeci">void truncate(size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_file_name_buffer_8hpp_source.html#l00104">FileNameBuffer.hpp:104</a></div></div>
<div class="ttc" id="aclass_file_name_buffer_html_a6491632e5158b477d0a09997dd208aae"><div class="ttname"><a href="class_file_name_buffer.html#a6491632e5158b477d0a09997dd208aae">FileNameBuffer::endsWith</a></div><div class="ttdeci">bool endsWith(char c)</div><div class="ttdef"><b>Definition:</b> <a href="_file_name_buffer_8hpp_source.html#l00230">FileNameBuffer.hpp:230</a></div></div>
<div class="ttc" id="aclass_file_name_buffer_html_a6716a194791392dd168bbc37566e652a"><div class="ttname"><a href="class_file_name_buffer.html#a6716a194791392dd168bbc37566e652a">FileNameBuffer::length</a></div><div class="ttdeci">size_t length()</div><div class="ttdef"><b>Definition:</b> <a href="_file_name_buffer_8hpp_source.html#l00071">FileNameBuffer.hpp:71</a></div></div>
<div class="ttc" id="aclass_file_name_buffer_html_a914cfc5e0ca08b748eeb7a72ed774860"><div class="ttname"><a href="class_file_name_buffer.html#a914cfc5e0ca08b748eeb7a72ed774860">FileNameBuffer::set</a></div><div class="ttdeci">FileNameBuffer &amp; set(const char *s, size_t l)</div><div class="ttdef"><b>Definition:</b> <a href="_file_name_buffer_8hpp_source.html#l00177">FileNameBuffer.hpp:177</a></div></div>
<div class="ttc" id="aclass_file_name_buffer_html_ad5f40320218a98a58bd54e54f78dc609"><div class="ttname"><a href="class_file_name_buffer.html#ad5f40320218a98a58bd54e54f78dc609">FileNameBuffer::addFinalPathDelimiter</a></div><div class="ttdeci">void addFinalPathDelimiter()</div><div class="ttdef"><b>Definition:</b> <a href="_file_name_buffer_8hpp_source.html#l00262">FileNameBuffer.hpp:262</a></div></div>
<div class="ttc" id="aclass_line_reader_html"><div class="ttname"><a href="class_line_reader.html">LineReader</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00069">RexxUtilCommon.cpp:70</a></div></div>
<div class="ttc" id="aclass_line_reader_html_a0b2fd102d2353a4aec981aff1cbb54c1"><div class="ttname"><a href="class_line_reader.html#a0b2fd102d2353a4aec981aff1cbb54c1">LineReader::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00146">RexxUtilCommon.cpp:146</a></div></div>
<div class="ttc" id="aclass_line_reader_html_a15eea203b011bb0baadd7b9e1345d8ca"><div class="ttname"><a href="class_line_reader.html#a15eea203b011bb0baadd7b9e1345d8ca">LineReader::file</a></div><div class="ttdeci">SysFile file</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00160">RexxUtilCommon.cpp:160</a></div></div>
<div class="ttc" id="aclass_line_reader_html_a23222ad2ee4bd560f85f0c1c27051feb"><div class="ttname"><a href="class_line_reader.html#a23222ad2ee4bd560f85f0c1c27051feb">LineReader::~LineReader</a></div><div class="ttdeci">~LineReader()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00074">RexxUtilCommon.cpp:74</a></div></div>
<div class="ttc" id="aclass_line_reader_html_a2d946e621ca3ee50864a4e72792597c6"><div class="ttname"><a href="class_line_reader.html#a2d946e621ca3ee50864a4e72792597c6">LineReader::buffer</a></div><div class="ttdeci">AutoFree buffer</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00158">RexxUtilCommon.cpp:158</a></div></div>
<div class="ttc" id="aclass_line_reader_html_a383ccb269e65e0eab639d811583c4e63"><div class="ttname"><a href="class_line_reader.html#a383ccb269e65e0eab639d811583c4e63">LineReader::BufferExpansionSize</a></div><div class="ttdeci">const size_t BufferExpansionSize</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00156">RexxUtilCommon.cpp:156</a></div></div>
<div class="ttc" id="aclass_line_reader_html_a3c69034bb8ce0f94b7e5725c76a0244a"><div class="ttname"><a href="class_line_reader.html#a3c69034bb8ce0f94b7e5725c76a0244a">LineReader::LineReader</a></div><div class="ttdeci">LineReader()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00072">RexxUtilCommon.cpp:72</a></div></div>
<div class="ttc" id="aclass_line_reader_html_a488e38e9fb2183ffd3d60475a5c25971"><div class="ttname"><a href="class_line_reader.html#a488e38e9fb2183ffd3d60475a5c25971">LineReader::bufferSize</a></div><div class="ttdeci">size_t bufferSize</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00159">RexxUtilCommon.cpp:159</a></div></div>
<div class="ttc" id="aclass_line_reader_html_a951f0352f4b6a87dce61b7a794937af1"><div class="ttname"><a href="class_line_reader.html#a951f0352f4b6a87dce61b7a794937af1">LineReader::open</a></div><div class="ttdeci">bool open(const char *fileName)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00086">RexxUtilCommon.cpp:86</a></div></div>
<div class="ttc" id="aclass_line_reader_html_ae80432f6b25905845ed106d2926e56da"><div class="ttname"><a href="class_line_reader.html#ae80432f6b25905845ed106d2926e56da">LineReader::InitialBufferSize</a></div><div class="ttdeci">const size_t InitialBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00154">RexxUtilCommon.cpp:154</a></div></div>
<div class="ttc" id="aclass_line_reader_html_aff60a3885fbda72da16affe093492f80"><div class="ttname"><a href="class_line_reader.html#aff60a3885fbda72da16affe093492f80">LineReader::getLine</a></div><div class="ttdeci">bool getLine(const char *&amp;line, size_t &amp;size)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00105">RexxUtilCommon.cpp:105</a></div></div>
<div class="ttc" id="aclass_numerics_html_a41b8bad5e3cb91973bb6143388c98d3c"><div class="ttname"><a href="class_numerics.html#a41b8bad5e3cb91973bb6143388c98d3c">Numerics::MAX_WHOLENUMBER</a></div><div class="ttdeci">static const wholenumber_t MAX_WHOLENUMBER</div><div class="ttdef"><b>Definition:</b> <a href="_numerics_8hpp_source.html#l00094">Numerics.hpp:94</a></div></div>
<div class="ttc" id="aclass_package_manager_html_a3dd50298cc0bb32a1b286805c7b093a3"><div class="ttname"><a href="class_package_manager.html#a3dd50298cc0bb32a1b286805c7b093a3">PackageManager::rexxutilPackage</a></div><div class="ttdeci">static RexxPackageEntry * rexxutilPackage</div><div class="ttdef"><b>Definition:</b> <a href="_package_manager_8hpp_source.html#l00125">PackageManager.hpp:125</a></div></div>
<div class="ttc" id="aclass_routine_file_name_buffer_html"><div class="ttname"><a href="class_routine_file_name_buffer.html">RoutineFileNameBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="_external_file_buffer_8hpp_source.html#l00049">ExternalFileBuffer.hpp:50</a></div></div>
<div class="ttc" id="aclass_routine_qualified_name_html"><div class="ttname"><a href="class_routine_qualified_name.html">RoutineQualifiedName</a></div><div class="ttdef"><b>Definition:</b> <a href="_external_file_buffer_8hpp_source.html#l00133">ExternalFileBuffer.hpp:134</a></div></div>
<div class="ttc" id="aclass_stem_handler_html"><div class="ttname"><a href="class_stem_handler.html">StemHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00168">RexxUtilCommon.hpp:169</a></div></div>
<div class="ttc" id="aclass_stem_handler_html_a39a740471ea6372a6ead99b990cfb5cc"><div class="ttname"><a href="class_stem_handler.html#a39a740471ea6372a6ead99b990cfb5cc">StemHandler::complete</a></div><div class="ttdeci">void complete()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00183">RexxUtilCommon.hpp:183</a></div></div>
<div class="ttc" id="aclass_stem_handler_html_aec707e5f2b9b77459b58bfdca84a2d72"><div class="ttname"><a href="class_stem_handler.html#aec707e5f2b9b77459b58bfdca84a2d72">StemHandler::addValue</a></div><div class="ttdeci">void addValue(const char *value)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00227">RexxUtilCommon.hpp:227</a></div></div>
<div class="ttc" id="aclass_sys_file_html"><div class="ttname"><a href="class_sys_file.html">SysFile</a></div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00070">unix/SysFile.hpp:71</a></div></div>
<div class="ttc" id="aclass_sys_file_html_a48ce2e3345bf0b3d2ab875dacd326b8f"><div class="ttname"><a href="class_sys_file.html#a48ce2e3345bf0b3d2ab875dacd326b8f">SysFile::gets</a></div><div class="ttdeci">bool gets(char *buffer, size_t len, size_t &amp;bytesRead)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8cpp_source.html#l00697">unix/SysFile.cpp:697</a></div></div>
<div class="ttc" id="aclass_sys_file_html_a86c4fbec300dc5f68d7387e8621a6185"><div class="ttname"><a href="class_sys_file.html#a86c4fbec300dc5f68d7387e8621a6185">SysFile::close</a></div><div class="ttdeci">bool close()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8cpp_source.html#l00274">unix/SysFile.cpp:274</a></div></div>
<div class="ttc" id="aclass_sys_file_html_ab59bfdafd28832d21a2b239174eec299"><div class="ttname"><a href="class_sys_file.html#ab59bfdafd28832d21a2b239174eec299">SysFile::open</a></div><div class="ttdeci">bool open(const char *name, int openFlags, int openMode, int shareMode)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8cpp_source.html#l00128">unix/SysFile.cpp:128</a></div></div>
<div class="ttc" id="aclass_sys_file_html_ad1b4b4f0b7d69f8daaf33243a17916b5"><div class="ttname"><a href="class_sys_file.html#ad1b4b4f0b7d69f8daaf33243a17916b5">SysFile::write</a></div><div class="ttdeci">bool write(const char *data, size_t len, size_t &amp;bytesWritten)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8cpp_source.html#l00518">unix/SysFile.cpp:518</a></div></div>
<div class="ttc" id="aclass_sys_file_html_afbc58dba3f5409d7faa7ddfc2467a648"><div class="ttname"><a href="class_sys_file.html#afbc58dba3f5409d7faa7ddfc2467a648">SysFile::setStdOut</a></div><div class="ttdeci">void setStdOut()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8cpp_source.html#l01247">unix/SysFile.cpp:1247</a></div></div>
<div class="ttc" id="aclass_sys_file_iterator_1_1_file_attributes_html"><div class="ttname"><a href="class_sys_file_iterator_1_1_file_attributes.html">SysFileIterator::FileAttributes</a></div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8hpp_source.html#l00163">unix/SysFileSystem.hpp:164</a></div></div>
<div class="ttc" id="aclass_sys_file_iterator_1_1_file_attributes_html_a63b023af83442045539b3f50820d76ed"><div class="ttname"><a href="class_sys_file_iterator_1_1_file_attributes.html#a63b023af83442045539b3f50820d76ed">SysFileIterator::FileAttributes::isDirectory</a></div><div class="ttdeci">bool isDirectory()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8hpp_source.html#l00171">unix/SysFileSystem.hpp:171</a></div></div>
<div class="ttc" id="aclass_sys_file_iterator_html"><div class="ttname"><a href="class_sys_file_iterator.html">SysFileIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8hpp_source.html#l00156">unix/SysFileSystem.hpp:157</a></div></div>
<div class="ttc" id="aclass_sys_file_iterator_html_a1eceec79d2c57a598bbbdd10dfc81da4"><div class="ttname"><a href="class_sys_file_iterator.html#a1eceec79d2c57a598bbbdd10dfc81da4">SysFileIterator::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l01908">unix/SysFileSystem.cpp:1908</a></div></div>
<div class="ttc" id="aclass_sys_file_iterator_html_a3dd162e408c35a56ab6407608c7ab154"><div class="ttname"><a href="class_sys_file_iterator.html#a3dd162e408c35a56ab6407608c7ab154">SysFileIterator::hasNext</a></div><div class="ttdeci">bool hasNext()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l01932">unix/SysFileSystem.cpp:1932</a></div></div>
<div class="ttc" id="aclass_sys_file_iterator_html_ab20fd83c4ab838761f491c332d387382"><div class="ttname"><a href="class_sys_file_iterator.html#ab20fd83c4ab838761f491c332d387382">SysFileIterator::next</a></div><div class="ttdeci">void next(FileNameBuffer &amp;buffer, FileAttributes &amp;attributes)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l01944">unix/SysFileSystem.cpp:1944</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_a0e218432286a21e48a9fbeed655e5cee"><div class="ttname"><a href="class_sys_file_system.html#a0e218432286a21e48a9fbeed655e5cee">SysFileSystem::moveFile</a></div><div class="ttdeci">static int moveFile(const char *fromFile, const char *toFile)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l01744">unix/SysFileSystem.cpp:1744</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_a5285362313e300248657f32b782bc316"><div class="ttname"><a href="class_sys_file_system.html#a5285362313e300248657f32b782bc316">SysFileSystem::getCurrentDirectory</a></div><div class="ttdeci">static bool getCurrentDirectory(FileNameBuffer &amp;directory)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l01378">unix/SysFileSystem.cpp:1378</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_a6a41c4b0c2ff04ba1478233d423d701b"><div class="ttname"><a href="class_sys_file_system.html#a6a41c4b0c2ff04ba1478233d423d701b">SysFileSystem::getPathSeparator</a></div><div class="ttdeci">static const char * getPathSeparator()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l01354">unix/SysFileSystem.cpp:1354</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_a956e05fb8ed5d9d54a3b800f77655d00"><div class="ttname"><a href="class_sys_file_system.html#a956e05fb8ed5d9d54a3b800f77655d00">SysFileSystem::searchPath</a></div><div class="ttdeci">static bool searchPath(const char *name, const char *path, FileNameBuffer &amp;resolvedName)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l00473">unix/SysFileSystem.cpp:473</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_a9d4c0462f4c948afce736454207e7146"><div class="ttname"><a href="class_sys_file_system.html#a9d4c0462f4c948afce736454207e7146">SysFileSystem::PathDelimiter</a></div><div class="ttdeci">static const char PathDelimiter</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8hpp_source.html#l00099">unix/SysFileSystem.hpp:99</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_ab79963d7b5c5239834cbc4813f8f6fd1"><div class="ttname"><a href="class_sys_file_system.html#ab79963d7b5c5239834cbc4813f8f6fd1">SysFileSystem::deleteFile</a></div><div class="ttdeci">static int deleteFile(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l00771">unix/SysFileSystem.cpp:771</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_ab90abfbdd7dcdf622776e21f32371ba3"><div class="ttname"><a href="class_sys_file_system.html#ab90abfbdd7dcdf622776e21f32371ba3">SysFileSystem::isDirectory</a></div><div class="ttdeci">static bool isDirectory(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l00802">unix/SysFileSystem.cpp:802</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_adb998d580812a27c13a6ee316f00cd03"><div class="ttname"><a href="class_sys_file_system.html#adb998d580812a27c13a6ee316f00cd03">SysFileSystem::qualifyStreamName</a></div><div class="ttdeci">static void qualifyStreamName(const char *unqualifiedName, FileNameBuffer &amp;qualifiedName)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l00172">unix/SysFileSystem.cpp:172</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_adff4f5ceb67103485f03017d3b3b6bde"><div class="ttname"><a href="class_sys_file_system.html#adff4f5ceb67103485f03017d3b3b6bde">SysFileSystem::deleteDirectory</a></div><div class="ttdeci">static int deleteDirectory(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l00788">unix/SysFileSystem.cpp:788</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_af53b0c972ca242b539bf359fc8376ecc"><div class="ttname"><a href="class_sys_file_system.html#af53b0c972ca242b539bf359fc8376ecc">SysFileSystem::isLink</a></div><div class="ttdeci">static bool isLink(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l00910">unix/SysFileSystem.cpp:910</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_afd5106b26c6a68d9a01e3ef101665221"><div class="ttname"><a href="class_sys_file_system.html#afd5106b26c6a68d9a01e3ef101665221">SysFileSystem::exists</a></div><div class="ttdeci">static bool exists(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l00893">unix/SysFileSystem.cpp:893</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_afdbfc64abd8f4454f11a7eb58dcd8f41"><div class="ttname"><a href="class_sys_file_system.html#afdbfc64abd8f4454f11a7eb58dcd8f41">SysFileSystem::copyFile</a></div><div class="ttdeci">static int copyFile(const char *fromFile, const char *toFile)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l01728">unix/SysFileSystem.cpp:1728</a></div></div>
<div class="ttc" id="aclass_sys_file_system_html_aff112763947c164692ad49653d124474"><div class="ttname"><a href="class_sys_file_system.html#aff112763947c164692ad49653d124474">SysFileSystem::isFile</a></div><div class="ttdeci">static bool isFile(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_system_8cpp_source.html#l00877">unix/SysFileSystem.cpp:877</a></div></div>
<div class="ttc" id="aclass_sys_search_path_html"><div class="ttname"><a href="class_sys_search_path.html">SysSearchPath</a></div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_interpreter_instance_8hpp_source.html#l00076">unix/SysInterpreterInstance.hpp:77</a></div></div>
<div class="ttc" id="aclass_sys_thread_html_a4cc0b3e3ac6a8acc7bfd5ea3f94d3467"><div class="ttname"><a href="class_sys_thread.html#a4cc0b3e3ac6a8acc7bfd5ea3f94d3467">SysThread::longSleep</a></div><div class="ttdeci">static int longSleep(uint64_t microseconds)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_thread_8cpp_source.html#l00191">unix/SysThread.cpp:191</a></div></div>
<div class="ttc" id="aclass_system_interpreter_html_a76c0a3bc6ecf53d054da7a8533a29f96"><div class="ttname"><a href="class_system_interpreter.html#a76c0a3bc6ecf53d054da7a8533a29f96">SystemInterpreter::getEnvironmentVariable</a></div><div class="ttdeci">static bool getEnvironmentVariable(const char *variable, FileNameBuffer &amp;buffer)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_system_interpreter_8cpp_source.html#l00178">unix/SystemInterpreter.cpp:178</a></div></div>
<div class="ttc" id="aclass_tree_finder_1_1_attribute_mask_html"><div class="ttname"><a href="class_tree_finder_1_1_attribute_mask.html">TreeFinder::AttributeMask</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00286">RexxUtilCommon.hpp:287</a></div></div>
<div class="ttc" id="aclass_tree_finder_1_1_attribute_mask_html_a53f20d26ff0d6d46d32bd3c56337c24d"><div class="ttname"><a href="class_tree_finder_1_1_attribute_mask.html#a53f20d26ff0d6d46d32bd3c56337c24d">TreeFinder::AttributeMask::parseMask</a></div><div class="ttdeci">bool parseMask(const char *maskArg)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00305">RexxUtilCommon.hpp:305</a></div></div>
<div class="ttc" id="aclass_tree_finder_1_1_attribute_mask_html_ad6ff5ae031abc307eb391f8ca1bf72e5"><div class="ttname"><a href="class_tree_finder_1_1_attribute_mask.html#ad6ff5ae031abc307eb391f8ca1bf72e5">TreeFinder::AttributeMask::maskChars</a></div><div class="ttdeci">static const char maskChars[6]</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00358">RexxUtilCommon.hpp:358</a></div></div>
<div class="ttc" id="aclass_tree_finder_html"><div class="ttname"><a href="class_tree_finder.html">TreeFinder</a></div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00260">RexxUtilCommon.hpp:261</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a01cee7affd87e614fc6e13eb9e394418"><div class="ttname"><a href="class_tree_finder.html#a01cee7affd87e614fc6e13eb9e394418">TreeFinder::~TreeFinder</a></div><div class="ttdeci">~TreeFinder()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00331">RexxUtilCommon.cpp:331</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a062654267e068792887d5905cb97d3bc"><div class="ttname"><a href="class_tree_finder.html#a062654267e068792887d5905cb97d3bc">TreeFinder::options</a></div><div class="ttdeci">FlagSet&lt; OptionFlags, 8 &gt; options</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00411">RexxUtilCommon.hpp:411</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a0897bb32c3cb1aec21e7ee834a1db307"><div class="ttname"><a href="class_tree_finder.html#a0897bb32c3cb1aec21e7ee834a1db307">TreeFinder::goodOpts</a></div><div class="ttdeci">bool goodOpts(const char *opts)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00489">RexxUtilCommon.cpp:489</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a167c891316fbc292d7e6f26105aa13b5"><div class="ttname"><a href="class_tree_finder.html#a167c891316fbc292d7e6f26105aa13b5">TreeFinder::filePath</a></div><div class="ttdeci">RoutineFileNameBuffer filePath</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00406">RexxUtilCommon.hpp:406</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a2175a12961ace1d95854fe53f8949491"><div class="ttname"><a href="class_tree_finder.html#a2175a12961ace1d95854fe53f8949491">TreeFinder::nameSpec</a></div><div class="ttdeci">RoutineFileNameBuffer nameSpec</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00410">RexxUtilCommon.hpp:410</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a22df053b3af4a130eaddc8244dc5ceba"><div class="ttname"><a href="class_tree_finder.html#a22df053b3af4a130eaddc8244dc5ceba">TreeFinder::foundFile</a></div><div class="ttdeci">RoutineFileNameBuffer foundFile</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00408">RexxUtilCommon.hpp:408</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a249125a457591ca48c4e74854545799d"><div class="ttname"><a href="class_tree_finder.html#a249125a457591ca48c4e74854545799d">TreeFinder::findDirectoryEnd</a></div><div class="ttdeci">int findDirectoryEnd()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_rexx_util_8cpp_source.html#l00524">unix/SysRexxUtil.cpp:524</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a29ac2ab168a83e0bf61bf43f8ee1aa63"><div class="ttname"><a href="class_tree_finder.html#a29ac2ab168a83e0bf61bf43f8ee1aa63">TreeFinder::stemArray</a></div><div class="ttdeci">StemHandler stemArray</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00405">RexxUtilCommon.hpp:405</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a3739e861f7c64301134ca49ba5869d2b"><div class="ttname"><a href="class_tree_finder.html#a3739e861f7c64301134ca49ba5869d2b">TreeFinder::adjustFileSpec</a></div><div class="ttdeci">void adjustFileSpec()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_rexx_util_8cpp_source.html#l00346">unix/SysRexxUtil.cpp:346</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a41b6b5ee2c8cfbaeddc243e9fea4c966"><div class="ttname"><a href="class_tree_finder.html#a41b6b5ee2c8cfbaeddc243e9fea4c966">TreeFinder::targetAttributes</a></div><div class="ttdeci">AttributeMask targetAttributes</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00412">RexxUtilCommon.hpp:412</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a424a025278e4f4b08972a7455f9f5203"><div class="ttname"><a href="class_tree_finder.html#a424a025278e4f4b08972a7455f9f5203">TreeFinder::TreeFinderException</a></div><div class="ttdeci">TreeFinderException</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00280">RexxUtilCommon.hpp:281</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a424a025278e4f4b08972a7455f9f5203a0010a17acfe2928791fc8d7b4d2f82d5"><div class="ttname"><a href="class_tree_finder.html#a424a025278e4f4b08972a7455f9f5203a0010a17acfe2928791fc8d7b4d2f82d5">TreeFinder::InvalidFileName</a></div><div class="ttdeci">@ InvalidFileName</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00282">RexxUtilCommon.hpp:282</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a4e8c55d43ab8b2ad4ea028b41a73261d"><div class="ttname"><a href="class_tree_finder.html#a4e8c55d43ab8b2ad4ea028b41a73261d">TreeFinder::validateFileSpec</a></div><div class="ttdeci">void validateFileSpec()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00376">RexxUtilCommon.cpp:376</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a51b848da71b1b8ffe1f6f4facd467911"><div class="ttname"><a href="class_tree_finder.html#a51b848da71b1b8ffe1f6f4facd467911">TreeFinder::badSFTOptsException</a></div><div class="ttdeci">void badSFTOptsException(const char *actual)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00426">RexxUtilCommon.cpp:426</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a5c4a791393e4b768ef072d4dcf9996ada0ee10cefcc825dd522297cd936dbf929"><div class="ttname"><a href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada0ee10cefcc825dd522297cd936dbf929">TreeFinder::CASELESS</a></div><div class="ttdeci">@ CASELESS</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00272">RexxUtilCommon.hpp:272</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a5c4a791393e4b768ef072d4dcf9996ada182c9612403b358fdeb3a0e641e8b7b2"><div class="ttname"><a href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada182c9612403b358fdeb3a0e641e8b7b2">TreeFinder::DO_FILES</a></div><div class="ttdeci">@ DO_FILES</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00268">RexxUtilCommon.hpp:268</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a5c4a791393e4b768ef072d4dcf9996ada18afade0f918ea3b6def0b55840b5dbc"><div class="ttname"><a href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada18afade0f918ea3b6def0b55840b5dbc">TreeFinder::LONG_TIME</a></div><div class="ttdeci">@ LONG_TIME</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00271">RexxUtilCommon.hpp:271</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a5c4a791393e4b768ef072d4dcf9996ada1da9e0efa2799217a99634e53d75001a"><div class="ttname"><a href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada1da9e0efa2799217a99634e53d75001a">TreeFinder::DO_DIRS</a></div><div class="ttdeci">@ DO_DIRS</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00267">RexxUtilCommon.hpp:267</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a5c4a791393e4b768ef072d4dcf9996ada3fc6a10b8b8746ef0a961641253a74f6"><div class="ttname"><a href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada3fc6a10b8b8746ef0a961641253a74f6">TreeFinder::NAME_ONLY</a></div><div class="ttdeci">@ NAME_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00269">RexxUtilCommon.hpp:269</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a5c4a791393e4b768ef072d4dcf9996ada46bb247703200f180d8927391fbbdd79"><div class="ttname"><a href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada46bb247703200f180d8927391fbbdd79">TreeFinder::EDITABLE_TIME</a></div><div class="ttdeci">@ EDITABLE_TIME</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00270">RexxUtilCommon.hpp:270</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a5c4a791393e4b768ef072d4dcf9996ada5def439eb94f96788213fe6017ded753"><div class="ttname"><a href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada5def439eb94f96788213fe6017ded753">TreeFinder::LONG_SIZE</a></div><div class="ttdeci">@ LONG_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00273">RexxUtilCommon.hpp:273</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a5c4a791393e4b768ef072d4dcf9996ada93fabbbd09ac5b2e42690b651ad23d37"><div class="ttname"><a href="class_tree_finder.html#a5c4a791393e4b768ef072d4dcf9996ada93fabbbd09ac5b2e42690b651ad23d37">TreeFinder::RECURSE</a></div><div class="ttdeci">@ RECURSE</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00266">RexxUtilCommon.hpp:266</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a63157a8d75348d96b33c9082cded22f6"><div class="ttname"><a href="class_tree_finder.html#a63157a8d75348d96b33c9082cded22f6">TreeFinder::addResult</a></div><div class="ttdeci">void addResult(const char *v)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00743">RexxUtilCommon.cpp:743</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a6544e4d436b723f9a4fb61ac1d1d8bfe"><div class="ttname"><a href="class_tree_finder.html#a6544e4d436b723f9a4fb61ac1d1d8bfe">TreeFinder::parseMask</a></div><div class="ttdeci">void parseMask(const char *mask, AttributeMask &amp;flags, size_t argPos)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00404">RexxUtilCommon.cpp:404</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a6770f8b247bb95dbc230bb4fd8d18751"><div class="ttname"><a href="class_tree_finder.html#a6770f8b247bb95dbc230bb4fd8d18751">TreeFinder::validateFileSpecName</a></div><div class="ttdeci">void validateFileSpecName()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_rexx_util_8cpp_source.html#l00358">unix/SysRexxUtil.cpp:358</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a6b9cb316539b42b36237028eb8204951"><div class="ttname"><a href="class_tree_finder.html#a6b9cb316539b42b36237028eb8204951">TreeFinder::adjustDirectory</a></div><div class="ttdeci">void adjustDirectory()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_rexx_util_8cpp_source.html#l00319">unix/SysRexxUtil.cpp:319</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a74b967bebf1eed8c78641c5b06ab1117"><div class="ttname"><a href="class_tree_finder.html#a74b967bebf1eed8c78641c5b06ab1117">TreeFinder::newAttributes</a></div><div class="ttdeci">AttributeMask newAttributes</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00413">RexxUtilCommon.hpp:413</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a7a1ba14cbce90dc62de8420ae9cfed5d"><div class="ttname"><a href="class_tree_finder.html#a7a1ba14cbce90dc62de8420ae9cfed5d">TreeFinder::expandNonPath2fullPath</a></div><div class="ttdeci">void expandNonPath2fullPath()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00582">RexxUtilCommon.cpp:582</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a884278c907d466a34401f636dfc42b2d"><div class="ttname"><a href="class_tree_finder.html#a884278c907d466a34401f636dfc42b2d">TreeFinder::badMaskException</a></div><div class="ttdeci">void badMaskException(size_t pos, const char *actual)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00442">RexxUtilCommon.cpp:442</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_a8d49351cab0e5e269203d13a65b0b662"><div class="ttname"><a href="class_tree_finder.html#a8d49351cab0e5e269203d13a65b0b662">TreeFinder::findFiles</a></div><div class="ttdeci">void findFiles()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00344">RexxUtilCommon.cpp:344</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_aa0b1a5653c7e67d10dcb5ff3c07c6317"><div class="ttname"><a href="class_tree_finder.html#aa0b1a5653c7e67d10dcb5ff3c07c6317">TreeFinder::context</a></div><div class="ttdeci">RexxCallContext * context</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00404">RexxUtilCommon.hpp:404</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_abcb3969931a5aec5d196de16ddc15a07"><div class="ttname"><a href="class_tree_finder.html#abcb3969931a5aec5d196de16ddc15a07">TreeFinder::recursiveFindFile</a></div><div class="ttdeci">void recursiveFindFile(FileNameBuffer &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00662">RexxUtilCommon.cpp:662</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_acc73dc32282b020f26cf43f46c1dcdfa"><div class="ttname"><a href="class_tree_finder.html#acc73dc32282b020f26cf43f46c1dcdfa">TreeFinder::fileSpec</a></div><div class="ttdeci">RoutineFileNameBuffer fileSpec</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8hpp_source.html#l00407">RexxUtilCommon.hpp:407</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_ad22d76aa47d89fb73cb4e72306fc1dc0"><div class="ttname"><a href="class_tree_finder.html#ad22d76aa47d89fb73cb4e72306fc1dc0">TreeFinder::checkNonPathDrive</a></div><div class="ttdeci">bool checkNonPathDrive()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_rexx_util_8cpp_source.html#l00370">unix/SysRexxUtil.cpp:370</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_ad89d28086b2df157d93f798864eb47c5"><div class="ttname"><a href="class_tree_finder.html#ad89d28086b2df157d93f798864eb47c5">TreeFinder::checkFile</a></div><div class="ttdeci">void checkFile(SysFileIterator::FileAttributes &amp;attributes)</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_rexx_util_8cpp_source.html#l00477">unix/SysRexxUtil.cpp:477</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_ae0b378f6905d9b9657d9b0bf7a5afd54"><div class="ttname"><a href="class_tree_finder.html#ae0b378f6905d9b9657d9b0bf7a5afd54">TreeFinder::expandPath2fullPath</a></div><div class="ttdeci">void expandPath2fullPath(size_t lastSlashPos)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00626">RexxUtilCommon.cpp:626</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_ae868be5e940be0bf3f17477d46a02fff"><div class="ttname"><a href="class_tree_finder.html#ae868be5e940be0bf3f17477d46a02fff">TreeFinder::fixupFilePath</a></div><div class="ttdeci">void fixupFilePath()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_rexx_util_8cpp_source.html#l00543">unix/SysRexxUtil.cpp:543</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_aefd434d0cdd72e98b800f2161ea6143b"><div class="ttname"><a href="class_tree_finder.html#aefd434d0cdd72e98b800f2161ea6143b">TreeFinder::getFullPath</a></div><div class="ttdeci">void getFullPath()</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00555">RexxUtilCommon.cpp:555</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_af2bd1e02f8ccf99bbaf660848a71aac3"><div class="ttname"><a href="class_tree_finder.html#af2bd1e02f8ccf99bbaf660848a71aac3">TreeFinder::TreeFinder</a></div><div class="ttdeci">TreeFinder(RexxCallContext *c, const char *f, RexxObjectPtr sa, const char *opts, const char *targetAttr, const char *newAttr)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00311">RexxUtilCommon.cpp:311</a></div></div>
<div class="ttc" id="aclass_tree_finder_html_aff2026412a2c08527d0a3147aaed813a"><div class="ttname"><a href="class_tree_finder.html#aff2026412a2c08527d0a3147aaed813a">TreeFinder::getOptions</a></div><div class="ttdeci">void getOptions(const char *opts)</div><div class="ttdef"><b>Definition:</b> <a href="_rexx_util_common_8cpp_source.html#l00460">RexxUtilCommon.cpp:460</a></div></div>
<div class="ttc" id="aclass_utilities_html_a0b91888c4169ea518a78ba9de5393c7e"><div class="ttname"><a href="class_utilities.html#a0b91888c4169ea518a78ba9de5393c7e">Utilities::toUpper</a></div><div class="ttdeci">static char toUpper(char c)</div><div class="ttdef"><b>Definition:</b> <a href="_utilities_8hpp_source.html#l00052">Utilities.hpp:52</a></div></div>
<div class="ttc" id="aclass_utilities_html_adfe3272ee891870e30a9072e3bb4dadd"><div class="ttname"><a href="class_utilities.html#adfe3272ee891870e30a9072e3bb4dadd">Utilities::memicmp</a></div><div class="ttdeci">static int memicmp(const void *opt1, const void *opt2, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="_utilities_8cpp_source.html#l00116">Utilities.cpp:116</a></div></div>
<div class="ttc" id="acmdparse_8cpp_html_ac765329451135abec74c45e1897abf26"><div class="ttname"><a href="cmdparse_8cpp.html#ac765329451135abec74c45e1897abf26">type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="cmdparse_8cpp_source.html#l01888">cmdparse.cpp:1888</a></div></div>
<div class="ttc" id="aoorexxapi_8h_html"><div class="ttname"><a href="oorexxapi_8h.html">oorexxapi.h</a></div></div>
<div class="ttc" id="aoorexxapi_8h_html_a15c340ee5245f15f32265d54a1e5a3f5"><div class="ttname"><a href="oorexxapi_8h.html#a15c340ee5245f15f32265d54a1e5a3f5">argumentExists</a></div><div class="ttdeci">#define argumentExists(i)</div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l04274">oorexxapi.h:4274</a></div></div>
<div class="ttc" id="aoorexxapi_8h_html_a2fdcd4caf670858f48646a72cde7e620"><div class="ttname"><a href="oorexxapi_8h.html#a2fdcd4caf670858f48646a72cde7e620">REXX_INTERPRETER_4_0_0</a></div><div class="ttdeci">#define REXX_INTERPRETER_4_0_0</div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l00230">oorexxapi.h:230</a></div></div>
<div class="ttc" id="aoorexxapi_8h_html_a895bccfb4968ae24b153351beadd50f7"><div class="ttname"><a href="oorexxapi_8h.html#a895bccfb4968ae24b153351beadd50f7">argumentOmitted</a></div><div class="ttdeci">#define argumentOmitted(i)</div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l04275">oorexxapi.h:4275</a></div></div>
<div class="ttc" id="aoorexxapi_8h_html_aa3968b4fd4978493411036d07050237d"><div class="ttname"><a href="oorexxapi_8h.html#aa3968b4fd4978493411036d07050237d">REXX_LAST_ROUTINE</a></div><div class="ttdeci">#define REXX_LAST_ROUTINE()</div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l00207">oorexxapi.h:207</a></div></div>
<div class="ttc" id="aoorexxapi_8h_html_aac6f9cb24eb7a7cc0f4e041811275f72"><div class="ttname"><a href="oorexxapi_8h.html#aac6f9cb24eb7a7cc0f4e041811275f72">REXX_TYPED_ROUTINE</a></div><div class="ttdeci">#define REXX_TYPED_ROUTINE(n, e)</div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l00205">oorexxapi.h:205</a></div></div>
<div class="ttc" id="aoorexxapi_8h_html_ad0c9dd799a5ddb561472ac8968ea3705"><div class="ttname"><a href="oorexxapi_8h.html#ad0c9dd799a5ddb561472ac8968ea3705">STANDARD_PACKAGE_HEADER</a></div><div class="ttdeci">#define STANDARD_PACKAGE_HEADER</div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l00249">oorexxapi.h:249</a></div></div>
<div class="ttc" id="aoorexxerrors_8h_html_a2e34ba6b32f03ebefc4a415684900dce"><div class="ttname"><a href="oorexxerrors_8h.html#a2e34ba6b32f03ebefc4a415684900dce">Rexx_Error_Invalid_argument_range</a></div><div class="ttdeci">#define Rexx_Error_Invalid_argument_range</div><div class="ttdef"><b>Definition:</b> <a href="oorexxerrors_8h_source.html#l00464">oorexxerrors.h:464</a></div></div>
<div class="ttc" id="aoorexxerrors_8h_html_a2f4267fe115c8b5cbdce8803483e6cd7"><div class="ttname"><a href="oorexxerrors_8h.html#a2f4267fe115c8b5cbdce8803483e6cd7">Rexx_Error_Incorrect_call_pad</a></div><div class="ttdeci">#define Rexx_Error_Incorrect_call_pad</div><div class="ttdef"><b>Definition:</b> <a href="oorexxerrors_8h_source.html#l00379">oorexxerrors.h:379</a></div></div>
<div class="ttc" id="aoorexxerrors_8h_html_a35ed2dfe740ebf37de7ad4963d37ed97"><div class="ttname"><a href="oorexxerrors_8h.html#a35ed2dfe740ebf37de7ad4963d37ed97">Rexx_Error_Incorrect_call_nostem</a></div><div class="ttdeci">#define Rexx_Error_Incorrect_call_nostem</div><div class="ttdef"><b>Definition:</b> <a href="oorexxerrors_8h_source.html#l00405">oorexxerrors.h:405</a></div></div>
<div class="ttc" id="aoorexxerrors_8h_html_a4d878853d7bdfad5156aaecf60880798"><div class="ttname"><a href="oorexxerrors_8h.html#a4d878853d7bdfad5156aaecf60880798">Rexx_Error_Incorrect_call_user_defined</a></div><div class="ttdeci">#define Rexx_Error_Incorrect_call_user_defined</div><div class="ttdef"><b>Definition:</b> <a href="oorexxerrors_8h_source.html#l00392">oorexxerrors.h:392</a></div></div>
<div class="ttc" id="aoorexxerrors_8h_html_ab090a8788190e809a21bf936a569fff7"><div class="ttname"><a href="oorexxerrors_8h.html#ab090a8788190e809a21bf936a569fff7">Rexx_Error_Invalid_argument_number</a></div><div class="ttdeci">#define Rexx_Error_Invalid_argument_number</div><div class="ttdef"><b>Definition:</b> <a href="oorexxerrors_8h_source.html#l00459">oorexxerrors.h:459</a></div></div>
<div class="ttc" id="aoorexxerrors_8h_html_ad0643059f936fe5c665e617c2c41a3c7"><div class="ttname"><a href="oorexxerrors_8h.html#ad0643059f936fe5c665e617c2c41a3c7">Rexx_Error_Incorrect_call_stem_sparse_array</a></div><div class="ttdeci">#define Rexx_Error_Incorrect_call_stem_sparse_array</div><div class="ttdef"><b>Definition:</b> <a href="oorexxerrors_8h_source.html#l00410">oorexxerrors.h:410</a></div></div>
<div class="ttc" id="aoorexxerrors_8h_html_ad5f526ceb695e9a05633f511825a8d64"><div class="ttname"><a href="oorexxerrors_8h.html#ad5f526ceb695e9a05633f511825a8d64">Rexx_Error_Incorrect_call_stem_range</a></div><div class="ttdeci">#define Rexx_Error_Incorrect_call_stem_range</div><div class="ttdef"><b>Definition:</b> <a href="oorexxerrors_8h_source.html#l00409">oorexxerrors.h:409</a></div></div>
<div class="ttc" id="aoorexxerrors_8h_html_ad686451d95a5178ba526977431086e8d"><div class="ttname"><a href="oorexxerrors_8h.html#ad686451d95a5178ba526977431086e8d">Rexx_Error_Incorrect_call_external</a></div><div class="ttdeci">#define Rexx_Error_Incorrect_call_external</div><div class="ttdef"><b>Definition:</b> <a href="oorexxerrors_8h_source.html#l00368">oorexxerrors.h:368</a></div></div>
<div class="ttc" id="arexx_8h_html_a44df40d9d3e5ce5112d8d7ea17d7b532"><div class="ttname"><a href="rexx_8h.html#a44df40d9d3e5ce5112d8d7ea17d7b532">RexxLoadMacroSpace</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxLoadMacroSpace(size_t, CONSTANT_STRING *, CONSTANT_STRING)</div></div>
<div class="ttc" id="arexx_8h_html_a47198dd151af7d667b5c6066a0a65f40"><div class="ttname"><a href="rexx_8h.html#a47198dd151af7d667b5c6066a0a65f40">RexxAddMacro</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxAddMacro(CONSTANT_STRING, CONSTANT_STRING, size_t)</div></div>
<div class="ttc" id="arexx_8h_html_a581e376dc8d3b9132e29014c896b9e70"><div class="ttname"><a href="rexx_8h.html#a581e376dc8d3b9132e29014c896b9e70">CSTRING</a></div><div class="ttdeci">const char * CSTRING</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00078">rexx.h:78</a></div></div>
<div class="ttc" id="arexx_8h_html_a6092009977837102d11ed4338f9e93b5"><div class="ttname"><a href="rexx_8h.html#a6092009977837102d11ed4338f9e93b5">logical_t</a></div><div class="ttdeci">size_t logical_t</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00238">rexx.h:238</a></div></div>
<div class="ttc" id="arexx_8h_html_a64dfe004825692637e2075467179fcd9"><div class="ttname"><a href="rexx_8h.html#a64dfe004825692637e2075467179fcd9">RexxStringObject</a></div><div class="ttdeci">struct _RexxStringObject * RexxStringObject</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00134">rexx.h:134</a></div></div>
<div class="ttc" id="arexx_8h_html_a67754d7374685ba954286d7268debd80"><div class="ttname"><a href="rexx_8h.html#a67754d7374685ba954286d7268debd80">RexxArrayObject</a></div><div class="ttdeci">struct _RexxArrayObject * RexxArrayObject</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00136">rexx.h:136</a></div></div>
<div class="ttc" id="arexx_8h_html_a697908c384958f9d6e256993d81d2aaa"><div class="ttname"><a href="rexx_8h.html#a697908c384958f9d6e256993d81d2aaa">RexxSaveMacroSpace</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxSaveMacroSpace(size_t, CONSTANT_STRING *, CONSTANT_STRING)</div></div>
<div class="ttc" id="arexx_8h_html_a7b083927909eb2c01187f82602161d11"><div class="ttname"><a href="rexx_8h.html#a7b083927909eb2c01187f82602161d11">RexxBufferStringObject</a></div><div class="ttdeci">struct _RexxBufferStringObject * RexxBufferStringObject</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00135">rexx.h:135</a></div></div>
<div class="ttc" id="arexx_8h_html_a86b37abbed59199713b843efab37d3ff"><div class="ttname"><a href="rexx_8h.html#a86b37abbed59199713b843efab37d3ff">RexxQueryMacro</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxQueryMacro(CONSTANT_STRING, unsigned short *)</div></div>
<div class="ttc" id="arexx_8h_html_a96e0cc5eda42aed364b05f3c493e07e8"><div class="ttname"><a href="rexx_8h.html#a96e0cc5eda42aed364b05f3c493e07e8">RexxObjectPtr</a></div><div class="ttdeci">struct _RexxObjectPtr * RexxObjectPtr</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00133">rexx.h:133</a></div></div>
<div class="ttc" id="arexx_8h_html_a9a119fa1e31a4af78dee3c12225b240a"><div class="ttname"><a href="rexx_8h.html#a9a119fa1e31a4af78dee3c12225b240a">NULLOBJECT</a></div><div class="ttdeci">#define NULLOBJECT</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00155">rexx.h:155</a></div></div>
<div class="ttc" id="arexx_8h_html_aa00dff652e0e5e3ad962551ac22a95cb"><div class="ttname"><a href="rexx_8h.html#aa00dff652e0e5e3ad962551ac22a95cb">RexxReorderMacro</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxReorderMacro(CONSTANT_STRING, size_t)</div></div>
<div class="ttc" id="arexx_8h_html_aa0199524ada35d939fa20d4625d27d55"><div class="ttname"><a href="rexx_8h.html#aa0199524ada35d939fa20d4625d27d55">wholenumber_t</a></div><div class="ttdeci">ssize_t wholenumber_t</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00237">rexx.h:237</a></div></div>
<div class="ttc" id="arexx_8h_html_abf71fa7d361cee69069c4505bedcd394"><div class="ttname"><a href="rexx_8h.html#abf71fa7d361cee69069c4505bedcd394">RexxDirectoryObject</a></div><div class="ttdeci">struct _RexxDirectoryObject * RexxDirectoryObject</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00143">rexx.h:143</a></div></div>
<div class="ttc" id="arexx_8h_html_abfc3d846f1c0b31e27c51931f73c7389"><div class="ttname"><a href="rexx_8h.html#abfc3d846f1c0b31e27c51931f73c7389">RexxSupplierObject</a></div><div class="ttdeci">struct _RexxSupplierObject * RexxSupplierObject</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00145">rexx.h:145</a></div></div>
<div class="ttc" id="arexx_8h_html_adbc9a0d41c6b09e57c92767bc664c6e9"><div class="ttname"><a href="rexx_8h.html#adbc9a0d41c6b09e57c92767bc664c6e9">RexxClearMacroSpace</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxClearMacroSpace(void)</div><div class="ttdef"><b>Definition:</b> <a href="_macro_space_api_8cpp_source.html#l00113">MacroSpaceApi.cpp:113</a></div></div>
<div class="ttc" id="arexx_8h_html_af0e527502183c8c40a249f22f265cc8d"><div class="ttname"><a href="rexx_8h.html#af0e527502183c8c40a249f22f265cc8d">RexxDropMacro</a></div><div class="ttdeci">RexxReturnCode REXXENTRY RexxDropMacro(CONSTANT_STRING)</div></div>
<div class="ttc" id="arexx_8h_html_af481dd711e94a4b9b636f922b8cfef5c"><div class="ttname"><a href="rexx_8h.html#af481dd711e94a4b9b636f922b8cfef5c">RexxStemObject</a></div><div class="ttdeci">struct _RexxStemObject * RexxStemObject</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00146">rexx.h:146</a></div></div>
<div class="ttc" id="arexxapidefs_8h_html_a038955920fa00deca01449bad0e91f7a"><div class="ttname"><a href="rexxapidefs_8h.html#a038955920fa00deca01449bad0e91f7a">RXMACRO_SEARCH_BEFORE</a></div><div class="ttdeci">#define RXMACRO_SEARCH_BEFORE</div><div class="ttdef"><b>Definition:</b> <a href="rexxapidefs_8h_source.html#l00221">rexxapidefs.h:221</a></div></div>
<div class="ttc" id="arexxapidefs_8h_html_a58a5ae4ae5134a134de77788be1d4ba2"><div class="ttname"><a href="rexxapidefs_8h.html#a58a5ae4ae5134a134de77788be1d4ba2">RXMACRO_SEARCH_AFTER</a></div><div class="ttdeci">#define RXMACRO_SEARCH_AFTER</div><div class="ttdef"><b>Definition:</b> <a href="rexxapidefs_8h_source.html#l00222">rexxapidefs.h:222</a></div></div>
<div class="ttc" id="astruct___rexx_package_entry_html"><div class="ttname"><a href="struct___rexx_package_entry.html">_RexxPackageEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l00260">oorexxapi.h:261</a></div></div>
<div class="ttc" id="astruct___rexx_routine_entry_html"><div class="ttname"><a href="struct___rexx_routine_entry.html">_RexxRoutineEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l00190">oorexxapi.h:191</a></div></div>
<div class="ttc" id="astruct_rexx_call_context___html"><div class="ttname"><a href="struct_rexx_call_context__.html">RexxCallContext_</a></div><div class="ttdef"><b>Definition:</b> <a href="oorexxapi_8h_source.html#l02516">oorexxapi.h:2517</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a0e47e78ccdf29e3dcafec74bab8695a1"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a0e47e78ccdf29e3dcafec74bab8695a1">RX_O_WRONLY</a></div><div class="ttdeci">#define RX_O_WRONLY</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00055">unix/SysFile.hpp:55</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a0e4d18f8a0f213e2d8420dcb25b1f4a7"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a0e4d18f8a0f213e2d8420dcb25b1f4a7">RX_S_IWRITE</a></div><div class="ttdeci">#define RX_S_IWRITE</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00067">unix/SysFile.hpp:67</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a419ed61c34fd6bce28216d2ece437ff4"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a419ed61c34fd6bce28216d2ece437ff4">RX_O_APPEND</a></div><div class="ttdeci">#define RX_O_APPEND</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00060">unix/SysFile.hpp:60</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a4c7585605dc0ab0ed2730a48d4e63f51"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a4c7585605dc0ab0ed2730a48d4e63f51">RX_S_IREAD</a></div><div class="ttdeci">#define RX_S_IREAD</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00068">unix/SysFile.hpp:68</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a517ccdfde2dc2189825304291b428f42"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a517ccdfde2dc2189825304291b428f42">RX_O_RDONLY</a></div><div class="ttdeci">#define RX_O_RDONLY</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00054">unix/SysFile.hpp:54</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a58257d847f32cc235506950910167db1"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a58257d847f32cc235506950910167db1">RX_SH_DENYRW</a></div><div class="ttdeci">#define RX_SH_DENYRW</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00064">unix/SysFile.hpp:64</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_a5d6a52000f2d86a1583eeb84cea9cd16"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#a5d6a52000f2d86a1583eeb84cea9cd16">RX_SH_DENYWR</a></div><div class="ttdeci">#define RX_SH_DENYWR</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00062">unix/SysFile.hpp:62</a></div></div>
<div class="ttc" id="aunix_2_sys_file_8hpp_html_abadee9ba9f8ead6311a61002ae6fc868"><div class="ttname"><a href="unix_2_sys_file_8hpp.html#abadee9ba9f8ead6311a61002ae6fc868">RX_O_CREAT</a></div><div class="ttdeci">#define RX_O_CREAT</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_file_8hpp_source.html#l00057">unix/SysFile.hpp:57</a></div></div>
<div class="ttc" id="aunix_2_sys_rexx_util_8cpp_html_a6a24fbb8516a67c00ceb454e189be4ac"><div class="ttname"><a href="unix_2_sys_rexx_util_8cpp.html#a6a24fbb8516a67c00ceb454e189be4ac">ERROR_NOMEM</a></div><div class="ttdeci">#define ERROR_NOMEM</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_rexx_util_8cpp_source.html#l00182">unix/SysRexxUtil.cpp:182</a></div></div>
<div class="ttc" id="aunix_2rxqueue_8cpp_html_a6b8ed158971b6467633e570b4a767e5e"><div class="ttname"><a href="unix_2rxqueue_8cpp.html#a6b8ed158971b6467633e570b4a767e5e">line</a></div><div class="ttdeci">char line[LINEBUFSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="unix_2rxqueue_8cpp_source.html#l00073">unix/rxqueue.cpp:73</a></div></div>
<div class="ttc" id="awindows_2rexxapitypes_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="windows_2rexxapitypes_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="windows_2rexxapitypes_8h_source.html#l00074">windows/rexxapitypes.h:74</a></div></div>
<div class="ttc" id="awindows_2rexxapitypes_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="windows_2rexxapitypes_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="windows_2rexxapitypes_8h_source.html#l00078">windows/rexxapitypes.h:78</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b8d323c7289fed1299e6f1b6909d41b.html">oorexx</a></li><li class="navelem"><a class="el" href="dir_2dfb7423ce64cb60f62cee208bb73ae3.html">official</a></li><li class="navelem"><a class="el" href="dir_63144926d93644d0b571decfac4c5baa.html">main</a></li><li class="navelem"><a class="el" href="dir_5131a42d519b9b019d5264fc1f0fe4ab.html">trunk</a></li><li class="navelem"><a class="el" href="dir_07b471ff108ade29d714c67783960c47.html">interpreter</a></li><li class="navelem"><a class="el" href="dir_1c8d2a9910222dc36bad628c2f83b812.html">runtime</a></li><li class="navelem"><a class="el" href="_rexx_util_common_8cpp.html">RexxUtilCommon.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<!-- javascript code to insert the title in the condensed index (tabs) -->
<!-- See the function initMenu in menu.js:
     The condensed index is a list <ul> of several items <li>: Main Page, Classes, Files.
     I append a new item <li> which display the project name. -->
<script type="text/javascript">
$(function() {
  $('#main-menu').append('<li class="title" style="margin-left:3mm">ooRexx</li>')
});
</script>
<!-- end of javascript code -->
</body>
</html>
