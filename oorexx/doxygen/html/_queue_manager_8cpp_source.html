<!-- HTML header for doxygen 1.9.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ooRexx: QueueManager.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!--
    Removed completely the TITLEAREA because I don't like the loss of space.
    I want the title in the condensed index (tabs) at top of each HTML page.
    The insertion of the title is managed by javascript code in the footer,
    because this code must be executed AFTER the creation of the condensed index.
    Must have this setting to display the condensed index:
    DISABLE_INDEX = NO
-->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_queue_manager_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">QueueManager.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_queue_manager_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* Copyright (c) 1995, 2004 IBM Corporation. All rights reserved.             */</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/* Copyright (c) 2005-2024 Rexx Language Association. All rights reserved.    */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">/* This program and the accompanying materials are made available under       */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">/* the terms of the Common Public License v1.0 which accompanies this         */</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/* distribution. A copy is also available at the following address:           */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/* https://www.oorexx.org/license.html                                        */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/* Redistribution and use in source and binary forms, with or                 */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/* without modification, are permitted provided that the following            */</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">/* conditions are met:                                                        */</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/* Redistributions of source code must retain the above copyright             */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer.              */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* Redistributions in binary form must reproduce the above copyright          */</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/* notice, this list of conditions and the following disclaimer in            */</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">/* the documentation and/or other materials provided with the distribution.   */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/* Neither the name of Rexx Language Association nor the names                */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* of its contributors may be used to endorse or promote products             */</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/* derived from this software without specific prior written permission.      */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS        */</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT          */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS          */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/* FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT   */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/* OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,      */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED   */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/* TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,        */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/* OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY     */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING    */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS         */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.               */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/*                                                                            */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_queue_manager_8hpp.html">QueueManager.hpp</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_a_p_i_server_8hpp.html">APIServer.hpp</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;new&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;stdio.h&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_utilities_8hpp.html">Utilities.hpp</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_synchronized_block_8hpp.html">SynchronizedBlock.hpp</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * Set the update time for a macro item.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="class_queue_item.html#ac6afc05428ac78f06405da09da9d5215">   51</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_queue_item.html#ac6afc05428ac78f06405da09da9d5215">QueueItem::setTime</a>()</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    time_t timer = time(NULL);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keyword">struct </span>tm *time = localtime(&amp;timer);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#a1e9bf0be1108aba7e781d6a88f8ff489">year</a>           = time-&gt;tm_year;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#a6d7c05c98ca1121fe9d0c20173a474be">month</a>          = time-&gt;tm_mon;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#a55716dfeebfd51a594d175fb65aab31a">day</a>            = time-&gt;tm_mday;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#a7b4bed76d80823963923c0e71dc09d87">hours</a>          = time-&gt;tm_hour;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#ad399a3c7e40b0231e3bdf4cd54b2fdc5">minutes</a>        = time-&gt;tm_min;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#a4359734fe69ae57793f780dde36667f6">seconds</a>        = time-&gt;tm_sec;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#aa4b9b453678de3c7732a2e1927a284f8">hundredths</a>     = 0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#a004afd45f0748ebee6e4669305c002e8">microseconds</a>   = 0;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#a69cc34c9104462261b74309b155206f5">yearday</a>        = time-&gt;tm_yday;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>.<a class="code" href="struct___rexx_queue_time.html#af77e833455b2db61f563d9f6804e3597">weekday</a>        = time-&gt;tm_wday;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"> * Perform cleanup for a delete data queue.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="class_data_queue.html#ac593c93f205c22af48bf05b7c8718884">   70</a></span>&#160;<a class="code" href="class_data_queue.html#ac593c93f205c22af48bf05b7c8718884">DataQueue::~DataQueue</a>()</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="class_data_queue.html#a6c3eddc59af28efe9a168b01dbfd283f">waitSem</a>.<a class="code" href="class_sys_semaphore.html#a93cb3437378cdc63a5c6a3f00de88d7e">close</a>();     <span class="comment">// make sure our semaphore cleans up if we&#39;ve used it.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="class_data_queue.html#a6c17165f3c2c1d631ab2b67d4e6f5fea">clear</a>();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_data_queue.html#ad909648eac52e023a41eb4d0fbb3054d">queueName</a> != NULL)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keyword">delete</span> [] <a class="code" href="class_data_queue.html#ad909648eac52e023a41eb4d0fbb3054d">queueName</a>;        <span class="comment">// also delete the name</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"> * Clear all entries from the data queue.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="class_data_queue.html#a6c17165f3c2c1d631ab2b67d4e6f5fea">   83</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_data_queue.html#a6c17165f3c2c1d631ab2b67d4e6f5fea">DataQueue::clear</a>()</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// now clear the queue</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="class_queue_item.html">QueueItem</a> *item = <a class="code" href="class_data_queue.html#a5b0b4bd64bc441e18f4e0d58a2dc4f36">firstItem</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">while</span> (item != NULL)</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="comment">// move to the next one and delete</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="class_queue_item.html">QueueItem</a> *localnext = item-&gt;<a class="code" href="class_queue_item.html#a4e786fb03a73eaa30e57273bd25082b4">next</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keyword">delete</span> item;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        item = localnext;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="class_data_queue.html#a5b0b4bd64bc441e18f4e0d58a2dc4f36">firstItem</a> = NULL;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="class_data_queue.html#a472c37f2094ef18abd2b1cfc48f449fc">lastItem</a> = NULL;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="class_data_queue.html#a7aaa1a36a341d57a82191c25cb8d1cd7">itemCount</a> = 0;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"> * Process a queue add operation.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"> * @param message The service message for the add operation.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="class_data_queue.html#a59910d5d6627fbf880f4e12d391be7c0">  104</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_data_queue.html#a59910d5d6627fbf880f4e12d391be7c0">DataQueue::add</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *queueData = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)message.<a class="code" href="class_service_message.html#accf1e04c11e23d23b0e61f36b107aa1e">getMessageData</a>();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordtype">size_t</span> itemLength = message.<a class="code" href="class_service_message.html#a0d0804239539a334944fbfdaef704d1b">getMessageDataLength</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">size_t</span> order = (size_t)message.<a class="code" href="class_service_message.html#af17f4b195ffe031a3e450396b09b9e1b">parameter2</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// detach the message data from the message so the controller</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// doesn&#39;t free this.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    message.<a class="code" href="class_service_message.html#aedd78e33062c2d92842f4853d5b483d9">clearMessageData</a>();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="class_queue_item.html">QueueItem</a> *item = <span class="keyword">new</span> <a class="code" href="class_queue_item.html">QueueItem</a>(queueData, itemLength);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (order == <a class="code" href="_service_message_8hpp.html#aedbf0efa96e2651877e6744461c405f2ad658ff38c5d387e7ee2a95d7aafa860e">QUEUE_LIFO</a>)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="class_data_queue.html#af1c5ac5aa5cb03c2c5bc9494637e16d5">addLifo</a>(item);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="class_data_queue.html#a5d180e6446a869520c32432ac84e6599">addFifo</a>(item);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315af0356d65e81a34d4d2cea590c2450c1f">QUEUE_ITEM_ADDED</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"> * Add an item to a queue in LIFO order.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"> * @param item   The item to add.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="class_data_queue.html#af1c5ac5aa5cb03c2c5bc9494637e16d5">  130</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_data_queue.html#af1c5ac5aa5cb03c2c5bc9494637e16d5">DataQueue::addLifo</a>(<a class="code" href="class_queue_item.html">QueueItem</a> *item)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    item-&gt;<a class="code" href="class_queue_item.html#a4e786fb03a73eaa30e57273bd25082b4">next</a> = <a class="code" href="class_data_queue.html#a5b0b4bd64bc441e18f4e0d58a2dc4f36">firstItem</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="class_data_queue.html#a5b0b4bd64bc441e18f4e0d58a2dc4f36">firstItem</a> = item;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_data_queue.html#a472c37f2094ef18abd2b1cfc48f449fc">lastItem</a> == NULL)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="class_data_queue.html#a472c37f2094ef18abd2b1cfc48f449fc">lastItem</a> = item;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="class_data_queue.html#a7aaa1a36a341d57a82191c25cb8d1cd7">itemCount</a>++;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// make sure we notify any waiters that something has arrived.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="class_data_queue.html#a9372a55b426f13daaf5be4cd2ec8577b">checkWaiters</a>();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"> * Add an item to the queue in FIFO order.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"> * @param item   The item to add.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="class_data_queue.html#a5d180e6446a869520c32432ac84e6599">  148</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_data_queue.html#a5d180e6446a869520c32432ac84e6599">DataQueue::addFifo</a>(<a class="code" href="class_queue_item.html">QueueItem</a> *item)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_data_queue.html#a472c37f2094ef18abd2b1cfc48f449fc">lastItem</a> == NULL)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="class_data_queue.html#a5b0b4bd64bc441e18f4e0d58a2dc4f36">firstItem</a> = item;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="class_data_queue.html#a472c37f2094ef18abd2b1cfc48f449fc">lastItem</a> = item;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="class_data_queue.html#a472c37f2094ef18abd2b1cfc48f449fc">lastItem</a>-&gt;<a class="code" href="class_queue_item.html#a4e786fb03a73eaa30e57273bd25082b4">next</a> = item;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="class_data_queue.html#a472c37f2094ef18abd2b1cfc48f449fc">lastItem</a> = item;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="class_data_queue.html#a7aaa1a36a341d57a82191c25cb8d1cd7">itemCount</a>++;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// make sure we notify any waiters that something has arrived.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="class_data_queue.html#a9372a55b426f13daaf5be4cd2ec8577b">checkWaiters</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"> * Pull the first item off the queue.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment"> * @return The QueueItem at the head of the queue, or NULL if the</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"> *         queue is empty.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="class_data_queue.html#ae2cd00e14b10fb36b55b23fce4b60f9d">  172</a></span>&#160;<a class="code" href="class_queue_item.html">QueueItem</a> *<a class="code" href="class_data_queue.html#ae2cd00e14b10fb36b55b23fce4b60f9d">DataQueue::getFirst</a>()</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="class_queue_item.html">QueueItem</a> *item = <a class="code" href="class_data_queue.html#a5b0b4bd64bc441e18f4e0d58a2dc4f36">firstItem</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span> (item != NULL)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="class_data_queue.html#a5b0b4bd64bc441e18f4e0d58a2dc4f36">firstItem</a> = item-&gt;<a class="code" href="class_queue_item.html#a4e786fb03a73eaa30e57273bd25082b4">next</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_data_queue.html#a5b0b4bd64bc441e18f4e0d58a2dc4f36">firstItem</a> == NULL)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="class_data_queue.html#a472c37f2094ef18abd2b1cfc48f449fc">lastItem</a> = NULL;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="class_data_queue.html#a7aaa1a36a341d57a82191c25cb8d1cd7">itemCount</a>--;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> item;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> * Attempt to pull data from a data queue and attach it to a</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> * return message.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> * @param message The message being processed.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"> * @return true if the queue had a data item, false if it was currently</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"> *         empty.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="class_data_queue.html#a9b29154db9f5c903fca9a4abd2234a96">  197</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_data_queue.html#a9b29154db9f5c903fca9a4abd2234a96">DataQueue::pullData</a>(<a class="code" href="class_server_queue_manager.html">ServerQueueManager</a> *manager, <a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="class_lock.html">Lock</a> managerLock(manager-&gt;<a class="code" href="class_server_queue_manager.html#ab7d83882db3ce94b2a93956cb5da7d18">lock</a>);   <span class="comment">// this needs synchronization here</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// now that we have the lock, clear the wait sem unconditionally.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// this should be safe, as it is either already clear, and has waiters camped</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// on it, or it has recently been posted, and since we&#39;re going to read data,</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">// we either want it cleared for others to wait, or we&#39;re going to need to wait</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// on it ourself.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="class_data_queue.html#a6c3eddc59af28efe9a168b01dbfd283f">waitSem</a>.<a class="code" href="class_sys_semaphore.html#ab9723befb919f4bccf928829c966ce2c">reset</a>();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="class_queue_item.html">QueueItem</a> *item = <a class="code" href="class_data_queue.html#ae2cd00e14b10fb36b55b23fce4b60f9d">getFirst</a>();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// if we have an item, return it.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span> (item != NULL)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="comment">// make sure we pass the total length back</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a> = item-&gt;<a class="code" href="class_queue_item.html#a4d8c9a7645f984fcb638fa69e8c6dd69">size</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment">// copy the time stamp into the now-unused name buffer</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        memcpy(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>, &amp;item-&gt;<a class="code" href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">addTime</a>, <span class="keyword">sizeof</span>(<a class="code" href="struct___rexx_queue_time.html">RexxQueueTime</a>));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="comment">// the message will delete the queue data once it has been sent</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="comment">// back to the client.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        message.<a class="code" href="class_service_message.html#a5a0a5fcda8232085ada82428c9013ec7">setMessageData</a>((<span class="keywordtype">void</span> *)item-&gt;<a class="code" href="class_queue_item.html#a36bf033bb541f21aec62f689307a7aca">elementData</a>, item-&gt;<a class="code" href="class_queue_item.html#a4d8c9a7645f984fcb638fa69e8c6dd69">size</a>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="comment">// this data needs to be freed once the result is sent back, if we allocated it</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        message.<a class="code" href="class_service_message.html#a71def00b7a43b7ff935c8a19cf583f68">retainMessageData</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="comment">// we&#39;ve taken the data from the item, so clear it out before we delete.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        item-&gt;<a class="code" href="class_queue_item.html#aa41741fef4cb1439a1d370b6a5121aae">clear</a>();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="comment">// we&#39;re done with this, let it go.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keyword">delete</span> item;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315aaa34dda5f56afc0f957fe2c89e745df9">QUEUE_ITEM_PULLED</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">// Move along, nothing to see here....</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"> * Pull an item from the front of the queue.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"> * @param message The message from the client.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="class_data_queue.html#a646b095f867e9e9d734e11018c8ca4d6">  237</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_data_queue.html#a646b095f867e9e9d734e11018c8ca4d6">DataQueue::pull</a>(<a class="code" href="class_server_queue_manager.html">ServerQueueManager</a> *manager, <a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// this might take multiple times if we have to wait</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordtype">size_t</span> noWait = (size_t)message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// if the pull succeeded, return now.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="cmdparse_8cpp.html#ab3454b1e7e7c4c0b732dfeb74a0c040f">if</a> (<a class="code" href="class_data_queue.html#a9b29154db9f5c903fca9a4abd2234a96">pullData</a>(manager, message))</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// nowait value</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (noWait != <a class="code" href="_service_message_8hpp.html#aedbf0efa96e2651877e6744461c405f2a0864ec516317869c1a29db17638de5f5">QUEUE_WAIT_FOR_DATA</a>)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315aa1bc3b09d0779ff95f9bdf0756ab40eb">QUEUE_EMPTY</a>);    <span class="comment">// nada</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <a class="code" href="class_lock.html">Lock</a> managerLock(manager-&gt;<a class="code" href="class_server_queue_manager.html#ab7d83882db3ce94b2a93956cb5da7d18">lock</a>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="comment">// indicate we have another waiting queue</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <a class="code" href="class_data_queue.html#a4d12c0723705fdb9d20eef395a1cf465">addWaiter</a>();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="comment">// now keep looping until we actually get an item</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <a class="code" href="class_data_queue.html#a0ae8bfe6dee7963848b8a42eb1366530">waitForData</a>();</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <span class="comment">// see if this is doable now without waiting...there was a window of</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="comment">// opportunity for an item to be added.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_data_queue.html#a9b29154db9f5c903fca9a4abd2234a96">pullData</a>(manager, message))</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        <a class="code" href="class_lock.html">Lock</a> managerLock(manager-&gt;<a class="code" href="class_server_queue_manager.html#ab7d83882db3ce94b2a93956cb5da7d18">lock</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                        <span class="comment">// remove us as a waiter</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                        <a class="code" href="class_data_queue.html#a6e46e52db0999d2e8e0d9a3be71e75e4">removeWaiter</a>();</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> * locate a named data queue</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"> * @param name   The target data queue name.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"> * @return The DataQueue descriptor, or NULL if it does not</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"> *         exist.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">  290</a></span>&#160;<a class="code" href="class_data_queue.html">DataQueue</a> *<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">QueueTable::locate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *current = <a class="code" href="class_queue_table.html#aeafa1e1ceb08414f96848249355658b6">queues</a>;    <span class="comment">// start the search</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *previous = NULL;     <span class="comment">// no previous one</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">/* while more queues          */</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">while</span> (current != NULL)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="comment">// find the one we want?</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_utilities.html#a99155cc671bfd7846467c1a7fdc7fe80">Utilities::strCaselessCompare</a>(name, current-&gt;<a class="code" href="class_data_queue.html#ad909648eac52e023a41eb4d0fbb3054d">queueName</a>) == 0)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">return</span> current;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        previous = current;                <span class="comment">/* remember this block        */</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        current = current-&gt;<a class="code" href="class_data_queue.html#a0e3aaef25020ef1650b166995a83bf7d">next</a>;           <span class="comment">/* step to the next block     */</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"> * locate a named data queue, with session manager locking</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"> * @param name   The target data queue name.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"> * @return The DataQueue descriptor, or NULL if it does not</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"> *         exist.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="class_queue_table.html#a2528ba35acddd657cea0630118df41d2">  317</a></span>&#160;<a class="code" href="class_data_queue.html">DataQueue</a> *<a class="code" href="class_queue_table.html#a2528ba35acddd657cea0630118df41d2">QueueTable::synchronizedLocate</a>(<a class="code" href="class_server_queue_manager.html">ServerQueueManager</a> *manager, <span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="class_lock.html">Lock</a> managerLock(manager-&gt;<a class="code" href="class_server_queue_manager.html#ab7d83882db3ce94b2a93956cb5da7d18">lock</a>);   <span class="comment">// this needs synchronization here</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(name);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> * locate a session data queue</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"> * @param id     The session ID of the queue.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment"> * @return The DataQueue for the session, which will be created</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> *         if needed.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="class_queue_table.html#a9769fada2e815b6b14d6b350f0d3ddd7">  331</a></span>&#160;<a class="code" href="class_data_queue.html">DataQueue</a> *<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">QueueTable::locate</a>(<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *current = <a class="code" href="class_queue_table.html#aeafa1e1ceb08414f96848249355658b6">queues</a>;    <span class="comment">// start the search</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *previous = NULL;     <span class="comment">// no previous one</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">while</span> (current != NULL)         <span class="comment">// while more queues</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="comment">// find the one we want?</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">if</span> (current-&gt;<a class="code" href="class_data_queue.html#a16b8ced22c7a8f11d3ab940ee93436b8">session</a> == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">return</span> current;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        previous = current;         <span class="comment">// remember this block</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        current = current-&gt;<a class="code" href="class_data_queue.html#a0e3aaef25020ef1650b166995a83bf7d">next</a>;    <span class="comment">// to the next block</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span> NULL;                    <span class="comment">// return NULL if not located</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"> * locate a session data queue, with session manager locking</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"> * @param id     The session ID of the queue.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment"> * @return The DataQueue for the session, which will be created</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"> *         if needed.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="class_queue_table.html#a891095dfba62eda1513d4763b0c701e8">  357</a></span>&#160;<a class="code" href="class_data_queue.html">DataQueue</a> *<a class="code" href="class_queue_table.html#a2528ba35acddd657cea0630118df41d2">QueueTable::synchronizedLocate</a>(<a class="code" href="class_server_queue_manager.html">ServerQueueManager</a> *manager, <a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="class_lock.html">Lock</a> managerLock(manager-&gt;<a class="code" href="class_server_queue_manager.html#ab7d83882db3ce94b2a93956cb5da7d18">lock</a>);   <span class="comment">// this needs synchronization here</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> * locate and remove a named data queue</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"> * @param name   The queue name.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> * @return The DataQueue matching the name, or NULL if it doesn&#39;t exist.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="class_queue_table.html#a7cd275e9293f0397b7f6c237f9b4a4e9">  371</a></span>&#160;<a class="code" href="class_data_queue.html">DataQueue</a> *<a class="code" href="class_queue_table.html#a7cd275e9293f0397b7f6c237f9b4a4e9">QueueTable::remove</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *current = <a class="code" href="class_queue_table.html#aeafa1e1ceb08414f96848249355658b6">queues</a>;    <span class="comment">// start the search</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *previous = NULL;     <span class="comment">// no previous one</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">while</span> (current != NULL)              <span class="comment">/* while more queues          */</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="comment">// find the one we want?</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_utilities.html#a99155cc671bfd7846467c1a7fdc7fe80">Utilities::strCaselessCompare</a>(name, current-&gt;<a class="code" href="class_data_queue.html#ad909648eac52e023a41eb4d0fbb3054d">queueName</a>) == 0)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="comment">// move this to the front so we find it quickly</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <a class="code" href="class_queue_table.html#aee3316fe33d9ac6320f9260d684693d5">removeQueue</a>(current, previous);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordflow">return</span> current;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        previous = current;                <span class="comment">/* remember this block        */</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        current = current-&gt;<a class="code" href="class_data_queue.html#a0e3aaef25020ef1650b166995a83bf7d">next</a>;           <span class="comment">/* step to the next block     */</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"> * locate and remove a specific data queue</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment"> * @param q      The queue to remove.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="class_queue_table.html#a5fb33dccd0b50375f106879a125a5613">  397</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_queue_table.html#a7cd275e9293f0397b7f6c237f9b4a4e9">QueueTable::remove</a>(<a class="code" href="class_data_queue.html">DataQueue</a> *q)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;{</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *current = <a class="code" href="class_queue_table.html#aeafa1e1ceb08414f96848249355658b6">queues</a>;    <span class="comment">// start the search</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *previous = NULL;     <span class="comment">// no previous one</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">while</span> (current != NULL)              <span class="comment">/* while more queues          */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="comment">// find the one we want?</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">if</span> (current == q)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="comment">// move this to the front so we find it quickly</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <a class="code" href="class_queue_table.html#aee3316fe33d9ac6320f9260d684693d5">removeQueue</a>(current, previous);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        previous = current;                <span class="comment">/* remember this block        */</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        current = current-&gt;<a class="code" href="class_data_queue.html#a0e3aaef25020ef1650b166995a83bf7d">next</a>;           <span class="comment">/* step to the next block     */</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment"> * locate a session data queue</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"> * @param id     The session identifier of the queue to remove.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment"> * @return The removed queue.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="class_queue_table.html#a5cf9dce2f41f850568f070f1ed7d088f">  422</a></span>&#160;<a class="code" href="class_data_queue.html">DataQueue</a> *<a class="code" href="class_queue_table.html#a7cd275e9293f0397b7f6c237f9b4a4e9">QueueTable::remove</a>(<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *current = <a class="code" href="class_queue_table.html#aeafa1e1ceb08414f96848249355658b6">queues</a>;    <span class="comment">// start the search</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *previous = NULL;     <span class="comment">// no previous one</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">while</span> (current != NULL)         <span class="comment">// while more queues</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="comment">// find the one we want?</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">if</span> (current-&gt;<a class="code" href="class_data_queue.html#a16b8ced22c7a8f11d3ab940ee93436b8">session</a> == <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="comment">// move this to the front so we find it quickly</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <a class="code" href="class_queue_table.html#aee3316fe33d9ac6320f9260d684693d5">removeQueue</a>(current, previous);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">return</span> current;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        previous = current;         <span class="comment">// remember this block</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        current = current-&gt;<a class="code" href="class_data_queue.html#a0e3aaef25020ef1650b166995a83bf7d">next</a>;    <span class="comment">// to the next block</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    current = <span class="keyword">new</span> <a class="code" href="class_data_queue.html">DataQueue</a>(<span class="keywordtype">id</span>);    <span class="comment">// create a new session queue</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="class_queue_table.html#ae50690e5b8449be24d84b14833382398">add</a>(current);                   <span class="comment">// and add it to the table.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> current;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment"> * add a named data queue to our list.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"> * @param queue  The new queue to add.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="class_queue_table.html#ae50690e5b8449be24d84b14833382398">  450</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_queue_table.html#ae50690e5b8449be24d84b14833382398">QueueTable::add</a>(<a class="code" href="class_data_queue.html">DataQueue</a> *queue)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    queue-&gt;<a class="code" href="class_data_queue.html#a0e3aaef25020ef1650b166995a83bf7d">next</a> = <a class="code" href="class_queue_table.html#aeafa1e1ceb08414f96848249355658b6">queues</a>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="class_queue_table.html#aeafa1e1ceb08414f96848249355658b6">queues</a> = queue;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">// Add an item to the session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">// parameter1 -- length of the queue item.</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">// parameter2 -- lifo/fifo flag</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">// parameter3 -- handle of the session queue</span></div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a980da594f03f5d544bd49d21120021d6">  463</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a980da594f03f5d544bd49d21120021d6">ServerQueueManager::addToSessionQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="comment">// We can go directly to the referenced queue.</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aa86d891a517f0ffbd70bc04724d5130d">getSessionQueue</a>((<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a>)message.<a class="code" href="class_service_message.html#a403c5e7b639a329093cfc5d3d6f7ad03">parameter3</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    queue-&gt;<a class="code" href="class_data_queue.html#a59910d5d6627fbf880f4e12d391be7c0">add</a>(message);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">// Add an item to a named queue.  The message arguments have the</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">// parameter1 -- length of the queue item.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">// parameter2 -- lifo/fifo flag</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">// nameArg    -- ASCII-Z name of the queue</span></div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a1bfd25ea30c0e508d6d66209de7470d0">  476</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a1bfd25ea30c0e508d6d66209de7470d0">ServerQueueManager::addToNamedQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;{</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="comment">// this is an error</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a98e43b855b494d31d475fd051a915f88">QUEUE_DOES_NOT_EXIST</a>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">// queue exists, so add the item</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        queue-&gt;<a class="code" href="class_data_queue.html#a59910d5d6627fbf880f4e12d391be7c0">add</a>(message);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">// Pull an item from a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">// parameter1 -- NOWAIT flag, indicating whether we should wait for data</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">// parameter2 -- the ENDWAIT flat to indicate this was a waiting process</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">// parameter3 -- session queue handle</span></div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#ad8f7645da5d2133973d42e374f66d9e9">  499</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#ad8f7645da5d2133973d42e374f66d9e9">ServerQueueManager::pullFromSessionQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;{</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aa86d891a517f0ffbd70bc04724d5130d">getSessionQueue</a>((<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a>)message.<a class="code" href="class_service_message.html#a403c5e7b639a329093cfc5d3d6f7ad03">parameter3</a>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    queue-&gt;<a class="code" href="class_data_queue.html#a646b095f867e9e9d734e11018c8ca4d6">pull</a>(<span class="keyword">this</span>, message);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;}</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">// Pull an item from a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">// parameter1 -- NOWAIT flag, indicating whether we should wait for data</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">// parameter2 -- the ENDWAIT flat to indicate this was a waiting process</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">// nameArg    -- ASCII-Z name of the queue</span></div>
<div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a2a8c2acba18ca2b2c8b81f21b3711091">  512</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a2a8c2acba18ca2b2c8b81f21b3711091">ServerQueueManager::pullFromNamedQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;{</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// we&#39;re holding the lock yet, so we need to use the locate</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// method that grabs the lock first.  If we don&#39;t, then we run</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// the risk that the queue will be reordered while we&#39;re searching.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// The results will be bad, definitely very bad.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a2528ba35acddd657cea0630118df41d2">synchronizedLocate</a>(<span class="keyword">this</span>, message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment">// this is an error</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a98e43b855b494d31d475fd051a915f88">QUEUE_DOES_NOT_EXIST</a>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// queue exists, so add the item</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        queue-&gt;<a class="code" href="class_data_queue.html#a646b095f867e9e9d734e11018c8ca4d6">pull</a>(<span class="keyword">this</span>, message);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">// locate a session queue from session id.  This will create it, if necessary</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">// parameter1 -- caller&#39;s session id (replaced by queue handle on return);</span></div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#aa86d891a517f0ffbd70bc04724d5130d">  535</a></span>&#160;<a class="code" href="class_data_queue.html">DataQueue</a> *<a class="code" href="class_server_queue_manager.html#aa86d891a517f0ffbd70bc04724d5130d">ServerQueueManager::getSessionQueue</a>(<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> session)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;{</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">// this could be redundant, but if called as a result of a PULL operation,</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment">// we&#39;re not holding the lock yet.  We need to nest the call.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="class_lock.html">Lock</a> managerLock(<a class="code" href="class_server_queue_manager.html#ab7d83882db3ce94b2a93956cb5da7d18">lock</a>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#ab8218300a5896410bdc5dc6fe91d82e8">sessionQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(session);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">// this is easy, just create a new queue and add it to the table</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        queue = <span class="keyword">new</span> <a class="code" href="class_server_queue_manager.html#ae07b9499355dbedc3ac9bfc700eac418">DataQueue</a>(session);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="class_server_queue_manager.html#ab8218300a5896410bdc5dc6fe91d82e8">sessionQueues</a>.<a class="code" href="class_queue_table.html#ae50690e5b8449be24d84b14833382398">add</a>(queue);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> queue;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">// Create a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">// parameter1 -- caller&#39;s session id (replaced by queue handle on return);</span></div>
<div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a99bca4a7f0f2e7e99f237e03902f0173">  556</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#ac014e5e406f8b66e7b89564ea09a9f45">ServerQueueManager::createSessionQueue</a>(<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> session)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;{</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#ab8218300a5896410bdc5dc6fe91d82e8">sessionQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(session);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">// this is easy, just create a new queue and add it to the table</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        queue = <span class="keyword">new</span> <a class="code" href="class_server_queue_manager.html#ae07b9499355dbedc3ac9bfc700eac418">DataQueue</a>(session);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <a class="code" href="class_server_queue_manager.html#ab8218300a5896410bdc5dc6fe91d82e8">sessionQueues</a>.<a class="code" href="class_queue_table.html#ae50690e5b8449be24d84b14833382398">add</a>(queue);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// name collision...we need to update</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="comment">// we have nested usage of the session queues,</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="comment">// so we need to bump the nesting counter.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        queue-&gt;<a class="code" href="class_data_queue.html#a147494ee356ce2f973b6c2009652ae8f">addReference</a>();</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">// Create a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">// parameter1 -- caller&#39;s session id (replaced by queue handle on return);</span></div>
<div class="line"><a name="l00579"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#ac014e5e406f8b66e7b89564ea09a9f45">  579</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#ac014e5e406f8b66e7b89564ea09a9f45">ServerQueueManager::createSessionQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;{</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> session = (<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a>)message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="class_server_queue_manager.html#ac014e5e406f8b66e7b89564ea09a9f45">createSessionQueue</a>(session);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// the session id is used as the handle</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a> = (<a class="code" href="windows_2rexxapitypes_8h.html#a2f338919cf0aa5c3d87df8096b8fa972">uintptr_t</a>)session;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a2d7abee41628272b699dc5151ef3cc42">QUEUE_CREATED</a>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment"> * Create a queue with a unique name.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"> * @param message The inbound service message.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00593"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a84c693632bfab68e3bfbc034245cb06d">  593</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a84c693632bfab68e3bfbc034245cb06d">ServerQueueManager::createUniqueQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;{</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <span class="keyword">new</span> <a class="code" href="class_server_queue_manager.html#ae07b9499355dbedc3ac9bfc700eac418">DataQueue</a>();   <span class="comment">// get an anonymous queue</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="comment">// the queue pointer makes a good starting point for an anonymous tag</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="windows_2rexxapitypes_8h.html#a2f338919cf0aa5c3d87df8096b8fa972">uintptr_t</a> tag = (<a class="code" href="windows_2rexxapitypes_8h.html#a2f338919cf0aa5c3d87df8096b8fa972">uintptr_t</a>)queue;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">for</span> (;;)                   <span class="comment">// we need to loop until we get a unique one.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordtype">char</span> session[32];</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordtype">char</span> tagstring[32];</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="comment">// linux uses a 0x prefix for pointers, Windows doesn&#39;t.  Just pull off</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="comment">// the address characters without any &quot;0x&quot; prefix.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        snprintf(session, <span class="keyword">sizeof</span>(session), <span class="stringliteral">&quot;%p&quot;</span>, (<span class="keywordtype">void</span> *)message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        snprintf(tagstring, <span class="keyword">sizeof</span>(tagstring), <span class="stringliteral">&quot;%p&quot;</span>, (<span class="keywordtype">void</span> *)tag);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="comment">// message parameter1 is the session identifier.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        snprintf(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>, <a class="code" href="class_service_message.html#a9def181da845498b91a8b95a4020b471a13ad7a21807f031b7284a15a6dcc3d2f">ServiceMessage::NAMESIZE</a>, <span class="stringliteral">&quot;S%sQ%s&quot;</span>, (<span class="keywordtype">char</span> *)(session[1] == <span class="charliteral">&#39;x&#39;</span> ? session + 2 : session),</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            (<span class="keywordtype">char</span> *)(tagstring[1] == <span class="charliteral">&#39;x&#39;</span> ? tagstring + 2 : tagstring));</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>) == 0)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="comment">// set the name</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            queue-&gt;<a class="code" href="class_data_queue.html#a7328c9217c9bf5979a2d57083a74efb6">setName</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="comment">// got a good one, add it and return</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#ae50690e5b8449be24d84b14833382398">add</a>(queue);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        tag++;                   <span class="comment">// try a new number</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">// Create a named queue.  The message arguments have the</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">// parameter1 -- caller&#39;s session id, only used with duplicates</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">// nameArg    -- ASCII-Z name of the queue</span></div>
<div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a00943f8520b07ceb004fd29514e55097">  629</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a00943f8520b07ceb004fd29514e55097">ServerQueueManager::createNamedQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">// no user-specified name?</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (strlen(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>) == 0)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="comment">// create a uniquely named one</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <a class="code" href="class_server_queue_manager.html#a84c693632bfab68e3bfbc034245cb06d">createUniqueQueue</a>(message);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a2d7abee41628272b699dc5151ef3cc42">QUEUE_CREATED</a>);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="comment">// this is easy, just create a new queue and add it to the table</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        queue = <span class="keyword">new</span> <a class="code" href="class_server_queue_manager.html#ae07b9499355dbedc3ac9bfc700eac418">DataQueue</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#ae50690e5b8449be24d84b14833382398">add</a>(queue);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a2d7abee41628272b699dc5151ef3cc42">QUEUE_CREATED</a>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// name collision...we need to update</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a58b4d2c9c7587c8901a03f34e874330a">DUPLICATE_QUEUE_NAME</a>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="comment">// create a uniquely named one</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <a class="code" href="class_server_queue_manager.html#a84c693632bfab68e3bfbc034245cb06d">createUniqueQueue</a>(message);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">// Create a named queue.  The message arguments have the</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">// parameter1 -- caller&#39;s session id, only used with duplicates</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">// nameArg    -- ASCII-Z name of the queue</span></div>
<div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a135f0b7d87aa6393e4b0ac63e8e0b10f">  665</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a135f0b7d87aa6393e4b0ac63e8e0b10f">ServerQueueManager::openNamedQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;{</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="comment">// this is easy, just create a new queue and add it to the table</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        queue = <span class="keyword">new</span> <a class="code" href="class_server_queue_manager.html#ae07b9499355dbedc3ac9bfc700eac418">DataQueue</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#ae50690e5b8449be24d84b14833382398">add</a>(queue);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a2d7abee41628272b699dc5151ef3cc42">QUEUE_CREATED</a>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="comment">// indicate this already exists</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a7671d70f136fbeb29d99c0e214995908">QUEUE_EXISTS</a>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;}</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">// Query a named queue.  The message arguments have the</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">// parameter1 -- caller&#39;s session id, only used with duplicates</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">// nameArg    -- ASCII-Z name of the queue</span></div>
<div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#aa90038601753d4c734e55865f064e51a">  689</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#aa90038601753d4c734e55865f064e51a">ServerQueueManager::queryNamedQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;{</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="comment">// not here</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a98e43b855b494d31d475fd051a915f88">QUEUE_DOES_NOT_EXIST</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="comment">// indicate this already exists</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a7671d70f136fbeb29d99c0e214995908">QUEUE_EXISTS</a>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;}</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">// Increment the reference count on a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">// parameter1 -- session queue handle</span></div>
<div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a3428663863009722c8c39dd1cc1a97fa">  710</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a3428663863009722c8c39dd1cc1a97fa">ServerQueueManager::nestSessionQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;{</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> session = (<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a>)message.<a class="code" href="class_service_message.html#af17f4b195ffe031a3e450396b09b9e1b">parameter2</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="comment">// this will create one associated with the session or force it to be</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// nested if it doesn&#39;t exist</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="class_server_queue_manager.html#ac014e5e406f8b66e7b89564ea09a9f45">createSessionQueue</a>(session);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a> = (<a class="code" href="windows_2rexxapitypes_8h.html#a2f338919cf0aa5c3d87df8096b8fa972">uintptr_t</a>)session;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315aeb56fd67077ab485e48d35928772d5fb">QUEUE_OK</a>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;}</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">// Delete a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">// parameter1 -- session queue handle</span></div>
<div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a9e4c009017ea8389156defc9ba5feaee">  725</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a9e4c009017ea8389156defc9ba5feaee">ServerQueueManager::deleteSessionQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;{</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> session = (<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a>)message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aa86d891a517f0ffbd70bc04724d5130d">getSessionQueue</a>(session);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a69b2a023c406bb070cf6a8950c14fcc5">QUEUE_DELETED</a>);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">// do we have clients waiting for pull data?</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span> (queue-&gt;hasWaiters())</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a1d90cbb1156e79916aa06b5003014075">QUEUE_IN_USE</a>);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="comment">// still have references?</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (queue-&gt;removeReference() == 0)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <a class="code" href="class_server_queue_manager.html#ab8218300a5896410bdc5dc6fe91d82e8">sessionQueues</a>.<a class="code" href="class_queue_table.html#a7cd275e9293f0397b7f6c237f9b4a4e9">remove</a>(queue); <span class="comment">// remove from table and</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keyword">delete</span> queue;                <span class="comment">// delete this</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">// Delete a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">// parameter1 -- session queue handle</span></div>
<div class="line"><a name="l00748"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#ab8b9a48707d8c9ea656284cc70f54633">  748</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a9e4c009017ea8389156defc9ba5feaee">ServerQueueManager::deleteSessionQueue</a>(<a class="code" href="class_data_queue.html">DataQueue</a> *queue)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">// do we have clients waiting for pull data?</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (!queue-&gt;<a class="code" href="class_data_queue.html#ab475b86962eba60fe7686ea3e95aed41">hasWaiters</a>())</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="comment">// still have references?</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">if</span> (queue-&gt;<a class="code" href="class_data_queue.html#a947c74e501c90d880ebcc63105179a33">removeReference</a>() == 0)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <a class="code" href="class_server_queue_manager.html#ab8218300a5896410bdc5dc6fe91d82e8">sessionQueues</a>.<a class="code" href="class_queue_table.html#a7cd275e9293f0397b7f6c237f9b4a4e9">remove</a>(queue); <span class="comment">// remove from table and</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            <span class="keyword">delete</span> queue;                <span class="comment">// delete this</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">// Delete a named queue.  The message arguments have the</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">// nameArg    -- ASCII-Z name of the queue</span></div>
<div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a8309c1ceb42774e4afcbdb1ef89280b2">  766</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a8309c1ceb42774e4afcbdb1ef89280b2">ServerQueueManager::deleteNamedQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;{</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a69b2a023c406bb070cf6a8950c14fcc5">QUEUE_DELETED</a>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    {</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a98e43b855b494d31d475fd051a915f88">QUEUE_DOES_NOT_EXIST</a>);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="comment">// do we have clients waiting for pull data?</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">if</span> (queue-&gt;<a class="code" href="class_data_queue.html#ab475b86962eba60fe7686ea3e95aed41">hasWaiters</a>())</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a1d90cbb1156e79916aa06b5003014075">QUEUE_IN_USE</a>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a7cd275e9293f0397b7f6c237f9b4a4e9">remove</a>(queue);   <span class="comment">// remove the queue item</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keyword">delete</span> queue;                <span class="comment">// delete this</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">// get the count for a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">// parameter1 -- handle of the session queue (updated to queue count on return)</span></div>
<div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a65e9fbd97ed4175caa00aac7244ae648">  795</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a65e9fbd97ed4175caa00aac7244ae648">ServerQueueManager::getSessionQueueCount</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;{</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> session = (<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a>)message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aa86d891a517f0ffbd70bc04724d5130d">getSessionQueue</a>(session);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="comment">// session queues are automatically created, so we always have</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">// an item count</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a> = queue-&gt;getItemCount();</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a7671d70f136fbeb29d99c0e214995908">QUEUE_EXISTS</a>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;}</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160; </div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">// Pull an item from a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">// nameArg    -- ASCII-Z name of the queue</span></div>
<div class="line"><a name="l00810"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#abc66bede0622f656f856d521714fc5a8">  810</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#abc66bede0622f656f856d521714fc5a8">ServerQueueManager::getNamedQueueCount</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;{</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="comment">// this is an error</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a98e43b855b494d31d475fd051a915f88">QUEUE_DOES_NOT_EXIST</a>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="comment">// queue exists, so add the item</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a> = queue-&gt;<a class="code" href="class_data_queue.html#a92871afa1510cb89665aca7aebc063a9">getItemCount</a>();</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a7671d70f136fbeb29d99c0e214995908">QUEUE_EXISTS</a>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;}</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">// clear any entries from a session queue.  The message arguments have the</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">// parameter1 -- handle of the session queue (updated to queue count on return)</span></div>
<div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a0d447612067812f9357e7cfbf797b098">  832</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a0d447612067812f9357e7cfbf797b098">ServerQueueManager::clearSessionQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;{</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> session = (<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a>)message.<a class="code" href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">parameter1</a>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aa86d891a517f0ffbd70bc04724d5130d">getSessionQueue</a>(session);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="comment">// session queues are automatically created, so we always have</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="comment">// an item count</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    queue-&gt;<a class="code" href="class_data_queue.html#a6c17165f3c2c1d631ab2b67d4e6f5fea">clear</a>();</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a7671d70f136fbeb29d99c0e214995908">QUEUE_EXISTS</a>);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;}</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment">// clear any entreis from a named queue.  The message arguments have the</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">// following meanings:</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">// nameArg    -- ASCII-Z name of the queue</span></div>
<div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#af57ef616fb3cd8ff0dbc2ab3b91ef6de">  847</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#af57ef616fb3cd8ff0dbc2ab3b91ef6de">ServerQueueManager::clearNamedQueue</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;{</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">namedQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(message.<a class="code" href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">nameArg</a>);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">// not previously created?</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordflow">if</span> (queue == NULL)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="comment">// this is an error</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a98e43b855b494d31d475fd051a915f88">QUEUE_DOES_NOT_EXIST</a>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// queue exists, so add the item</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        queue-&gt;<a class="code" href="class_data_queue.html#a6c17165f3c2c1d631ab2b67d4e6f5fea">clear</a>();</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        message.<a class="code" href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">setResult</a>(<a class="code" href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a7671d70f136fbeb29d99c0e214995908">QUEUE_EXISTS</a>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;}</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment"> * Dispatch a queue manager message to the appropriate action.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment"> * @param message The inbound message from the client.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a5b75f4fecbe54cf2eff3c5b157ce00b8">  870</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a5b75f4fecbe54cf2eff3c5b157ce00b8">ServerQueueManager::dispatch</a>(<a class="code" href="class_service_message.html">ServiceMessage</a> &amp;message)</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;{</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">// the pull operations might have to wait for an item to be added,</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// so they need to control their own locking mechanisms</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span> (message.<a class="code" href="class_service_message.html#a52551b2159dec5485d9ec4d9863427e0">operation</a> == <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100ade224f642963aa3912d7439ef3ec3f70">PULL_FROM_NAMED_QUEUE</a>)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <a class="code" href="class_server_queue_manager.html#a2a8c2acba18ca2b2c8b81f21b3711091">pullFromNamedQueue</a>(message);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (message.<a class="code" href="class_service_message.html#a52551b2159dec5485d9ec4d9863427e0">operation</a> == <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aa448237cc1bb93483a44f734550cd49c">PULL_FROM_SESSION_QUEUE</a>)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="class_server_queue_manager.html#ad8f7645da5d2133973d42e374f66d9e9">pullFromSessionQueue</a>(message);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <a class="code" href="class_lock.html">Lock</a> managerLock(<a class="code" href="class_server_queue_manager.html#ab7d83882db3ce94b2a93956cb5da7d18">lock</a>);     <span class="comment">// we need to synchronize on this instance</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <span class="keywordflow">switch</span> (message.<a class="code" href="class_service_message.html#a52551b2159dec5485d9ec4d9863427e0">operation</a>)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a21ffda86e51aca1328c74c4e1d4d0c6d">NEST_SESSION_QUEUE</a>:</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                <a class="code" href="class_server_queue_manager.html#a3428663863009722c8c39dd1cc1a97fa">nestSessionQueue</a>(message);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100afd5ce17637234012ffcc66124dea112d">CREATE_SESSION_QUEUE</a>:</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                <a class="code" href="class_server_queue_manager.html#ac014e5e406f8b66e7b89564ea09a9f45">createSessionQueue</a>(message);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a24852c7e031012f6bc1536d62e06e58d">CREATE_NAMED_QUEUE</a>:</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                <a class="code" href="class_server_queue_manager.html#a00943f8520b07ceb004fd29514e55097">createNamedQueue</a>(message);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100ab63f880d0c4226f054dcca1fcf715420">OPEN_NAMED_QUEUE</a>:</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                <a class="code" href="class_server_queue_manager.html#a135f0b7d87aa6393e4b0ac63e8e0b10f">openNamedQueue</a>(message);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aa6eb60d4bb91512165da0d937a660025">QUERY_NAMED_QUEUE</a>:</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                <a class="code" href="class_server_queue_manager.html#aa90038601753d4c734e55865f064e51a">queryNamedQueue</a>(message);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aee793f7f2d222f63d07c7056edb0c761">DELETE_SESSION_QUEUE</a>:</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                <a class="code" href="class_server_queue_manager.html#a9e4c009017ea8389156defc9ba5feaee">deleteSessionQueue</a>(message);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a5b9f407e250016103a71cad97f1181a9">DELETE_NAMED_QUEUE</a>:</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                <a class="code" href="class_server_queue_manager.html#a8309c1ceb42774e4afcbdb1ef89280b2">deleteNamedQueue</a>(message);</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a1b8e5824d91db012f1fd79b41a09dbf5">GET_SESSION_QUEUE_COUNT</a>:</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                <a class="code" href="class_server_queue_manager.html#a65e9fbd97ed4175caa00aac7244ae648">getSessionQueueCount</a>(message);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100af2acc0d40b6cbd4da35d32131f111e89">GET_NAMED_QUEUE_COUNT</a>:</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                <a class="code" href="class_server_queue_manager.html#abc66bede0622f656f856d521714fc5a8">getNamedQueueCount</a>(message);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a4d0bca84a3bd6cc3cc4b2e13f7d63449">CLEAR_SESSION_QUEUE</a>:</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                <a class="code" href="class_server_queue_manager.html#a0d447612067812f9357e7cfbf797b098">clearSessionQueue</a>(message);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aeaca78f0f4893bdfc8cded2f5f664b41">CLEAR_NAMED_QUEUE</a>:</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                <a class="code" href="class_server_queue_manager.html#af57ef616fb3cd8ff0dbc2ab3b91ef6de">clearNamedQueue</a>(message);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a623f7c2faa9ff4f9b3497b0d96644e4e">ADD_TO_NAMED_QUEUE</a>:</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                <a class="code" href="class_server_queue_manager.html#a1bfd25ea30c0e508d6d66209de7470d0">addToNamedQueue</a>(message);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aa603dbdc223f9e391b7c79c61028b663">ADD_TO_SESSION_QUEUE</a>:</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                <a class="code" href="class_server_queue_manager.html#a980da594f03f5d544bd49d21120021d6">addToSessionQueue</a>(message);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                message.<a class="code" href="class_service_message.html#a0ba22b3dfaf8f10e3d8e41b3ee32a683">setExceptionInfo</a>(<a class="code" href="_service_exception_8hpp.html#a59e56af19e754a6aa26a612ebf91d05fa86c408bd7d5326c0f4a44af34412acf8">INVALID_OPERATION</a>, <span class="stringliteral">&quot;Invalid queue manager operation&quot;</span>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    }</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno"><a class="line" href="class_server_queue_manager.html#a5c16720123e0ee38ae1f3b7c42bbed34">  932</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_server_queue_manager.html#a5c16720123e0ee38ae1f3b7c42bbed34">ServerQueueManager::cleanupProcessResources</a>(<a class="code" href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a> session)</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;{</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <a class="code" href="class_data_queue.html">DataQueue</a> *queue = <a class="code" href="class_server_queue_manager.html#ab8218300a5896410bdc5dc6fe91d82e8">sessionQueues</a>.<a class="code" href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">locate</a>(session);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="comment">// if the queue exists for this session, turn this into a</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// delete request.</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">if</span> (queue != NULL)</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <a class="code" href="class_server_queue_manager.html#a9e4c009017ea8389156defc9ba5feaee">deleteSessionQueue</a>((<a class="code" href="class_data_queue.html">DataQueue</a> *)queue);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;}</div>
<div class="ttc" id="a_a_p_i_server_8hpp_html"><div class="ttname"><a href="_a_p_i_server_8hpp.html">APIServer.hpp</a></div></div>
<div class="ttc" id="a_queue_manager_8hpp_html"><div class="ttname"><a href="_queue_manager_8hpp.html">QueueManager.hpp</a></div></div>
<div class="ttc" id="a_service_exception_8hpp_html_a59e56af19e754a6aa26a612ebf91d05fa86c408bd7d5326c0f4a44af34412acf8"><div class="ttname"><a href="_service_exception_8hpp.html#a59e56af19e754a6aa26a612ebf91d05fa86c408bd7d5326c0f4a44af34412acf8">INVALID_OPERATION</a></div><div class="ttdeci">@ INVALID_OPERATION</div><div class="ttdef"><b>Definition:</b> <a href="_service_exception_8hpp_source.html#l00050">ServiceException.hpp:50</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315a1d90cbb1156e79916aa06b5003014075"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a1d90cbb1156e79916aa06b5003014075">QUEUE_IN_USE</a></div><div class="ttdeci">@ QUEUE_IN_USE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00173">ServiceMessage.hpp:173</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315a2d7abee41628272b699dc5151ef3cc42"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a2d7abee41628272b699dc5151ef3cc42">QUEUE_CREATED</a></div><div class="ttdeci">@ QUEUE_CREATED</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00168">ServiceMessage.hpp:168</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315a58b4d2c9c7587c8901a03f34e874330a"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a58b4d2c9c7587c8901a03f34e874330a">DUPLICATE_QUEUE_NAME</a></div><div class="ttdeci">@ DUPLICATE_QUEUE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00161">ServiceMessage.hpp:161</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315a69b2a023c406bb070cf6a8950c14fcc5"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a69b2a023c406bb070cf6a8950c14fcc5">QUEUE_DELETED</a></div><div class="ttdeci">@ QUEUE_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00169">ServiceMessage.hpp:169</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315a7671d70f136fbeb29d99c0e214995908"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a7671d70f136fbeb29d99c0e214995908">QUEUE_EXISTS</a></div><div class="ttdeci">@ QUEUE_EXISTS</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00170">ServiceMessage.hpp:170</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315a98e43b855b494d31d475fd051a915f88"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315a98e43b855b494d31d475fd051a915f88">QUEUE_DOES_NOT_EXIST</a></div><div class="ttdeci">@ QUEUE_DOES_NOT_EXIST</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00172">ServiceMessage.hpp:172</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315aa1bc3b09d0779ff95f9bdf0756ab40eb"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315aa1bc3b09d0779ff95f9bdf0756ab40eb">QUEUE_EMPTY</a></div><div class="ttdeci">@ QUEUE_EMPTY</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00167">ServiceMessage.hpp:167</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315aaa34dda5f56afc0f957fe2c89e745df9"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315aaa34dda5f56afc0f957fe2c89e745df9">QUEUE_ITEM_PULLED</a></div><div class="ttdeci">@ QUEUE_ITEM_PULLED</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00166">ServiceMessage.hpp:166</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315aeb56fd67077ab485e48d35928772d5fb"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315aeb56fd67077ab485e48d35928772d5fb">QUEUE_OK</a></div><div class="ttdeci">@ QUEUE_OK</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00171">ServiceMessage.hpp:171</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a11343fae1d7bc66f98693e5a36128315af0356d65e81a34d4d2cea590c2450c1f"><div class="ttname"><a href="_service_message_8hpp.html#a11343fae1d7bc66f98693e5a36128315af0356d65e81a34d4d2cea590c2450c1f">QUEUE_ITEM_ADDED</a></div><div class="ttdeci">@ QUEUE_ITEM_ADDED</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00165">ServiceMessage.hpp:165</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a21cbbdbc83907191190f76addb30a1d1"><div class="ttname"><a href="_service_message_8hpp.html#a21cbbdbc83907191190f76addb30a1d1">SessionID</a></div><div class="ttdeci">uintptr_t SessionID</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00070">ServiceMessage.hpp:70</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100a1b8e5824d91db012f1fd79b41a09dbf5"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a1b8e5824d91db012f1fd79b41a09dbf5">GET_SESSION_QUEUE_COUNT</a></div><div class="ttdeci">@ GET_SESSION_QUEUE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00112">ServiceMessage.hpp:112</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100a21ffda86e51aca1328c74c4e1d4d0c6d"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a21ffda86e51aca1328c74c4e1d4d0c6d">NEST_SESSION_QUEUE</a></div><div class="ttdeci">@ NEST_SESSION_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00107">ServiceMessage.hpp:107</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100a24852c7e031012f6bc1536d62e06e58d"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a24852c7e031012f6bc1536d62e06e58d">CREATE_NAMED_QUEUE</a></div><div class="ttdeci">@ CREATE_NAMED_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00109">ServiceMessage.hpp:109</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100a4d0bca84a3bd6cc3cc4b2e13f7d63449"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a4d0bca84a3bd6cc3cc4b2e13f7d63449">CLEAR_SESSION_QUEUE</a></div><div class="ttdeci">@ CLEAR_SESSION_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00118">ServiceMessage.hpp:118</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100a5b9f407e250016103a71cad97f1181a9"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a5b9f407e250016103a71cad97f1181a9">DELETE_NAMED_QUEUE</a></div><div class="ttdeci">@ DELETE_NAMED_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00111">ServiceMessage.hpp:111</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100a623f7c2faa9ff4f9b3497b0d96644e4e"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100a623f7c2faa9ff4f9b3497b0d96644e4e">ADD_TO_NAMED_QUEUE</a></div><div class="ttdeci">@ ADD_TO_NAMED_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00114">ServiceMessage.hpp:114</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100aa448237cc1bb93483a44f734550cd49c"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aa448237cc1bb93483a44f734550cd49c">PULL_FROM_SESSION_QUEUE</a></div><div class="ttdeci">@ PULL_FROM_SESSION_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00117">ServiceMessage.hpp:117</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100aa603dbdc223f9e391b7c79c61028b663"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aa603dbdc223f9e391b7c79c61028b663">ADD_TO_SESSION_QUEUE</a></div><div class="ttdeci">@ ADD_TO_SESSION_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00115">ServiceMessage.hpp:115</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100aa6eb60d4bb91512165da0d937a660025"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aa6eb60d4bb91512165da0d937a660025">QUERY_NAMED_QUEUE</a></div><div class="ttdeci">@ QUERY_NAMED_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00121">ServiceMessage.hpp:121</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100ab63f880d0c4226f054dcca1fcf715420"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100ab63f880d0c4226f054dcca1fcf715420">OPEN_NAMED_QUEUE</a></div><div class="ttdeci">@ OPEN_NAMED_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00120">ServiceMessage.hpp:120</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100ade224f642963aa3912d7439ef3ec3f70"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100ade224f642963aa3912d7439ef3ec3f70">PULL_FROM_NAMED_QUEUE</a></div><div class="ttdeci">@ PULL_FROM_NAMED_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00116">ServiceMessage.hpp:116</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100aeaca78f0f4893bdfc8cded2f5f664b41"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aeaca78f0f4893bdfc8cded2f5f664b41">CLEAR_NAMED_QUEUE</a></div><div class="ttdeci">@ CLEAR_NAMED_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00119">ServiceMessage.hpp:119</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100aee793f7f2d222f63d07c7056edb0c761"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100aee793f7f2d222f63d07c7056edb0c761">DELETE_SESSION_QUEUE</a></div><div class="ttdeci">@ DELETE_SESSION_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00110">ServiceMessage.hpp:110</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100af2acc0d40b6cbd4da35d32131f111e89"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100af2acc0d40b6cbd4da35d32131f111e89">GET_NAMED_QUEUE_COUNT</a></div><div class="ttdeci">@ GET_NAMED_QUEUE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00113">ServiceMessage.hpp:113</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_a4735da2827e742bd7fb769d9b9a85100afd5ce17637234012ffcc66124dea112d"><div class="ttname"><a href="_service_message_8hpp.html#a4735da2827e742bd7fb769d9b9a85100afd5ce17637234012ffcc66124dea112d">CREATE_SESSION_QUEUE</a></div><div class="ttdeci">@ CREATE_SESSION_QUEUE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00108">ServiceMessage.hpp:108</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_aedbf0efa96e2651877e6744461c405f2a0864ec516317869c1a29db17638de5f5"><div class="ttname"><a href="_service_message_8hpp.html#aedbf0efa96e2651877e6744461c405f2a0864ec516317869c1a29db17638de5f5">QUEUE_WAIT_FOR_DATA</a></div><div class="ttdeci">@ QUEUE_WAIT_FOR_DATA</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00194">ServiceMessage.hpp:194</a></div></div>
<div class="ttc" id="a_service_message_8hpp_html_aedbf0efa96e2651877e6744461c405f2ad658ff38c5d387e7ee2a95d7aafa860e"><div class="ttname"><a href="_service_message_8hpp.html#aedbf0efa96e2651877e6744461c405f2ad658ff38c5d387e7ee2a95d7aafa860e">QUEUE_LIFO</a></div><div class="ttdeci">@ QUEUE_LIFO</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00193">ServiceMessage.hpp:193</a></div></div>
<div class="ttc" id="a_synchronized_block_8hpp_html"><div class="ttname"><a href="_synchronized_block_8hpp.html">SynchronizedBlock.hpp</a></div></div>
<div class="ttc" id="a_utilities_8hpp_html"><div class="ttname"><a href="_utilities_8hpp.html">Utilities.hpp</a></div></div>
<div class="ttc" id="aclass_data_queue_html"><div class="ttname"><a href="class_data_queue.html">DataQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00090">QueueManager.hpp:91</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a0ae8bfe6dee7963848b8a42eb1366530"><div class="ttname"><a href="class_data_queue.html#a0ae8bfe6dee7963848b8a42eb1366530">DataQueue::waitForData</a></div><div class="ttdeci">void waitForData()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00144">QueueManager.hpp:144</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a0e3aaef25020ef1650b166995a83bf7d"><div class="ttname"><a href="class_data_queue.html#a0e3aaef25020ef1650b166995a83bf7d">DataQueue::next</a></div><div class="ttdeci">DataQueue * next</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00178">QueueManager.hpp:178</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a147494ee356ce2f973b6c2009652ae8f"><div class="ttname"><a href="class_data_queue.html#a147494ee356ce2f973b6c2009652ae8f">DataQueue::addReference</a></div><div class="ttdeci">void addReference()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00157">QueueManager.hpp:157</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a16b8ced22c7a8f11d3ab940ee93436b8"><div class="ttname"><a href="class_data_queue.html#a16b8ced22c7a8f11d3ab940ee93436b8">DataQueue::session</a></div><div class="ttdeci">SessionID session</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00186">QueueManager.hpp:186</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a472c37f2094ef18abd2b1cfc48f449fc"><div class="ttname"><a href="class_data_queue.html#a472c37f2094ef18abd2b1cfc48f449fc">DataQueue::lastItem</a></div><div class="ttdeci">QueueItem * lastItem</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00184">QueueManager.hpp:184</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a4d12c0723705fdb9d20eef395a1cf465"><div class="ttname"><a href="class_data_queue.html#a4d12c0723705fdb9d20eef395a1cf465">DataQueue::addWaiter</a></div><div class="ttdeci">void addWaiter()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00124">QueueManager.hpp:124</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a59910d5d6627fbf880f4e12d391be7c0"><div class="ttname"><a href="class_data_queue.html#a59910d5d6627fbf880f4e12d391be7c0">DataQueue::add</a></div><div class="ttdeci">void add(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00104">QueueManager.cpp:104</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a5b0b4bd64bc441e18f4e0d58a2dc4f36"><div class="ttname"><a href="class_data_queue.html#a5b0b4bd64bc441e18f4e0d58a2dc4f36">DataQueue::firstItem</a></div><div class="ttdeci">QueueItem * firstItem</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00183">QueueManager.hpp:183</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a5d180e6446a869520c32432ac84e6599"><div class="ttname"><a href="class_data_queue.html#a5d180e6446a869520c32432ac84e6599">DataQueue::addFifo</a></div><div class="ttdeci">void addFifo(QueueItem *item)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00148">QueueManager.cpp:148</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a646b095f867e9e9d734e11018c8ca4d6"><div class="ttname"><a href="class_data_queue.html#a646b095f867e9e9d734e11018c8ca4d6">DataQueue::pull</a></div><div class="ttdeci">void pull(ServerQueueManager *manager, ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00237">QueueManager.cpp:237</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a6c17165f3c2c1d631ab2b67d4e6f5fea"><div class="ttname"><a href="class_data_queue.html#a6c17165f3c2c1d631ab2b67d4e6f5fea">DataQueue::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00083">QueueManager.cpp:83</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a6c3eddc59af28efe9a168b01dbfd283f"><div class="ttname"><a href="class_data_queue.html#a6c3eddc59af28efe9a168b01dbfd283f">DataQueue::waitSem</a></div><div class="ttdeci">SysSemaphore waitSem</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00182">QueueManager.hpp:182</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a6e46e52db0999d2e8e0d9a3be71e75e4"><div class="ttname"><a href="class_data_queue.html#a6e46e52db0999d2e8e0d9a3be71e75e4">DataQueue::removeWaiter</a></div><div class="ttdeci">void removeWaiter()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00129">QueueManager.hpp:129</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a7328c9217c9bf5979a2d57083a74efb6"><div class="ttname"><a href="class_data_queue.html#a7328c9217c9bf5979a2d57083a74efb6">DataQueue::setName</a></div><div class="ttdeci">void setName(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00113">QueueManager.hpp:113</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a7aaa1a36a341d57a82191c25cb8d1cd7"><div class="ttname"><a href="class_data_queue.html#a7aaa1a36a341d57a82191c25cb8d1cd7">DataQueue::itemCount</a></div><div class="ttdeci">size_t itemCount</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00179">QueueManager.hpp:179</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a92871afa1510cb89665aca7aebc063a9"><div class="ttname"><a href="class_data_queue.html#a92871afa1510cb89665aca7aebc063a9">DataQueue::getItemCount</a></div><div class="ttdeci">size_t getItemCount()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00174">QueueManager.hpp:174</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a9372a55b426f13daaf5be4cd2ec8577b"><div class="ttname"><a href="class_data_queue.html#a9372a55b426f13daaf5be4cd2ec8577b">DataQueue::checkWaiters</a></div><div class="ttdeci">void checkWaiters()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00136">QueueManager.hpp:136</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a947c74e501c90d880ebcc63105179a33"><div class="ttname"><a href="class_data_queue.html#a947c74e501c90d880ebcc63105179a33">DataQueue::removeReference</a></div><div class="ttdeci">size_t removeReference()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00158">QueueManager.hpp:158</a></div></div>
<div class="ttc" id="aclass_data_queue_html_a9b29154db9f5c903fca9a4abd2234a96"><div class="ttname"><a href="class_data_queue.html#a9b29154db9f5c903fca9a4abd2234a96">DataQueue::pullData</a></div><div class="ttdeci">bool pullData(ServerQueueManager *manager, ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00197">QueueManager.cpp:197</a></div></div>
<div class="ttc" id="aclass_data_queue_html_ab475b86962eba60fe7686ea3e95aed41"><div class="ttname"><a href="class_data_queue.html#ab475b86962eba60fe7686ea3e95aed41">DataQueue::hasWaiters</a></div><div class="ttdeci">bool hasWaiters()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00149">QueueManager.hpp:149</a></div></div>
<div class="ttc" id="aclass_data_queue_html_ac593c93f205c22af48bf05b7c8718884"><div class="ttname"><a href="class_data_queue.html#ac593c93f205c22af48bf05b7c8718884">DataQueue::~DataQueue</a></div><div class="ttdeci">~DataQueue()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00070">QueueManager.cpp:70</a></div></div>
<div class="ttc" id="aclass_data_queue_html_ad909648eac52e023a41eb4d0fbb3054d"><div class="ttname"><a href="class_data_queue.html#ad909648eac52e023a41eb4d0fbb3054d">DataQueue::queueName</a></div><div class="ttdeci">const char * queueName</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00185">QueueManager.hpp:185</a></div></div>
<div class="ttc" id="aclass_data_queue_html_ae2cd00e14b10fb36b55b23fce4b60f9d"><div class="ttname"><a href="class_data_queue.html#ae2cd00e14b10fb36b55b23fce4b60f9d">DataQueue::getFirst</a></div><div class="ttdeci">QueueItem * getFirst()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00172">QueueManager.cpp:172</a></div></div>
<div class="ttc" id="aclass_data_queue_html_af1c5ac5aa5cb03c2c5bc9494637e16d5"><div class="ttname"><a href="class_data_queue.html#af1c5ac5aa5cb03c2c5bc9494637e16d5">DataQueue::addLifo</a></div><div class="ttdeci">void addLifo(QueueItem *item)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00130">QueueManager.cpp:130</a></div></div>
<div class="ttc" id="aclass_lock_html"><div class="ttname"><a href="class_lock.html">Lock</a></div><div class="ttdef"><b>Definition:</b> <a href="_synchronized_block_8hpp_source.html#l00050">SynchronizedBlock.hpp:51</a></div></div>
<div class="ttc" id="aclass_queue_item_html"><div class="ttname"><a href="class_queue_item.html">QueueItem</a></div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00049">QueueManager.hpp:50</a></div></div>
<div class="ttc" id="aclass_queue_item_html_a2a42afef810a21a7212beae342ef15da"><div class="ttname"><a href="class_queue_item.html#a2a42afef810a21a7212beae342ef15da">QueueItem::addTime</a></div><div class="ttdeci">RexxQueueTime addTime</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00087">QueueManager.hpp:87</a></div></div>
<div class="ttc" id="aclass_queue_item_html_a36bf033bb541f21aec62f689307a7aca"><div class="ttname"><a href="class_queue_item.html#a36bf033bb541f21aec62f689307a7aca">QueueItem::elementData</a></div><div class="ttdeci">const char * elementData</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00085">QueueManager.hpp:85</a></div></div>
<div class="ttc" id="aclass_queue_item_html_a4d8c9a7645f984fcb638fa69e8c6dd69"><div class="ttname"><a href="class_queue_item.html#a4d8c9a7645f984fcb638fa69e8c6dd69">QueueItem::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00086">QueueManager.hpp:86</a></div></div>
<div class="ttc" id="aclass_queue_item_html_a4e786fb03a73eaa30e57273bd25082b4"><div class="ttname"><a href="class_queue_item.html#a4e786fb03a73eaa30e57273bd25082b4">QueueItem::next</a></div><div class="ttdeci">QueueItem * next</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00084">QueueManager.hpp:84</a></div></div>
<div class="ttc" id="aclass_queue_item_html_aa41741fef4cb1439a1d370b6a5121aae"><div class="ttname"><a href="class_queue_item.html#aa41741fef4cb1439a1d370b6a5121aae">QueueItem::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00076">QueueManager.hpp:76</a></div></div>
<div class="ttc" id="aclass_queue_item_html_ac6afc05428ac78f06405da09da9d5215"><div class="ttname"><a href="class_queue_item.html#ac6afc05428ac78f06405da09da9d5215">QueueItem::setTime</a></div><div class="ttdeci">void setTime()</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00051">QueueManager.cpp:51</a></div></div>
<div class="ttc" id="aclass_queue_table_html_a22f980c2b527742d7ce50464f0bc701b"><div class="ttname"><a href="class_queue_table.html#a22f980c2b527742d7ce50464f0bc701b">QueueTable::locate</a></div><div class="ttdeci">DataQueue * locate(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00290">QueueManager.cpp:290</a></div></div>
<div class="ttc" id="aclass_queue_table_html_a2528ba35acddd657cea0630118df41d2"><div class="ttname"><a href="class_queue_table.html#a2528ba35acddd657cea0630118df41d2">QueueTable::synchronizedLocate</a></div><div class="ttdeci">DataQueue * synchronizedLocate(ServerQueueManager *manager, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00317">QueueManager.cpp:317</a></div></div>
<div class="ttc" id="aclass_queue_table_html_a7cd275e9293f0397b7f6c237f9b4a4e9"><div class="ttname"><a href="class_queue_table.html#a7cd275e9293f0397b7f6c237f9b4a4e9">QueueTable::remove</a></div><div class="ttdeci">DataQueue * remove(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00371">QueueManager.cpp:371</a></div></div>
<div class="ttc" id="aclass_queue_table_html_ae50690e5b8449be24d84b14833382398"><div class="ttname"><a href="class_queue_table.html#ae50690e5b8449be24d84b14833382398">QueueTable::add</a></div><div class="ttdeci">void add(DataQueue *queue)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00450">QueueManager.cpp:450</a></div></div>
<div class="ttc" id="aclass_queue_table_html_aeafa1e1ceb08414f96848249355658b6"><div class="ttname"><a href="class_queue_table.html#aeafa1e1ceb08414f96848249355658b6">QueueTable::queues</a></div><div class="ttdeci">DataQueue * queues</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00235">QueueManager.hpp:235</a></div></div>
<div class="ttc" id="aclass_queue_table_html_aee3316fe33d9ac6320f9260d684693d5"><div class="ttname"><a href="class_queue_table.html#aee3316fe33d9ac6320f9260d684693d5">QueueTable::removeQueue</a></div><div class="ttdeci">void removeQueue(DataQueue *current, DataQueue *previous)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00213">QueueManager.hpp:213</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html"><div class="ttname"><a href="class_server_queue_manager.html">ServerQueueManager</a></div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00239">QueueManager.hpp:240</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a00943f8520b07ceb004fd29514e55097"><div class="ttname"><a href="class_server_queue_manager.html#a00943f8520b07ceb004fd29514e55097">ServerQueueManager::createNamedQueue</a></div><div class="ttdeci">void createNamedQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00629">QueueManager.cpp:629</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a0d447612067812f9357e7cfbf797b098"><div class="ttname"><a href="class_server_queue_manager.html#a0d447612067812f9357e7cfbf797b098">ServerQueueManager::clearSessionQueue</a></div><div class="ttdeci">void clearSessionQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00832">QueueManager.cpp:832</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a135f0b7d87aa6393e4b0ac63e8e0b10f"><div class="ttname"><a href="class_server_queue_manager.html#a135f0b7d87aa6393e4b0ac63e8e0b10f">ServerQueueManager::openNamedQueue</a></div><div class="ttdeci">void openNamedQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00665">QueueManager.cpp:665</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a1bfd25ea30c0e508d6d66209de7470d0"><div class="ttname"><a href="class_server_queue_manager.html#a1bfd25ea30c0e508d6d66209de7470d0">ServerQueueManager::addToNamedQueue</a></div><div class="ttdeci">void addToNamedQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00476">QueueManager.cpp:476</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a2a8c2acba18ca2b2c8b81f21b3711091"><div class="ttname"><a href="class_server_queue_manager.html#a2a8c2acba18ca2b2c8b81f21b3711091">ServerQueueManager::pullFromNamedQueue</a></div><div class="ttdeci">void pullFromNamedQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00512">QueueManager.cpp:512</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a3428663863009722c8c39dd1cc1a97fa"><div class="ttname"><a href="class_server_queue_manager.html#a3428663863009722c8c39dd1cc1a97fa">ServerQueueManager::nestSessionQueue</a></div><div class="ttdeci">void nestSessionQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00710">QueueManager.cpp:710</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a5b75f4fecbe54cf2eff3c5b157ce00b8"><div class="ttname"><a href="class_server_queue_manager.html#a5b75f4fecbe54cf2eff3c5b157ce00b8">ServerQueueManager::dispatch</a></div><div class="ttdeci">void dispatch(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00870">QueueManager.cpp:870</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a5c16720123e0ee38ae1f3b7c42bbed34"><div class="ttname"><a href="class_server_queue_manager.html#a5c16720123e0ee38ae1f3b7c42bbed34">ServerQueueManager::cleanupProcessResources</a></div><div class="ttdeci">void cleanupProcessResources(SessionID session)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00932">QueueManager.cpp:932</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a65e9fbd97ed4175caa00aac7244ae648"><div class="ttname"><a href="class_server_queue_manager.html#a65e9fbd97ed4175caa00aac7244ae648">ServerQueueManager::getSessionQueueCount</a></div><div class="ttdeci">void getSessionQueueCount(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00795">QueueManager.cpp:795</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a8309c1ceb42774e4afcbdb1ef89280b2"><div class="ttname"><a href="class_server_queue_manager.html#a8309c1ceb42774e4afcbdb1ef89280b2">ServerQueueManager::deleteNamedQueue</a></div><div class="ttdeci">void deleteNamedQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00766">QueueManager.cpp:766</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a84c693632bfab68e3bfbc034245cb06d"><div class="ttname"><a href="class_server_queue_manager.html#a84c693632bfab68e3bfbc034245cb06d">ServerQueueManager::createUniqueQueue</a></div><div class="ttdeci">void createUniqueQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00593">QueueManager.cpp:593</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a980da594f03f5d544bd49d21120021d6"><div class="ttname"><a href="class_server_queue_manager.html#a980da594f03f5d544bd49d21120021d6">ServerQueueManager::addToSessionQueue</a></div><div class="ttdeci">void addToSessionQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00463">QueueManager.cpp:463</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_a9e4c009017ea8389156defc9ba5feaee"><div class="ttname"><a href="class_server_queue_manager.html#a9e4c009017ea8389156defc9ba5feaee">ServerQueueManager::deleteSessionQueue</a></div><div class="ttdeci">void deleteSessionQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00725">QueueManager.cpp:725</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_aa86d891a517f0ffbd70bc04724d5130d"><div class="ttname"><a href="class_server_queue_manager.html#aa86d891a517f0ffbd70bc04724d5130d">ServerQueueManager::getSessionQueue</a></div><div class="ttdeci">DataQueue * getSessionQueue(SessionID session)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00535">QueueManager.cpp:535</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_aa90038601753d4c734e55865f064e51a"><div class="ttname"><a href="class_server_queue_manager.html#aa90038601753d4c734e55865f064e51a">ServerQueueManager::queryNamedQueue</a></div><div class="ttdeci">void queryNamedQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00689">QueueManager.cpp:689</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_ab7d83882db3ce94b2a93956cb5da7d18"><div class="ttname"><a href="class_server_queue_manager.html#ab7d83882db3ce94b2a93956cb5da7d18">ServerQueueManager::lock</a></div><div class="ttdeci">SysMutex lock</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00277">QueueManager.hpp:277</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_ab8218300a5896410bdc5dc6fe91d82e8"><div class="ttname"><a href="class_server_queue_manager.html#ab8218300a5896410bdc5dc6fe91d82e8">ServerQueueManager::sessionQueues</a></div><div class="ttdeci">QueueTable sessionQueues</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00276">QueueManager.hpp:276</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_abc66bede0622f656f856d521714fc5a8"><div class="ttname"><a href="class_server_queue_manager.html#abc66bede0622f656f856d521714fc5a8">ServerQueueManager::getNamedQueueCount</a></div><div class="ttdeci">void getNamedQueueCount(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00810">QueueManager.cpp:810</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_ac014e5e406f8b66e7b89564ea09a9f45"><div class="ttname"><a href="class_server_queue_manager.html#ac014e5e406f8b66e7b89564ea09a9f45">ServerQueueManager::createSessionQueue</a></div><div class="ttdeci">void createSessionQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00579">QueueManager.cpp:579</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_ad8f7645da5d2133973d42e374f66d9e9"><div class="ttname"><a href="class_server_queue_manager.html#ad8f7645da5d2133973d42e374f66d9e9">ServerQueueManager::pullFromSessionQueue</a></div><div class="ttdeci">void pullFromSessionQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00499">QueueManager.cpp:499</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_ae07b9499355dbedc3ac9bfc700eac418"><div class="ttname"><a href="class_server_queue_manager.html#ae07b9499355dbedc3ac9bfc700eac418">ServerQueueManager::DataQueue</a></div><div class="ttdeci">friend class DataQueue</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00241">QueueManager.hpp:241</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_aee61e3e31ccf42052a5e54d18fdd862c"><div class="ttname"><a href="class_server_queue_manager.html#aee61e3e31ccf42052a5e54d18fdd862c">ServerQueueManager::namedQueues</a></div><div class="ttdeci">QueueTable namedQueues</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8hpp_source.html#l00275">QueueManager.hpp:275</a></div></div>
<div class="ttc" id="aclass_server_queue_manager_html_af57ef616fb3cd8ff0dbc2ab3b91ef6de"><div class="ttname"><a href="class_server_queue_manager.html#af57ef616fb3cd8ff0dbc2ab3b91ef6de">ServerQueueManager::clearNamedQueue</a></div><div class="ttdeci">void clearNamedQueue(ServiceMessage &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="_queue_manager_8cpp_source.html#l00847">QueueManager.cpp:847</a></div></div>
<div class="ttc" id="aclass_service_message_html"><div class="ttname"><a href="class_service_message.html">ServiceMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00280">ServiceMessage.hpp:281</a></div></div>
<div class="ttc" id="aclass_service_message_html_a0ba22b3dfaf8f10e3d8e41b3ee32a683"><div class="ttname"><a href="class_service_message.html#a0ba22b3dfaf8f10e3d8e41b3ee32a683">ServiceMessage::setExceptionInfo</a></div><div class="ttdeci">void setExceptionInfo(ErrorCode error, const char *message)</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00297">ServiceMessage.hpp:297</a></div></div>
<div class="ttc" id="aclass_service_message_html_a0d0804239539a334944fbfdaef704d1b"><div class="ttname"><a href="class_service_message.html#a0d0804239539a334944fbfdaef704d1b">ServiceMessage::getMessageDataLength</a></div><div class="ttdeci">size_t getMessageDataLength()</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00342">ServiceMessage.hpp:342</a></div></div>
<div class="ttc" id="aclass_service_message_html_a403c5e7b639a329093cfc5d3d6f7ad03"><div class="ttname"><a href="class_service_message.html#a403c5e7b639a329093cfc5d3d6f7ad03">ServiceMessage::parameter3</a></div><div class="ttdeci">uintptr_t parameter3</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00411">ServiceMessage.hpp:411</a></div></div>
<div class="ttc" id="aclass_service_message_html_a52551b2159dec5485d9ec4d9863427e0"><div class="ttname"><a href="class_service_message.html#a52551b2159dec5485d9ec4d9863427e0">ServiceMessage::operation</a></div><div class="ttdeci">ServerOperation operation</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00407">ServiceMessage.hpp:407</a></div></div>
<div class="ttc" id="aclass_service_message_html_a5a0a5fcda8232085ada82428c9013ec7"><div class="ttname"><a href="class_service_message.html#a5a0a5fcda8232085ada82428c9013ec7">ServiceMessage::setMessageData</a></div><div class="ttdeci">void setMessageData(void *data, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00364">ServiceMessage.hpp:364</a></div></div>
<div class="ttc" id="aclass_service_message_html_a717c750434c201f24f8464f19252f8b6"><div class="ttname"><a href="class_service_message.html#a717c750434c201f24f8464f19252f8b6">ServiceMessage::nameArg</a></div><div class="ttdeci">char nameArg[NAMESIZE]</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00419">ServiceMessage.hpp:419</a></div></div>
<div class="ttc" id="aclass_service_message_html_a71def00b7a43b7ff935c8a19cf583f68"><div class="ttname"><a href="class_service_message.html#a71def00b7a43b7ff935c8a19cf583f68">ServiceMessage::retainMessageData</a></div><div class="ttdeci">bool retainMessageData</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00418">ServiceMessage.hpp:418</a></div></div>
<div class="ttc" id="aclass_service_message_html_a9def181da845498b91a8b95a4020b471a13ad7a21807f031b7284a15a6dcc3d2f"><div class="ttname"><a href="class_service_message.html#a9def181da845498b91a8b95a4020b471a13ad7a21807f031b7284a15a6dcc3d2f">ServiceMessage::NAMESIZE</a></div><div class="ttdeci">@ NAMESIZE</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00286">ServiceMessage.hpp:285</a></div></div>
<div class="ttc" id="aclass_service_message_html_aac5450e2a3fd3ded1ac8e482a4db2d7b"><div class="ttname"><a href="class_service_message.html#aac5450e2a3fd3ded1ac8e482a4db2d7b">ServiceMessage::parameter1</a></div><div class="ttdeci">uintptr_t parameter1</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00409">ServiceMessage.hpp:409</a></div></div>
<div class="ttc" id="aclass_service_message_html_ac1dfefd5b0da4045959fb557f3587e01"><div class="ttname"><a href="class_service_message.html#ac1dfefd5b0da4045959fb557f3587e01">ServiceMessage::setResult</a></div><div class="ttdeci">void setResult(ServiceReturn code)</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00291">ServiceMessage.hpp:291</a></div></div>
<div class="ttc" id="aclass_service_message_html_accf1e04c11e23d23b0e61f36b107aa1e"><div class="ttname"><a href="class_service_message.html#accf1e04c11e23d23b0e61f36b107aa1e">ServiceMessage::getMessageData</a></div><div class="ttdeci">void * getMessageData()</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00341">ServiceMessage.hpp:341</a></div></div>
<div class="ttc" id="aclass_service_message_html_aedd78e33062c2d92842f4853d5b483d9"><div class="ttname"><a href="class_service_message.html#aedd78e33062c2d92842f4853d5b483d9">ServiceMessage::clearMessageData</a></div><div class="ttdeci">void clearMessageData()</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00334">ServiceMessage.hpp:334</a></div></div>
<div class="ttc" id="aclass_service_message_html_af17f4b195ffe031a3e450396b09b9e1b"><div class="ttname"><a href="class_service_message.html#af17f4b195ffe031a3e450396b09b9e1b">ServiceMessage::parameter2</a></div><div class="ttdeci">uintptr_t parameter2</div><div class="ttdef"><b>Definition:</b> <a href="_service_message_8hpp_source.html#l00410">ServiceMessage.hpp:410</a></div></div>
<div class="ttc" id="aclass_sys_semaphore_html_a93cb3437378cdc63a5c6a3f00de88d7e"><div class="ttname"><a href="class_sys_semaphore.html#a93cb3437378cdc63a5c6a3f00de88d7e">SysSemaphore::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_semaphore_8cpp_source.html#l00217">unix/SysSemaphore.cpp:217</a></div></div>
<div class="ttc" id="aclass_sys_semaphore_html_ab9723befb919f4bccf928829c966ce2c"><div class="ttname"><a href="class_sys_semaphore.html#ab9723befb919f4bccf928829c966ce2c">SysSemaphore::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="unix_2_sys_semaphore_8cpp_source.html#l00310">unix/SysSemaphore.cpp:310</a></div></div>
<div class="ttc" id="aclass_utilities_html_a99155cc671bfd7846467c1a7fdc7fe80"><div class="ttname"><a href="class_utilities.html#a99155cc671bfd7846467c1a7fdc7fe80">Utilities::strCaselessCompare</a></div><div class="ttdeci">static int strCaselessCompare(const char *opt1, const char *opt2)</div><div class="ttdef"><b>Definition:</b> <a href="_utilities_8cpp_source.html#l00091">Utilities.cpp:91</a></div></div>
<div class="ttc" id="acmdparse_8cpp_html_ab3454b1e7e7c4c0b732dfeb74a0c040f"><div class="ttname"><a href="cmdparse_8cpp.html#ab3454b1e7e7c4c0b732dfeb74a0c040f">if</a></div><div class="ttdeci">if(!yymsg) yymsg</div></div>
<div class="ttc" id="astruct___rexx_queue_time_html"><div class="ttname"><a href="struct___rexx_queue_time.html">_RexxQueueTime</a></div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00245">rexx.h:245</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_a004afd45f0748ebee6e4669305c002e8"><div class="ttname"><a href="struct___rexx_queue_time.html#a004afd45f0748ebee6e4669305c002e8">_RexxQueueTime::microseconds</a></div><div class="ttdeci">uint32_t microseconds</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00254">rexx.h:254</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_a1e9bf0be1108aba7e781d6a88f8ff489"><div class="ttname"><a href="struct___rexx_queue_time.html#a1e9bf0be1108aba7e781d6a88f8ff489">_RexxQueueTime::year</a></div><div class="ttdeci">uint16_t year</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00252">rexx.h:252</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_a4359734fe69ae57793f780dde36667f6"><div class="ttname"><a href="struct___rexx_queue_time.html#a4359734fe69ae57793f780dde36667f6">_RexxQueueTime::seconds</a></div><div class="ttdeci">uint16_t seconds</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00248">rexx.h:248</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_a55716dfeebfd51a594d175fb65aab31a"><div class="ttname"><a href="struct___rexx_queue_time.html#a55716dfeebfd51a594d175fb65aab31a">_RexxQueueTime::day</a></div><div class="ttdeci">uint16_t day</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00250">rexx.h:250</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_a69cc34c9104462261b74309b155206f5"><div class="ttname"><a href="struct___rexx_queue_time.html#a69cc34c9104462261b74309b155206f5">_RexxQueueTime::yearday</a></div><div class="ttdeci">uint32_t yearday</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00255">rexx.h:255</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_a6d7c05c98ca1121fe9d0c20173a474be"><div class="ttname"><a href="struct___rexx_queue_time.html#a6d7c05c98ca1121fe9d0c20173a474be">_RexxQueueTime::month</a></div><div class="ttdeci">uint16_t month</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00251">rexx.h:251</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_a7b4bed76d80823963923c0e71dc09d87"><div class="ttname"><a href="struct___rexx_queue_time.html#a7b4bed76d80823963923c0e71dc09d87">_RexxQueueTime::hours</a></div><div class="ttdeci">uint16_t hours</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00246">rexx.h:246</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_aa4b9b453678de3c7732a2e1927a284f8"><div class="ttname"><a href="struct___rexx_queue_time.html#aa4b9b453678de3c7732a2e1927a284f8">_RexxQueueTime::hundredths</a></div><div class="ttdeci">uint16_t hundredths</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00249">rexx.h:249</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_ad399a3c7e40b0231e3bdf4cd54b2fdc5"><div class="ttname"><a href="struct___rexx_queue_time.html#ad399a3c7e40b0231e3bdf4cd54b2fdc5">_RexxQueueTime::minutes</a></div><div class="ttdeci">uint16_t minutes</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00247">rexx.h:247</a></div></div>
<div class="ttc" id="astruct___rexx_queue_time_html_af77e833455b2db61f563d9f6804e3597"><div class="ttname"><a href="struct___rexx_queue_time.html#af77e833455b2db61f563d9f6804e3597">_RexxQueueTime::weekday</a></div><div class="ttdeci">uint16_t weekday</div><div class="ttdef"><b>Definition:</b> <a href="rexx_8h_source.html#l00253">rexx.h:253</a></div></div>
<div class="ttc" id="awindows_2rexxapitypes_8h_html_a2f338919cf0aa5c3d87df8096b8fa972"><div class="ttname"><a href="windows_2rexxapitypes_8h.html#a2f338919cf0aa5c3d87df8096b8fa972">uintptr_t</a></div><div class="ttdeci">UINT_PTR uintptr_t</div><div class="ttdef"><b>Definition:</b> <a href="windows_2rexxapitypes_8h_source.html#l00050">windows/rexxapitypes.h:50</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2b8d323c7289fed1299e6f1b6909d41b.html">oorexx</a></li><li class="navelem"><a class="el" href="dir_2dfb7423ce64cb60f62cee208bb73ae3.html">official</a></li><li class="navelem"><a class="el" href="dir_63144926d93644d0b571decfac4c5baa.html">main</a></li><li class="navelem"><a class="el" href="dir_5131a42d519b9b019d5264fc1f0fe4ab.html">trunk</a></li><li class="navelem"><a class="el" href="dir_c37b87fb96506b09d4192068d8670db1.html">rexxapi</a></li><li class="navelem"><a class="el" href="dir_c78fd466b49f385cad2869e6584c7eda.html">server</a></li><li class="navelem"><a class="el" href="_queue_manager_8cpp.html">QueueManager.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
<!-- javascript code to insert the title in the condensed index (tabs) -->
<!-- See the function initMenu in menu.js:
     The condensed index is a list <ul> of several items <li>: Main Page, Classes, Files.
     I append a new item <li> which display the project name. -->
<script type="text/javascript">
$(function() {
  $('#main-menu').append('<li class="title" style="margin-left:3mm">ooRexx</li>')
});
</script>
<!-- end of javascript code -->
</body>
</html>
